var _azerionIntegration={gdId:"db1820b13aaf424f89230c60b221e711",alxType:"std",advType:"gd",af:!1,sa:!1,la:!1,bd:8,playBtn:!0,build:{version:"tc-31",timeStamp:1686816482148,h:"e12507c0"}};var libs=[];var enableAnalytics;var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};var PhaserCachebuster;!function(PhaserCachebuster){var CacheBuster=function(_super){function CacheBuster(game,parent){var game=_super.call(this,game,parent)||this;return game.patchLoader(),game}return __extends(CacheBuster,_super),CacheBuster.prototype.patchLoader=function(){Object.defineProperty(Phaser.Loader,"cacheBuster",{value:null}),Phaser.Loader.prototype.transformUrl=function(url,file){return url?(null!==this.cacheBuster&&null===url.match(/^(data:)/)&&(url+="?v="+this.cacheBuster),url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?url:this.baseURL+file.path+url):""}},CacheBuster}(Phaser.Plugin);PhaserCachebuster.CacheBuster=CacheBuster}(PhaserCachebuster=PhaserCachebuster||{});var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])});return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();var PhaserInput;var PhaserInput;var PhaserInput;var PhaserInput;var PhaserInput;var PhaserInput;!function(PhaserInput){var InputType;!function(InputType){InputType[InputType.text=0]="text",InputType[InputType.password=1]="password",InputType[InputType.number=2]="number"}(InputType=PhaserInput.InputType||(PhaserInput.InputType={}));var InputElement=function(){function InputElement(game,id,type,value,focusIn,focusOut){void 0===type&&(type=InputType.text),void 0===value&&(value="");var _this=this;this.id=id,this.type=type,this.game=game,this.focusIn=focusIn,this.focusOut=focusOut;var value=this.game.canvas.getBoundingClientRect().top+document.body.scrollTop;this.element=document.createElement("input"),this.element.id=id,this.element.style.position="absolute",this.element.style.top=value+"px",this.element.style.left=(-40).toString()+"px",this.element.style.width=10..toString()+"px",this.element.style.height=10..toString()+"px",this.element.style.border="0px",this.element.value=this.value,this.element.type=InputType[type],this.element.addEventListener("focusin",function(){_this.focusIn instanceof Phaser.Signal&&_this.focusIn.dispatch()}),this.element.addEventListener("focusout",function(){_this.focusOut instanceof Phaser.Signal&&_this.focusOut.dispatch()}),document.body.appendChild(this.element)}return InputElement.prototype.addKeyUpListener=function(callback){this.keyUpCallback=callback,document.addEventListener("keyup",this.keyUpCallback),this.element.addEventListener("input",this.keyUpCallback)},InputElement.prototype.blockKeyDownEvents=function(){document.addEventListener("keydown",this.preventKeyPropagation)},InputElement.prototype.preventKeyPropagation=function(evt){evt.stopPropagation?evt.stopPropagation():event.cancelBubble=!0},InputElement.prototype.unblockKeyDownEvents=function(){document.removeEventListener("keydown",this.preventKeyPropagation)},InputElement.prototype.removeEventListener=function(){document.removeEventListener("keyup",this.keyUpCallback),this.element.removeEventListener("input",this.keyUpCallback)},InputElement.prototype.destroy=function(){document.body.removeChild(this.element)},InputElement.prototype.setMax=function(max,min){void 0!==max&&(this.type===InputType.text||this.type===InputType.password?this.element.maxLength=parseInt(max,10):this.type===InputType.number&&(this.element.max=max,void 0!==min)&&(this.element.min=min))},Object.defineProperty(InputElement.prototype,"value",{get:function(){return this.element.value},set:function(value){this.element.value=value},enumerable:!0,configurable:!0}),InputElement.prototype.focus=function(){var _this=this;var originalWidth_1,originalHeight_1,kbAppeared_1,interval_1;this.element.focus(),!this.game.device.desktop&&this.game.device.chrome&&(originalWidth_1=window.innerWidth,originalHeight_1=window.innerHeight,kbAppeared_1=!1,interval_1=setInterval(function(){(kbAppeared_1=originalWidth_1>window.innerWidth||originalHeight_1>window.innerHeight?!0:kbAppeared_1)&&originalWidth_1===window.innerWidth&&originalHeight_1===window.innerHeight&&(_this.focusOut instanceof Phaser.Signal&&_this.focusOut.dispatch(),clearInterval(interval_1))},50))},InputElement.prototype.blur=function(){this.element.blur()},Object.defineProperty(InputElement.prototype,"hasSelection",{get:function(){return this.type!==InputType.number&&this.element.selectionStart!==this.element.selectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(InputElement.prototype,"caretStart",{get:function(){return this.element.selectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(InputElement.prototype,"caretEnd",{get:function(){return this.element.selectionStart},enumerable:!0,configurable:!0}),InputElement.prototype.getCaretPosition=function(){return this.type===InputType.number?-1:this.element.selectionStart},InputElement.prototype.setCaretPosition=function(pos){this.type!==InputType.number&&this.element.setSelectionRange(pos,pos)},InputElement}();PhaserInput.InputElement=InputElement}(PhaserInput=PhaserInput||{}),function(PhaserInput){var ForceCase;!function(ForceCase){ForceCase[ForceCase.none=0]="none",ForceCase[ForceCase.lower=1]="lower",ForceCase[ForceCase.upper=2]="upper"}(ForceCase=PhaserInput.ForceCase||(PhaserInput.ForceCase={}));var InputField=function(_super){function InputField(game,x,y,inputOptions){void 0===inputOptions&&(inputOptions={});var _this=_super.call(this,game,x,y)||this;return _this.focusOutOnEnter=!0,_this.placeHolder=null,_this.box=null,_this.focus=!1,_this.value="",_this.windowScale=1,_this.blockInput=!0,_this.focusIn=new Phaser.Signal,_this.focusOut=new Phaser.Signal,_this.blink=!0,_this.cnt=0,_this.inputOptions=inputOptions,_this.inputOptions.width="number"==typeof inputOptions.width?inputOptions.width:150,_this.inputOptions.padding="number"==typeof inputOptions.padding?inputOptions.padding:0,_this.inputOptions.textAlign=inputOptions.textAlign||"left",_this.inputOptions.type=inputOptions.type||PhaserInput.InputType.text,_this.inputOptions.forceCase=inputOptions.forceCase||ForceCase.none,_this.inputOptions.borderRadius="number"==typeof inputOptions.borderRadius?inputOptions.borderRadius:0,_this.inputOptions.height="number"==typeof inputOptions.height?inputOptions.height:14,_this.inputOptions.fillAlpha=void 0===inputOptions.fillAlpha?1:inputOptions.fillAlpha,_this.inputOptions.selectionColor=inputOptions.selectionColor||"rgba(179, 212, 253, 0.8)",_this.inputOptions.zoom=!game.device.desktop&&inputOptions.zoom||!1,_this.box=new PhaserInput.InputBox(_this.game,inputOptions),_this.setTexture(_this.box.generateTexture()),_this.textMask=new PhaserInput.TextMask(_this.game,inputOptions),_this.addChild(_this.textMask),_this.domElement=new PhaserInput.InputElement(_this.game,"phaser-input-"+(1e4*Math.random()|0).toString(),_this.inputOptions.type,_this.value,_this.focusIn,_this.focusOut),_this.domElement.setMax(_this.inputOptions.max,_this.inputOptions.min),_this.selection=new PhaserInput.SelectionHighlight(_this.game,_this.inputOptions),_this.selection.mask=_this.textMask,_this.addChild(_this.selection),inputOptions.placeHolder&&0<inputOptions.placeHolder.length&&(_this.placeHolder=new Phaser.Text(game,_this.inputOptions.padding,_this.inputOptions.padding,inputOptions.placeHolder,{font:inputOptions.font||"14px Arial",fontWeight:inputOptions.fontWeight||"normal",fill:inputOptions.placeHolderColor||"#bfbebd"}),_this.placeHolder.mask=_this.textMask,_this.addChild(_this.placeHolder)),_this.cursor=new Phaser.Text(game,_this.inputOptions.padding,_this.inputOptions.padding-2,"|",{font:inputOptions.font||"14px Arial",fontWeight:inputOptions.fontWeight||"normal",fill:inputOptions.cursorColor||"#000000"}),_this.cursor.visible=!1,_this.addChild(_this.cursor),_this.text=new Phaser.Text(game,_this.inputOptions.padding,_this.inputOptions.padding,"",{font:inputOptions.font||"14px Arial",fontWeight:inputOptions.fontWeight||"normal",fill:inputOptions.fill||"#000000"}),_this.text.mask=_this.textMask,_this.addChild(_this.text),_this.offscreenText=new Phaser.Text(game,_this.inputOptions.padding,_this.inputOptions.padding,"",{font:inputOptions.font||"14px Arial",fontWeight:inputOptions.fontWeight||"normal",fill:inputOptions.fill||"#000000"}),_this.updateTextAlignment(),_this.inputEnabled=!0,_this.input.useHandCursor=!0,_this.game.input.onDown.add(_this.checkDown,_this),_this.focusOut.add(function(){PhaserInput.KeyboardOpen&&(_this.endFocus(),_this.inputOptions.zoom)&&_this.zoomOut()}),_this}return __extends(InputField,_super),Object.defineProperty(InputField.prototype,"width",{get:function(){return this.inputOptions.width},set:function(width){this.inputOptions.width=width,this.box.resize(width),this.textMask.resize(width),this.updateTextAlignment()},enumerable:!0,configurable:!0}),InputField.prototype.updateTextAlignment=function(){switch(this.inputOptions.textAlign){case"left":this.text.anchor.set(0,0),this.text.x=this.inputOptions.padding,null!==this.placeHolder&&this.placeHolder.anchor.set(0,0),this.cursor.x=this.inputOptions.padding+this.getCaretPosition();break;case"center":this.text.anchor.set(.5,0),this.text.x=this.inputOptions.padding+this.inputOptions.width/2,null!==this.placeHolder&&(this.placeHolder.anchor.set(.5,0),this.placeHolder.x=this.inputOptions.padding+this.inputOptions.width/2),this.cursor.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2+this.getCaretPosition();break;case"right":this.text.anchor.set(1,0),this.text.x=this.inputOptions.padding+this.inputOptions.width,null!==this.placeHolder&&(this.placeHolder.anchor.set(1,0),this.placeHolder.x=this.inputOptions.padding+this.inputOptions.width),this.cursor.x=this.inputOptions.padding+this.inputOptions.width;break}},InputField.prototype.checkDown=function(e){this.value||this.resetText(),this.input.checkPointerOver(e)?this.focus?this.setCaretOnclick(e):(this.inputOptions.zoom&&!PhaserInput.Zoomed&&this.zoomIn(),this.startFocus()):!0===this.focus&&(this.endFocus(),this.inputOptions.zoom)&&this.zoomOut()},InputField.prototype.update=function(){if(this.text.update(),this.placeHolder&&this.placeHolder.update(),this.focus){if(30!==this.cnt)return this.cnt++;this.cursor.visible=this.blink,this.blink=!this.blink,this.cnt=0}},InputField.prototype.endFocus=function(){var _this=this;this.focus&&(this.domElement.removeEventListener(),!0===this.blockInput&&this.domElement.unblockKeyDownEvents(),this.focus=!1,0===this.value.length&&null!==this.placeHolder&&(this.placeHolder.visible=!0),this.cursor.visible=!1,this.game.device.desktop?setTimeout(function(){_this.domElement.blur()},0):this.domElement.blur(),this.game.device.desktop||(PhaserInput.KeyboardOpen=!1,PhaserInput.onKeyboardClose.dispatch()))},InputField.prototype.startFocus=function(){var _this=this;this.focus=!0,null!==this.placeHolder&&(this.placeHolder.visible=!1),this.game.device.desktop?setTimeout(function(){_this.keyUpProcessor()},0):this.keyUpProcessor(),this.game.device.desktop||(PhaserInput.KeyboardOpen=!0,PhaserInput.onKeyboardOpen.dispatch())},InputField.prototype.keyUpProcessor=function(){this.domElement.addKeyUpListener(this.keyListener.bind(this)),this.domElement.focus(),!0===this.blockInput&&this.domElement.blockKeyDownEvents()},InputField.prototype.updateText=function(){var text="";var val;if(this.inputOptions.type===PhaserInput.InputType.password)for(var i=0;i<this.value.length;i++)text+="*";else text=this.inputOptions.type===PhaserInput.InputType.number?(val=parseInt(this.value))<parseInt(this.inputOptions.min)?this.value=this.domElement.value=this.inputOptions.min:val>parseInt(this.inputOptions.max)?this.value=this.domElement.value=this.inputOptions.max:this.value:this.value;if(this.text.setText(text),this.text.width>this.inputOptions.width)this.text.anchor.x=1,this.text.x=this.inputOptions.padding+this.inputOptions.width;else switch(this.inputOptions.textAlign){case"left":this.text.anchor.set(0,0),this.text.x=this.inputOptions.padding;break;case"center":this.text.anchor.set(.5,0),this.text.x=this.inputOptions.padding+this.inputOptions.width/2;break;case"right":this.text.anchor.set(1,0),this.text.x=this.inputOptions.padding+this.inputOptions.width;break}},InputField.prototype.updateCursor=function(){if(this.text.width>this.inputOptions.width||"right"===this.inputOptions.textAlign)this.cursor.x=this.inputOptions.padding+this.inputOptions.width;else switch(this.inputOptions.textAlign){case"left":this.cursor.x=this.inputOptions.padding+this.getCaretPosition();break;case"center":this.cursor.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2+this.getCaretPosition();break}},InputField.prototype.getCaretPosition=function(){var caretPosition=this.domElement.getCaretPosition();if(-1===caretPosition)return this.text.width;var text=this.value;if(this.inputOptions.type===PhaserInput.InputType.password){text="";for(var i=0;i<this.value.length;i++)text+="*"}return this.offscreenText.setText(text.slice(0,caretPosition)),this.offscreenText.width},InputField.prototype.setCaretOnclick=function(e){var localX=this.text.toLocal(new PIXI.Point(e.x,e.y),this.game.world).x;this.inputOptions.textAlign&&"center"===this.inputOptions.textAlign&&(localX+=this.text.width/2);var characterWidth=this.text.width/this.value.length;var index=0;for(var i=0;i<this.value.length;i++)if(i*characterWidth<=localX&&localX<=(i+1)*characterWidth){index=i;break}localX>(this.value.length-1)*characterWidth&&(index=this.value.length),this.startFocus(),this.domElement.setCaretPosition(index),this.updateCursor()},InputField.prototype.updateSelection=function(){if(this.domElement.hasSelection){var text=this.value;if(this.inputOptions.type===PhaserInput.InputType.password){text="";for(var i=0;i<this.value.length;i++)text+="*"}switch(text=text.substring(this.domElement.caretStart,this.domElement.caretEnd),this.offscreenText.setText(text),this.selection.updateSelection(this.offscreenText.getBounds()),this.inputOptions.textAlign){case"left":this.selection.x=this.inputOptions.padding;break;case"center":this.selection.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2;break}}else this.selection.clear()},InputField.prototype.zoomIn=function(){var bounds,offsetX;PhaserInput.Zoomed||(bounds=this.getBounds(),window.innerHeight>window.innerWidth?this.windowScale=this.game.width/(1.5*bounds.width):this.windowScale=this.game.width/2/(1.5*bounds.width),offsetX=(this.game.width-1.5*bounds.width)/2/this.windowScale,this.game.world.scale.set(this.game.world.scale.x*this.windowScale,this.game.world.scale.y*this.windowScale),this.game.world.pivot.set(bounds.x-offsetX,bounds.y-2*this.inputOptions.padding),PhaserInput.Zoomed=!0)},InputField.prototype.zoomOut=function(){PhaserInput.Zoomed&&(this.game.world.scale.set(this.game.world.scale.x/this.windowScale,this.game.world.scale.y/this.windowScale),this.game.world.pivot.set(0,0),PhaserInput.Zoomed=!1)},InputField.prototype.keyListener=function(evt){this.value=this.getFormattedText(this.domElement.value),13===evt.keyCode?this.focusOutOnEnter&&this.endFocus():(this.updateText(),this.updateCursor(),this.updateSelection(),evt.preventDefault())},InputField.prototype.destroy=function(destroyChildren){this.game.input.onDown.remove(this.checkDown,this),this.focusIn.removeAll(),this.focusOut.removeAll(),this.domElement.destroy(),_super.prototype.destroy.call(this,destroyChildren)},InputField.prototype.resetText=function(){this.setText()},InputField.prototype.setText=function(text){void 0===text&&(text=""),null!==this.placeHolder&&(0<text.length?this.placeHolder.visible=!1:this.placeHolder.visible=!0),this.value=this.getFormattedText(text),this.domElement.value=this.value,this.updateText(),this.updateCursor(),this.endFocus()},InputField.prototype.getFormattedText=function(text){switch(this.inputOptions.forceCase){default:case ForceCase.none:return text;case ForceCase.lower:return text.toLowerCase();case ForceCase.upper:return text.toUpperCase()}},InputField}(Phaser.Sprite);PhaserInput.InputField=InputField}(PhaserInput=PhaserInput||{}),function(PhaserInput){var InputBox=function(_super){function InputBox(game,inputOptions){var game=_super.call(this,game,0,0)||this;game.bgColor=inputOptions.backgroundColor?parseInt(inputOptions.backgroundColor.slice(1),16):16777215,game.borderRadius=inputOptions.borderRadius="number"==typeof inputOptions.borderRadius?inputOptions.borderRadius:0,game.borderWidth=inputOptions.borderWidth="number"==typeof inputOptions.borderWidth?inputOptions.borderWidth:1,game.borderColor=inputOptions.borderColor?parseInt(inputOptions.borderColor.slice(1),16):9803157,game.boxAlpha=inputOptions.fillAlpha,game.padding=inputOptions.padding;var height=inputOptions.height;var width=inputOptions.width;var height;inputOptions.font&&(height=Math.max(parseInt(inputOptions.font.substr(0,inputOptions.font.indexOf("px")),10),height)),game.boxHeight=2*game.padding+height;var width=inputOptions.width;return game.boxWidth=2*game.padding+width,game.drawBox(),game}return __extends(InputBox,_super),InputBox.prototype.resize=function(newWidth){this.boxWidth=2*this.padding+newWidth,this.drawBox()},InputBox.prototype.drawBox=function(){this.clear().beginFill(this.bgColor,this.boxAlpha).lineStyle(this.borderWidth,this.borderColor,this.boxAlpha),0<this.borderRadius?this.drawRoundedRect(0,0,this.boxWidth,this.boxHeight,this.borderRadius):this.drawRect(0,0,this.boxWidth,this.boxHeight)},InputBox}(Phaser.Graphics);PhaserInput.InputBox=InputBox}(PhaserInput=PhaserInput||{}),function(PhaserInput){var SelectionHighlight=function(_super){function SelectionHighlight(game,inputOptions){var game=_super.call(this,game,inputOptions.padding,inputOptions.padding)||this;return game.inputOptions=inputOptions,game}return __extends(SelectionHighlight,_super),SelectionHighlight.prototype.updateSelection=function(rect){var color=Phaser.Color.webToColor(this.inputOptions.selectionColor);this.clear(),this.beginFill(SelectionHighlight.rgb2hex(color),color.a),this.drawRect(rect.x,rect.y,rect.width,rect.height-this.inputOptions.padding)},SelectionHighlight.rgb2hex=function(color){return parseInt(("0"+color.r.toString(16)).slice(-2)+("0"+color.g.toString(16)).slice(-2)+("0"+color.b.toString(16)).slice(-2),16)},SelectionHighlight}(Phaser.Graphics);PhaserInput.SelectionHighlight=SelectionHighlight}(PhaserInput=PhaserInput||{}),function(PhaserInput){var TextMask=function(_super){function TextMask(game,inputOptions){var game=_super.call(this,game,inputOptions.padding,inputOptions.padding)||this;var height=inputOptions.height;return inputOptions.font&&(height=Math.max(parseInt(inputOptions.font.substr(0,inputOptions.font.indexOf("px")),10),height)),game.maskWidth=inputOptions.width,game.maskHeight=1.3*height,game.drawMask(),game}return __extends(TextMask,_super),TextMask.prototype.resize=function(newWidth){this.maskWidth=newWidth,this.drawMask()},TextMask.prototype.drawMask=function(){this.clear().beginFill(0).drawRect(0,0,this.maskWidth,this.maskHeight).endFill()},TextMask}(Phaser.Graphics);PhaserInput.TextMask=TextMask}(PhaserInput=PhaserInput||{}),function(PhaserInput){PhaserInput.Zoomed=!1,PhaserInput.KeyboardOpen=!1,PhaserInput.onKeyboardOpen=new Phaser.Signal,PhaserInput.onKeyboardClose=new Phaser.Signal;var Plugin=function(_super){function Plugin(game,parent){var game=_super.call(this,game,parent)||this;return game.addInputFieldFactory(),game}return __extends(Plugin,_super),Plugin.prototype.addInputFieldFactory=function(){Phaser.GameObjectFactory.prototype.inputField=function(x,y,inputOptions,group){void 0===group&&(group=this.world);var x=new PhaserInput.InputField(this.game,x,y,inputOptions);return group.add(x)},Phaser.GameObjectCreator.prototype.inputField=function(x,y,inputOptions){return new PhaserInput.InputField(this.game,x,y,inputOptions)}},Plugin}(Phaser.Plugin);Plugin.Zoomed=!1,Plugin.KeyboardOpen=!1,Plugin.onKeyboardOpen=new Phaser.Signal,Plugin.onKeyboardClose=new Phaser.Signal,PhaserInput.Plugin=Plugin}(PhaserInput=PhaserInput||{});var spine={radDeg:180/Math.PI,degRad:Math.PI/180,Float32Array:"undefined"==typeof Float32Array?Array:Float32Array,Uint32Array:"undefined"==typeof Uint32Array?Array:Uint32Array,Uint16Array:"undefined"==typeof Uint16Array?Array:Uint16Array};spine.temp=new spine.Float32Array(2),spine.BoneData=function(name,parent){this.name=name,this.parent=parent},spine.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0},spine.BlendMode={normal:0,additive:1,multiply:2,screen:3},spine.SlotData=function(name,boneData){this.name=name,this.boneData=boneData},spine.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,blendMode:spine.BlendMode.normal},spine.IkConstraintData=function(name){this.name=name,this.bones=[]},spine.IkConstraintData.prototype={target:null,bendDirection:1,mix:1},spine.TransformConstraintData=function(name){this.name=name},spine.TransformConstraintData.prototype={bone:null,target:null,translateMix:1,x:0,y:0},spine.Bone=function(boneData,skeleton,parent){this.data=boneData,this.skeleton=skeleton,this.parent=parent,this.setToSetupPose()},spine.Bone.yDown=!1,spine.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,a:0,b:0,worldX:0,c:0,d:0,worldY:0,worldSignX:1,worldSignY:1,update:function(){this.updateWorldTransform(this.x,this.y,this.rotation,this.scaleX,this.scaleY)},updateWorldTransformWith:function(){this.updateWorldTransform(this.x,this.y,this.rotation,this.scaleX,this.scaleY)},updateWorldTransform:function(x,y,rotation,scaleX,scaleY){this.appliedRotation=rotation,this.appliedScaleX=scaleX,this.appliedScaleY=scaleY,rotation*=spine.degRad;var cos=Math.cos(rotation),sin=Math.sin(rotation);var la=cos*scaleX,lb=-sin*scaleY,lc=sin*scaleX,ld=cos*scaleY;var parent=this.parent;var skeleton;if(parent){var pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;if(this.worldX=pa*x+pb*y+parent.worldX,this.worldY=pc*x+pd*y+parent.worldY,this.worldSignX=parent.worldSignX*(scaleX<0?-1:1),this.worldSignY=parent.worldSignY*(scaleY<0?-1:1),this.data.inheritRotation&&this.data.inheritScale)this.a=pa*la+pb*lc,this.b=pa*lb+pb*ld,this.c=pc*la+pd*lc,this.d=pc*lb+pd*ld;else{if(this.data.inheritRotation){pc=pb=0,pd=pa=1;do{rotation=parent.appliedRotation*spine.degRad;var temp=pa*(cos=Math.cos(rotation))+pb*(sin=Math.sin(rotation))}while((pb=pa*-sin+pb*cos,pa=temp,temp=pc*cos+pd*sin,pd=pc*-sin+pd*cos,pc=temp,parent.data.inheritRotation)&&(parent=parent.parent));this.a=pa*la+pb*lc,this.b=pa*lb+pb*ld,this.c=pc*la+pd*lc,this.d=pc*lb+pd*ld}else if(this.data.inheritScale){pc=pb=0,pd=pa=1;do{rotation=parent.appliedRotation*spine.degRad,cos=Math.cos(rotation),sin=Math.sin(rotation);var psx=parent.appliedScaleX,psy=parent.appliedScaleY;var za=cos*psx,zb=-sin*psy,zc=sin*psx,psy=cos*psy;var temp=pa*za+pb*zc}while((pb=pa*zb+pb*psy,pa=temp,temp=pc*za+pd*zc,pd=pc*zb+pd*psy,pc=temp,psx<0&&(rotation=-rotation),temp=pa*(cos=Math.cos(-rotation))+pb*(sin=Math.sin(-rotation)),pb=pa*-sin+pb*cos,pa=temp,temp=pc*cos+pd*sin,pd=pc*-sin+pd*cos,pc=temp,parent.data.inheritScale)&&(parent=parent.parent));this.a=pa*la+pb*lc,this.b=pa*lb+pb*ld,this.c=pc*la+pd*lc,this.d=pc*lb+pd*ld}else this.a=la,this.b=lb,this.c=lc,this.d=ld;this.skeleton.flipX&&(this.a=-this.a,this.b=-this.b),this.skeleton.flipY!=spine.Bone.yDown&&(this.c=-this.c,this.d=-this.d)}}else(skeleton=this.skeleton).flipX&&(x=-x,la=-la,lb=-lb),skeleton.flipY!=spine.Bone.yDown&&(y=-y,lc=-lc,ld=-ld),this.a=la,this.b=lb,this.c=lc,this.d=ld,this.worldX=x,this.worldY=y,this.worldSignX=scaleX<0?-1:1,this.worldSignY=scaleY<0?-1:1},setToSetupPose:function(){var data=this.data;this.x=data.x,this.y=data.y,this.rotation=data.rotation,this.scaleX=data.scaleX,this.scaleY=data.scaleY},getWorldRotationX:function(){return Math.atan2(this.c,this.a)*spine.radDeg},getWorldRotationY:function(){return Math.atan2(this.d,this.b)*spine.radDeg},getWorldScaleX:function(){return Math.sqrt(this.a*this.a+this.b*this.b)*this.worldSignX},getWorldScaleY:function(){return Math.sqrt(this.c*this.c+this.d*this.d)*this.worldSignY},worldToLocal:function(world){var x=world[0]-this.worldX,y=world[1]-this.worldY;var a=this.a,b=this.b,c=this.c,d=this.d;var invDet=1/(a*d-b*c);return world[0]=x*d*invDet-y*b*invDet,world[1]=y*a*invDet-x*c*invDet,world},localToWorld:function(local){var x=local[0],y=local[1];return local[0]=x*this.a+y*this.b+this.worldX,local[1]=x*this.c+y*this.d+this.worldY,local}},spine.Slot=function(slotData,bone){this.data=slotData,this.bone=bone,this.attachmentVertices=new spine.Float32Array,this.setToSetupPose()},spine.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(attachment){this.attachment!=attachment&&(this.attachment=attachment,this._attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},setAttachmentTime:function(time){this._attachmentTime=this.bone.skeleton.time-time},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var data=this.data;if(this.r=data.r,this.g=data.g,this.b=data.b,this.a=data.a,data.attachmentName){var slotDatas=this.bone.skeleton.data.slots;for(var i=0,n=slotDatas.length;i<n;i++)if(slotDatas[i]==data){this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachmentBySlotIndex(i,data.attachmentName));break}}else this.setAttachment(null)}},spine.IkConstraint=function(data,skeleton){this.data=data,this.mix=data.mix,this.bendDirection=data.bendDirection,this.bones=[];for(var i=0,n=data.bones.length;i<n;i++)this.bones[i]=skeleton.findBone(data.bones[i].name);this.target=skeleton.findBone(data.target.name)},spine.IkConstraint.prototype={apply:function(){this.update()},update:function(){var target=this.target;var bones=this.bones;switch(bones.length){case 1:spine.IkConstraint.apply1(bones[0],target.worldX,target.worldY,this.mix);break;case 2:spine.IkConstraint.apply2(bones[0],bones[1],target.worldX,target.worldY,this.bendDirection,this.mix);break}}},spine.IkConstraint.apply1=function(bone,targetX,targetY,alpha){var parentRotation=bone.parent?bone.parent.getWorldRotationX():0;var rotation=bone.rotation;var targetY=Math.atan2(targetY-bone.worldY,targetX-bone.worldX)*spine.radDeg-parentRotation;180<(targetY=bone.worldSignX!=bone.worldSignY!=(bone.skeleton.flipX!=(bone.skeleton.flipY!=spine.Bone.yDown))?360-targetY:targetY)?targetY-=360:targetY<-180&&(targetY+=360),bone.updateWorldTransform(bone.x,bone.y,rotation+(targetY-rotation)*alpha,bone.appliedScaleX,bone.appliedScaleY)},spine.IkConstraint.apply2=function(parent,child,targetX,targetY,bendDir,alpha){if(0!=alpha){var px=parent.x,py=parent.y,psx=parent.appliedScaleX,psy=parent.appliedScaleY;var os1,os2,s2;s2=psx<0?(psx=-psx,os1=180,-1):(os1=0,1),psy<0&&(psy=-psy,s2=-s2);var cx=child.x,cy=child.y,csx=child.appliedScaleX;var u=Math.abs(psx-psy)<=1e-4;u||0==cy||(child.worldX=parent.a*cx+parent.worldX,child.worldY=parent.c*cx+parent.worldY,cy=0),os2=csx<0?(csx=-csx,180):0;var pp=parent.parent;var tx,ty,wx,pp;var a,b,c,d,invDet,wx,pp,x,y;pp=pp?(a=pp.a,b=pp.b,c=pp.c,invDet=1/(a*(d=pp.d)-b*c),tx=((x=targetX-(wx=pp.worldX))*d-(y=targetY-(pp=pp.worldY))*b)*invDet-px,ty=(y*a-x*c)*invDet-py,wx=((x=child.worldX-wx)*d-(y=child.worldY-pp)*b)*invDet-px,(y*a-x*c)*invDet-py):(tx=targetX-px,ty=targetY-py,wx=child.worldX-px,child.worldY-py);var l1=Math.sqrt(wx*wx+pp*pp),l2=child.data.length*csx,a1,a2;outer:if(u){var cos=(tx*tx+ty*ty-l1*l1-(l2*=psx)*l2)/(2*l1*l2);cos<-1?cos=-1:1<cos&&(cos=1),a2=Math.acos(cos)*bendDir;var a=l1+l2*cos,cos=l2*Math.sin(a2);a1=Math.atan2(ty*a-tx*cos,tx*a+ty*cos)}else{var a=psx*l2,b=psy*l2,cos=Math.atan2(ty,tx);var aa=a*a,bb=b*b,ll,dd=tx*tx+ty*ty;var c0=bb*(l1*l1)+aa*dd-aa*bb,c1=-2*bb*l1,c2=bb-aa;var d;if(0<=(d=c1*c1-4*c2*c0)){var q=Math.sqrt(d);var c1=(q=-(c1+(q=c1<0?-q:q))/2)/c2,c2=c0/q;var c0=Math.abs(c1)<Math.abs(c2)?c1:c2;if(c0*c0<=dd){var y=Math.sqrt(dd-c0*c0)*bendDir;a1=cos-Math.atan2(y,c0),a2=Math.atan2(y/psy,(c0-l1)/psx);break outer}}var q=0,c1=Number.MAX_VALUE,c2=0,c0=0;var maxAngle=0,maxDist=0,maxX=0,maxY=0;var x,dist=(x=l1+a)*x;maxDist<dist&&(maxAngle=0,maxDist=dist,maxX=x),(dist=(x=l1-a)*x)<c1&&(q=Math.PI,c1=dist,c2=x);var aa=Math.acos(-a*l1/(aa-bb));var y;(dist=(x=a*Math.cos(aa)+l1)*x+(y=b*Math.sin(aa))*y)<c1&&(q=aa,c1=dist,c2=x,c0=y),maxDist<dist&&(maxAngle=aa,maxDist=dist,maxX=x,maxY=y),a2=dd<=(c1+maxDist)/2?(a1=cos-Math.atan2(c0*bendDir,c2),q*bendDir):(a1=cos-Math.atan2(maxY*bendDir,maxX),maxAngle*bendDir)}var c=Math.atan2(cy,cx)*s2;180<(a1=(a1-c)*spine.radDeg+os1)?a1-=360:a1<-180&&(a1+=360),180<(a2=(a2+c)*spine.radDeg*s2+os2)?a2-=360:a2<-180&&(a2+=360);var invDet=parent.rotation;parent.updateWorldTransform(px,py,invDet+(a1-invDet)*alpha,parent.appliedScaleX,parent.appliedScaleY),invDet=child.rotation,child.updateWorldTransform(cx,cy,invDet+(a2-invDet)*alpha,child.appliedScaleX,child.appliedScaleY)}},spine.TransformConstraint=function(data,skeleton){this.data=data,this.translateMix=data.translateMix,this.x=data.x,this.y=data.y,this.bone=skeleton.findBone(data.bone.name),this.target=skeleton.findBone(data.target.name)},spine.TransformConstraint.prototype={apply:function(){this.update()},update:function(){var translateMix=this.translateMix;var temp,bone;0<translateMix&&((temp=spine.temp)[0]=x,temp[1]=y,this.target.localToWorld(temp),(bone=this.bone).worldX+=(temp[0]-bone.worldX)*translateMix,bone.worldY+=(temp[1]-bone.worldY)*translateMix)}},spine.Skin=function(name){this.name=name,this.attachments={}},spine.Skin.prototype={addAttachment:function(slotIndex,name,attachment){this.attachments[slotIndex+":"+name]=attachment},getAttachment:function(slotIndex,name){return this.attachments[slotIndex+":"+name]},_attachAll:function(skeleton,oldSkin){for(var key in oldSkin.attachments){var colon=key.indexOf(":");var slotIndex=parseInt(key.substring(0,colon));var key=key.substring(colon+1);var colon=skeleton.slots[slotIndex];var slotIndex;colon.attachment&&colon.attachment.name==key&&(slotIndex=this.getAttachment(slotIndex,key))&&colon.setAttachment(slotIndex)}}},spine.Animation=function(name,timelines,duration){this.name=name,this.timelines=timelines,this.duration=duration},spine.Animation.prototype={apply:function(skeleton,lastTime,time,loop,events){loop&&0!=this.duration&&(time%=this.duration,0<lastTime)&&(lastTime%=this.duration);var timelines=this.timelines;for(var i=0,n=timelines.length;i<n;i++)timelines[i].apply(skeleton,lastTime,time,events,1)},mix:function(skeleton,lastTime,time,loop,events,alpha){loop&&0!=this.duration&&(time%=this.duration,0<lastTime)&&(lastTime%=this.duration);var timelines=this.timelines;for(var i=0,n=timelines.length;i<n;i++)timelines[i].apply(skeleton,lastTime,time,events,alpha)}},spine.Animation.binarySearch=function(values,target,step){var low=0;var high=Math.floor(values.length/step)-2;if(!high)return step;var current=high>>>1;for(;;){if(values[(current+1)*step]<=target?low=current+1:high=current,low==high)return(low+1)*step;current=low+high>>>1}},spine.Animation.binarySearch1=function(values,target){var low=0;var high=values.length-2;if(!high)return 1;var current=high>>>1;for(;;){if(values[current+1]<=target?low=current+1:high=current,low==high)return low+1;current=low+high>>>1}},spine.Animation.linearSearch=function(values,target,step){for(var i=0,last=values.length-step;i<=last;i+=step)if(values[i]>target)return i;return-1},spine.Curves=function(frameCount){var frameCount=19*(frameCount-1);this.curves=new spine.Float32Array(frameCount),this.curves.length=frameCount},spine.Curves.prototype={setLinear:function(frameIndex){this.curves[19*frameIndex]=0},setStepped:function(frameIndex){this.curves[19*frameIndex]=1},setCurve:function(frameIndex,cx1,cy1,cx2,cy2){var subdiv1=.1,subdiv2=.1*.1,subdiv3=.1*.1*.1;var pre1=3*.1,pre2=.1*.1*3,pre4=.1*.1*6,pre5=6*subdiv3;var tmp1x=2*-cx1+cx2,tmp1y=2*-cy1+cy2,cx2=3*(cx1-cx2)+1,cy2=3*(cy1-cy2)+1;var dfx=cx1*(3*.1)+tmp1x*pre2+cx2*subdiv3,dfy=cy1*(3*.1)+tmp1y*pre2+cy2*subdiv3;var ddfx=tmp1x*pre4+cx2*pre5,ddfy=tmp1y*pre4+cy2*pre5;var dddfx=cx2*pre5,dddfy=cy2*pre5;var i=19*frameIndex;var curves=this.curves;curves[i++]=2;var x=dfx,y=dfy;for(var n=i+19-1;i<n;i+=2)curves[i]=x,curves[i+1]=y,dfx+=ddfx,dfy+=ddfy,ddfx+=dddfx,ddfy+=dddfy,x+=dfx,y+=dfy},getCurvePercent:function(frameIndex,percent){percent=percent<0?0:1<percent?1:percent;var curves=this.curves;var i=19*frameIndex;var frameIndex=curves[i];if(0===frameIndex)return percent;if(1==frameIndex)return 0;var x=0;for(var start=++i,n=i+19-1;i<n;i+=2){var prevX,prevY;if(percent<=(x=curves[i]))return(prevY=i==start?prevX=0:(prevX=curves[i-2],curves[i-1]))+(curves[i+1]-prevY)*(percent-prevX)/(x-prevX)}var frameIndex=curves[i-1];return frameIndex+(1-frameIndex)*(percent-x)/(1-x)}},spine.RotateTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(2*frameCount),this.frames.length=2*frameCount},spine.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(frameIndex,time,angle){this.frames[frameIndex*=2]=time,this.frames[frameIndex+1]=angle},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;if(!(time<frames[0])){var skeleton=skeleton.bones[this.boneIndex];if(time>=frames[frames.length-2]){var amount=skeleton.data.rotation+frames[frames.length-1]-skeleton.rotation;for(;180<amount;)amount-=360}else{var frameIndex=spine.Animation.binarySearch(frames,time,2);var prevFrameValue=frames[frameIndex-1];var frameTime=frames[frameIndex];var time=1-(time-frameTime)/(frames[frameIndex-2]-frameTime);time=this.curves.getCurvePercent(frameIndex/2-1,time);var amount=frames[frameIndex+1]-prevFrameValue;for(;180<amount;)amount-=360;for(;amount<-180;)amount+=360;for(amount=skeleton.data.rotation+(prevFrameValue+amount*time)-skeleton.rotation;180<amount;)amount-=360}for(;amount<-180;)amount+=360;skeleton.rotation+=amount*alpha}}},spine.TranslateTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(3*frameCount),this.frames.length=3*frameCount},spine.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(frameIndex,time,x,y){this.frames[frameIndex*=3]=time,this.frames[frameIndex+1]=x,this.frames[frameIndex+2]=y},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;var skeleton,frameIndex,prevFrameX,prevFrameY,time,time;time<frames[0]||(skeleton=skeleton.bones[this.boneIndex],time>=frames[frames.length-3]?(skeleton.x+=(skeleton.data.x+frames[frames.length-2]-skeleton.x)*alpha,skeleton.y+=(skeleton.data.y+frames[frames.length-1]-skeleton.y)*alpha):(prevFrameX=frames[(frameIndex=spine.Animation.binarySearch(frames,time,3))-2],prevFrameY=frames[frameIndex-1],time=1-(time-(time=frames[frameIndex]))/(frames[frameIndex+-3]-time),time=this.curves.getCurvePercent(frameIndex/3-1,time),skeleton.x+=(skeleton.data.x+prevFrameX+(frames[frameIndex+1]-prevFrameX)*time-skeleton.x)*alpha,skeleton.y+=(skeleton.data.y+prevFrameY+(frames[frameIndex+2]-prevFrameY)*time-skeleton.y)*alpha))}},spine.ScaleTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(3*frameCount),this.frames.length=3*frameCount},spine.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(frameIndex,time,x,y){this.frames[frameIndex*=3]=time,this.frames[frameIndex+1]=x,this.frames[frameIndex+2]=y},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;var skeleton,frameIndex,prevFrameX,prevFrameY,time,time;time<frames[0]||(skeleton=skeleton.bones[this.boneIndex],time>=frames[frames.length-3]?(skeleton.scaleX+=(skeleton.data.scaleX*frames[frames.length-2]-skeleton.scaleX)*alpha,skeleton.scaleY+=(skeleton.data.scaleY*frames[frames.length-1]-skeleton.scaleY)*alpha):(prevFrameX=frames[(frameIndex=spine.Animation.binarySearch(frames,time,3))-2],prevFrameY=frames[frameIndex-1],time=1-(time-(time=frames[frameIndex]))/(frames[frameIndex+-3]-time),time=this.curves.getCurvePercent(frameIndex/3-1,time),skeleton.scaleX+=(skeleton.data.scaleX*(prevFrameX+(frames[frameIndex+1]-prevFrameX)*time)-skeleton.scaleX)*alpha,skeleton.scaleY+=(skeleton.data.scaleY*(prevFrameY+(frames[frameIndex+2]-prevFrameY)*time)-skeleton.scaleY)*alpha))}},spine.ColorTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(5*frameCount),this.frames.length=5*frameCount},spine.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(frameIndex,time,r,g,b,a){this.frames[frameIndex*=5]=time,this.frames[frameIndex+1]=r,this.frames[frameIndex+2]=g,this.frames[frameIndex+3]=b,this.frames[frameIndex+4]=a},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;var r,g,b,prevFrameR,i,i,prevFrameR,prevFrameG,prevFrameB,prevFrameA,time,time,prevFrameG;time<frames[0]||(prevFrameR=time>=frames[frames.length-5]?(r=frames[(i=frames.length-1)-3],g=frames[i-2],b=frames[i-1],frames[i]):(prevFrameR=frames[(i=spine.Animation.binarySearch(frames,time,5))-4],prevFrameG=frames[i-3],prevFrameB=frames[i-2],prevFrameA=frames[i-1],time=1-(time-(time=frames[i]))/(frames[i-5]-time),time=this.curves.getCurvePercent(i/5-1,time),r=prevFrameR+(frames[i+1]-prevFrameR)*time,g=prevFrameG+(frames[i+2]-prevFrameG)*time,b=prevFrameB+(frames[i+3]-prevFrameB)*time,prevFrameA+(frames[i+4]-prevFrameA)*time),prevFrameG=skeleton.slots[this.slotIndex],alpha<1?(prevFrameG.r+=(r-prevFrameG.r)*alpha,prevFrameG.g+=(g-prevFrameG.g)*alpha,prevFrameG.b+=(b-prevFrameG.b)*alpha,prevFrameG.a+=(prevFrameR-prevFrameG.a)*alpha):(prevFrameG.r=r,prevFrameG.g=g,prevFrameG.b=b,prevFrameG.a=prevFrameR))}},spine.AttachmentTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(frameCount),this.frames.length=frameCount,this.attachmentNames=[],this.attachmentNames.length=frameCount},spine.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(frameIndex,time,attachmentName){this.frames[frameIndex]=time,this.attachmentNames[frameIndex]=attachmentName},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;var frames,time;time<frames[0]?time<lastTime&&this.apply(skeleton,lastTime,Number.MAX_VALUE,null,0):(time<lastTime&&(lastTime=-1),frames[frames=time>=frames[frames.length-1]?frames.length-1:spine.Animation.binarySearch1(frames,time)-1]<lastTime||(time=this.attachmentNames[frames],skeleton.slots[this.slotIndex].setAttachment(time?skeleton.getAttachmentBySlotIndex(this.slotIndex,time):null)))}},spine.EventTimeline=function(frameCount){this.frames=new spine.Float32Array(frameCount),this.frames.length=frameCount,this.events=[],this.events.length=frameCount},spine.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(frameIndex,event){this.frames[frameIndex]=event.time,this.events[frameIndex]=event},apply:function(skeleton,lastTime,time,firedEvents,alpha){if(firedEvents){var frames=this.frames;var frameCount=frames.length;if(time<lastTime)this.apply(skeleton,lastTime,Number.MAX_VALUE,firedEvents,alpha),lastTime=-1;else if(lastTime>=frames[frameCount-1])return;if(!(time<frames[0])){var frameIndex;if(lastTime<frames[0])frameIndex=0;else{var frame=frames[frameIndex=spine.Animation.binarySearch1(frames,lastTime)];for(;0<frameIndex&&frames[frameIndex-1]==frame;)frameIndex--}var events=this.events;for(;frameIndex<frameCount&&time>=frames[frameIndex];frameIndex++)firedEvents[firedEvents.length]=events[frameIndex]}}}},spine.DrawOrderTimeline=function(frameCount){this.frames=new spine.Float32Array(frameCount),this.frames.length=frameCount,this.drawOrders=[],this.drawOrders.length=frameCount},spine.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(frameIndex,time,drawOrder){this.frames[frameIndex]=time,this.drawOrders[frameIndex]=drawOrder},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;if(!(time<frames[0])){var frames;frames=time>=frames[frames.length-1]?frames.length-1:spine.Animation.binarySearch1(frames,time)-1;var drawOrder=skeleton.drawOrder;var slots=skeleton.slots;var drawOrderToSetupIndex=this.drawOrders[frames];if(drawOrderToSetupIndex)for(var i=0,n=drawOrderToSetupIndex.length;i<n;i++)drawOrder[i]=skeleton.slots[drawOrderToSetupIndex[i]];else for(var i=0,n=slots.length;i<n;i++)drawOrder[i]=slots[i]}}},spine.FfdTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(frameCount),this.frames.length=frameCount,this.frameVertices=[],this.frameVertices.length=frameCount},spine.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(frameIndex,time,vertices){this.frames[frameIndex]=time,this.frameVertices[frameIndex]=vertices},apply:function(skeleton,lastTime,time,firedEvents,alpha){var skeleton=skeleton.slots[this.slotIndex];var slotAttachment=skeleton.attachment;if(slotAttachment&&(slotAttachment==this.attachment||slotAttachment.inheritFFD&&slotAttachment.parentMesh==this.attachment)){var slotAttachment=this.frames;if(!(time<slotAttachment[0])){var frameVertices=this.frameVertices;var vertexCount=frameVertices[0].length;var vertices=skeleton.attachmentVertices;if(vertices.length!=vertexCount&&(skeleton.attachmentVertices=vertices=new spine.Float32Array(vertexCount),alpha=1),time>=slotAttachment[slotAttachment.length-1]){var lastVertices=frameVertices[slotAttachment.length-1];if(alpha<1)for(var i=0;i<vertexCount;i++)vertices[i]+=(lastVertices[i]-vertices[i])*alpha;else for(var i=0;i<vertexCount;i++)vertices[i]=lastVertices[i]}else{var skeleton=spine.Animation.binarySearch1(slotAttachment,time);var frameTime=slotAttachment[skeleton];var percent=1-(time-frameTime)/(slotAttachment[skeleton-1]-frameTime);percent=this.curves.getCurvePercent(skeleton-1,percent<0?0:1<percent?1:percent);var prevVertices=frameVertices[skeleton-1];var nextVertices=frameVertices[skeleton];if(alpha<1)for(var i=0;i<vertexCount;i++){var prev=prevVertices[i];vertices[i]+=(prev+(nextVertices[i]-prev)*percent-vertices[i])*alpha}else for(var i=0;i<vertexCount;i++){var prev=prevVertices[i];vertices[i]=prev+(nextVertices[i]-prev)*percent}}}}}},spine.IkConstraintTimeline=function(frameCount){this.curves=new spine.Curves(frameCount),this.frames=new spine.Float32Array(3*frameCount),this.frames.length=3*frameCount},spine.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(frameIndex,time,mix,bendDirection){this.frames[frameIndex*=3]=time,this.frames[frameIndex+1]=mix,this.frames[frameIndex+2]=bendDirection},apply:function(skeleton,lastTime,time,firedEvents,alpha){var frames=this.frames;var skeleton,frameIndex,prevFrameMix,time,time,prevFrameMix;time<frames[0]||(skeleton=skeleton.ikConstraints[this.ikConstraintIndex],time>=frames[frames.length-3]?(skeleton.mix+=(frames[frames.length-2]-skeleton.mix)*alpha,skeleton.bendDirection=frames[frames.length-1]):(prevFrameMix=frames[(frameIndex=spine.Animation.binarySearch(frames,time,3))+-2],time=1-(time-(time=frames[frameIndex]))/(frames[frameIndex+-3]-time),time=this.curves.getCurvePercent(frameIndex/3-1,time),prevFrameMix=prevFrameMix+(frames[frameIndex+1]-prevFrameMix)*time,skeleton.mix+=(prevFrameMix-skeleton.mix)*alpha,skeleton.bendDirection=frames[frameIndex+-1]))}},spine.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[],this.transformConstraints=[]},spine.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(boneName){var bones=this.bones;for(var i=0,n=bones.length;i<n;i++)if(bones[i].name==boneName)return bones[i];return null},findBoneIndex:function(boneName){var bones=this.bones;for(var i=0,n=bones.length;i<n;i++)if(bones[i].name==boneName)return i;return-1},findSlot:function(slotName){var slots=this.slots;for(var i=0,n=slots.length;i<n;i++)if(slots[i].name==slotName)return slot[i];return null},findSlotIndex:function(slotName){var slots=this.slots;for(var i=0,n=slots.length;i<n;i++)if(slots[i].name==slotName)return i;return-1},findSkin:function(skinName){var skins=this.skins;for(var i=0,n=skins.length;i<n;i++)if(skins[i].name==skinName)return skins[i];return null},findEvent:function(eventName){var events=this.events;for(var i=0,n=events.length;i<n;i++)if(events[i].name==eventName)return events[i];return null},findAnimation:function(animationName){var animations=this.animations;for(var i=0,n=animations.length;i<n;i++)if(animations[i].name==animationName)return animations[i];return null},findIkConstraint:function(constraintName){var ikConstraints=this.ikConstraints;for(var i=0,n=ikConstraints.length;i<n;i++)if(ikConstraints[i].name==constraintName)return ikConstraints[i];return null},findTransformConstraints:function(constraintName){var transformConstraints=this.transformConstraints;for(var i=0,n=transformConstraints.length;i<n;i++)if(transformConstraints[i].name==constraintName)return transformConstraints[i];return null}},spine.Skeleton=function(skeletonData){this.data=skeletonData,this.bones=[];for(var i=0,n=skeletonData.bones.length;i<n;i++){var boneData=skeletonData.bones[i];var parent=boneData.parent?this.bones[skeletonData.bones.indexOf(boneData.parent)]:null;this.bones[i]=new spine.Bone(boneData,this,parent)}this.slots=[],this.drawOrder=[];for(var i=0,n=skeletonData.slots.length;i<n;i++){var slotData=skeletonData.slots[i];var bone=this.bones[skeletonData.bones.indexOf(slotData.boneData)];var slotData=new spine.Slot(slotData,bone);this.slots[i]=slotData,this.drawOrder[i]=slotData}this.ikConstraints=[];for(var i=0,n=skeletonData.ikConstraints.length;i<n;i++)this.ikConstraints[i]=new spine.IkConstraint(skeletonData.ikConstraints[i],this);this.transformConstraints=[];for(var i=0,n=skeletonData.transformConstraints.length;i<n;i++)this.transformConstraints[i]=new spine.TransformConstraint(skeletonData.transformConstraints[i],this);this.cache=[],this.updateCache()},spine.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){var bones=this.bones;var updateCache=this.cache;var ikConstraints=this.ikConstraints;var transformConstraints=this.transformConstraints;var ikConstraintsCount=ikConstraints.length;var transformConstraintsCount=transformConstraints.length;for(var i=updateCache.length=0,n=bones.length;i<n;i++){var bone=bones[i];updateCache[updateCache.length]=bone;for(var ii=0;ii<ikConstraintsCount;ii++){var ikConstraint=ikConstraints[ii];if(bone==ikConstraint.bones[ikConstraint.bones.length-1]){updateCache[updateCache.length]=ikConstraint;break}}}for(var i=0;i<transformConstraintsCount;i++){var transformConstraint=transformConstraints[i];for(var ii=updateCache.length-1;0<=ii;ii--){var object=updateCache[ii];if(object==transformConstraint.bone||object==transformConstraint.target){updateCache.splice(ii+1,0,transformConstraint);break}}}},updateWorldTransform:function(){var updateCache=this.cache;for(var i=0,n=updateCache.length;i<n;i++)updateCache[i].update()},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){var bones=this.bones;for(var i=0,n=bones.length;i<n;i++)bones[i].setToSetupPose();var ikConstraints=this.ikConstraints;for(var i=0,n=ikConstraints.length;i<n;i++){var constraint;(constraint=ikConstraints[i]).bendDirection=constraint.data.bendDirection,constraint.mix=constraint.data.mix}var transformConstraints=this.transformConstraints;for(var i=0,n=transformConstraints.length;i<n;i++){var constraint;(constraint=transformConstraints[i]).translateMix=constraint.data.translateMix,constraint.x=constraint.data.x,constraint.y=constraint.data.y}},setSlotsToSetupPose:function(){var slots=this.slots;var drawOrder=this.drawOrder;for(var i=0,n=slots.length;i<n;i++)drawOrder[i]=slots[i],slots[i].setToSetupPose(i)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(boneName){var bones=this.bones;for(var i=0,n=bones.length;i<n;i++)if(bones[i].data.name==boneName)return bones[i];return null},findBoneIndex:function(boneName){var bones=this.bones;for(var i=0,n=bones.length;i<n;i++)if(bones[i].data.name==boneName)return i;return-1},findSlot:function(slotName){var slots=this.slots;for(var i=0,n=slots.length;i<n;i++)if(slots[i].data.name==slotName)return slots[i];return null},findSlotIndex:function(slotName){var slots=this.slots;for(var i=0,n=slots.length;i<n;i++)if(slots[i].data.name==slotName)return i;return-1},setSkinByName:function(skinName){var skin=this.data.findSkin(skinName);if(!skin)throw"Skin not found: "+skinName;this.setSkin(skin)},setSkin:function(newSkin){if(newSkin)if(this.skin)newSkin._attachAll(this,this.skin);else{var slots=this.slots;for(var i=0,n=slots.length;i<n;i++){var slot=slots[i];var name=slot.data.attachmentName;var name;name&&(name=newSkin.getAttachment(i,name))&&slot.setAttachment(name)}}this.skin=newSkin},getAttachmentBySlotName:function(slotName,attachmentName){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(slotName),attachmentName)},getAttachmentBySlotIndex:function(slotIndex,attachmentName){if(this.skin){var attachment=this.skin.getAttachment(slotIndex,attachmentName);if(attachment)return attachment}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(slotIndex,attachmentName):null},setAttachment:function(slotName,attachmentName){var slots=this.slots;for(var i=0,n=slots.length;i<n;i++){var slot=slots[i];if(slot.data.name==slotName){var attachment=null;if(attachmentName&&!(attachment=this.getAttachmentBySlotIndex(i,attachmentName)))throw"Attachment not found: "+attachmentName+", for slot: "+slotName;return void slot.setAttachment(attachment)}}throw"Slot not found: "+slotName},findIkConstraint:function(constraintName){var ikConstraints=this.ikConstraints;for(var i=0,n=ikConstraints.length;i<n;i++)if(ikConstraints[i].data.name==constraintName)return ikConstraints[i];return null},findTransformConstraint:function(constraintName){var transformConstraints=this.transformConstraints;for(var i=0,n=transformConstraints.length;i<n;i++)if(transformConstraints[i].data.name==constraintName)return transformConstraints[i];return null},update:function(delta){this.time+=delta}},spine.EventData=function(name){this.name=name},spine.EventData.prototype={intValue:0,floatValue:0,stringValue:null},spine.Event=function(time,data){this.time=time,this.data=data},spine.Event.prototype={intValue:0,floatValue:0,stringValue:null},spine.AttachmentType={region:0,boundingbox:1,mesh:2,weightedmesh:3,linkedmesh:4,weightedlinkedmesh:5},spine.RegionAttachment=function(name){this.name=name,this.offset=new spine.Float32Array(8),this.offset.length=8,this.uvs=new spine.Float32Array(8),this.uvs.length=8},spine.RegionAttachment.prototype={type:spine.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(u,v,u2,v2,rotate){var uvs=this.uvs;rotate?(uvs[2]=u,uvs[3]=v2,uvs[4]=u,uvs[5]=v,uvs[6]=u2,uvs[7]=v,uvs[0]=u2,uvs[1]=v2):(uvs[0]=u,uvs[1]=v2,uvs[2]=u,uvs[3]=v,uvs[4]=u2,uvs[5]=v,uvs[6]=u2,uvs[7]=v2)},updateOffset:function(){var regionScaleX=this.width/this.regionOriginalWidth*this.scaleX;var regionScaleY=this.height/this.regionOriginalHeight*this.scaleY;var localX=-this.width/2*this.scaleX+this.regionOffsetX*regionScaleX;var localY=-this.height/2*this.scaleY+this.regionOffsetY*regionScaleY;var regionScaleX=localX+this.regionWidth*regionScaleX;var regionScaleY=localY+this.regionHeight*regionScaleY;var radians=this.rotation*spine.degRad;var cos=Math.cos(radians);var radians=Math.sin(radians);var localXCos=localX*cos+this.x;var localX=localX*radians;var localYCos=localY*cos+this.y;var localY=localY*radians;var localX2Cos=regionScaleX*cos+this.x;var regionScaleX=regionScaleX*radians;var cos=regionScaleY*cos+this.y;var regionScaleY=regionScaleY*radians;var radians=this.offset;radians[0]=localXCos-localY,radians[1]=localYCos+localX,radians[2]=localXCos-regionScaleY,radians[3]=cos+localX,radians[4]=localX2Cos-regionScaleY,radians[5]=cos+regionScaleX,radians[6]=localX2Cos-localY,radians[7]=localYCos+regionScaleX},computeVertices:function(x,y,bone,vertices){x+=bone.worldX,y+=bone.worldY;var m00=bone.a,m01=bone.b,m10=bone.c,bone=bone.d;var offset=this.offset;vertices[0]=offset[0]*m00+offset[1]*m01+x,vertices[1]=offset[0]*m10+offset[1]*bone+y,vertices[2]=offset[2]*m00+offset[3]*m01+x,vertices[3]=offset[2]*m10+offset[3]*bone+y,vertices[4]=offset[4]*m00+offset[5]*m01+x,vertices[5]=offset[4]*m10+offset[5]*bone+y,vertices[6]=offset[6]*m00+offset[7]*m01+x,vertices[7]=offset[6]*m10+offset[7]*bone+y}},spine.MeshAttachment=function(name){this.name=name},spine.MeshAttachment.prototype={type:spine.AttachmentType.mesh,vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,inheritFFD:!0,parentMesh:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var width=this.regionU2-this.regionU,height=this.regionV2-this.regionV;var n=this.regionUVs.length;if(this.uvs&&this.uvs.length==n||(this.uvs=new spine.Float32Array(n)),this.regionRotate)for(var i=0;i<n;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i+1]*width,this.uvs[i+1]=this.regionV+height-this.regionUVs[i]*height;else for(var i=0;i<n;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i]*width,this.uvs[i+1]=this.regionV+this.regionUVs[i+1]*height},computeWorldVertices:function(x,y,slot,worldVertices){var bone=slot.bone;x+=bone.worldX,y+=bone.worldY;var m00=bone.a,m01=bone.b,m10=bone.c,m11=bone.d;var vertices=this.vertices;var verticesCount=vertices.length;slot.attachmentVertices.length==verticesCount&&(vertices=slot.attachmentVertices);for(var i=0;i<verticesCount;i+=2){var vx=vertices[i];var vy=vertices[i+1];worldVertices[i]=vx*m00+vy*m01+x,worldVertices[i+1]=vx*m10+vy*m11+y}},setParentMesh:function(parentMesh){(this.parentMesh=parentMesh)&&(this.vertices=parentMesh.vertices,this.regionUVs=parentMesh.regionUVs,this.triangles=parentMesh.triangles,this.hullLength=parentMesh.hullLength,this.edges=parentMesh.edges,this.width=parentMesh.width,this.height=parentMesh.height)}},spine.WeightedMeshAttachment=function(name){this.name=name},spine.WeightedMeshAttachment.prototype={type:spine.AttachmentType.weightedmesh,bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,inheritFFD:!0,parentMesh:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(u,v,u2,v2,rotate){var width=this.regionU2-this.regionU,height=this.regionV2-this.regionV;var n=this.regionUVs.length;if(this.uvs&&this.uvs.length==n||(this.uvs=new spine.Float32Array(n)),this.regionRotate)for(var i=0;i<n;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i+1]*width,this.uvs[i+1]=this.regionV+height-this.regionUVs[i]*height;else for(var i=0;i<n;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i]*width,this.uvs[i+1]=this.regionV+this.regionUVs[i+1]*height},computeWorldVertices:function(x,y,slot,worldVertices){var skeletonBones=slot.bone.skeleton.bones;var weights=this.weights;var bones=this.bones;var w=0,v=0,b=0,f=0,n=bones.length,nn;var wx,wy,bone,vx,vy,weight;if(slot.attachmentVertices.length){var ffd=slot.attachmentVertices;for(;v<n;w+=2){for(wy=wx=0,nn=bones[v++]+v;v<nn;v++,b+=3,f+=2)bone=skeletonBones[bones[v]],vx=weights[b]+ffd[f],vy=weights[b+1]+ffd[f+1],weight=weights[b+2],wx+=(vx*bone.a+vy*bone.b+bone.worldX)*weight,wy+=(vx*bone.c+vy*bone.d+bone.worldY)*weight;worldVertices[w]=wx+x,worldVertices[w+1]=wy+y}}else for(;v<n;w+=2){for(wy=wx=0,nn=bones[v++]+v;v<nn;v++,b+=3)bone=skeletonBones[bones[v]],vx=weights[b],vy=weights[b+1],weight=weights[b+2],wx+=(vx*bone.a+vy*bone.b+bone.worldX)*weight,wy+=(vx*bone.c+vy*bone.d+bone.worldY)*weight;worldVertices[w]=wx+x,worldVertices[w+1]=wy+y}},setParentMesh:function(parentMesh){(this.parentMesh=parentMesh)&&(this.bones=parentMesh.bones,this.weights=parentMesh.weights,this.regionUVs=parentMesh.regionUVs,this.triangles=parentMesh.triangles,this.hullLength=parentMesh.hullLength,this.edges=parentMesh.edges,this.width=parentMesh.width,this.height=parentMesh.height)}},spine.BoundingBoxAttachment=function(name){this.name=name,this.vertices=new spine.Float32Array},spine.BoundingBoxAttachment.prototype={type:spine.AttachmentType.boundingbox,computeWorldVertices:function(x,y,bone,worldVertices){x+=bone.worldX,y+=bone.worldY;var m00=bone.a,m01=bone.b,m10=bone.c,m11=bone.d;var vertices=this.vertices;for(var i=0,n=vertices.length;i<n;i+=2){var px=vertices[i];var py=vertices[i+1];worldVertices[i]=px*m00+py*m01+x,worldVertices[i+1]=px*m10+py*m11+y}}},spine.AnimationStateData=function(skeletonData){this.skeletonData=skeletonData,this.animationToMixTime={}},spine.AnimationStateData.prototype={defaultMix:0,setMixByName:function(fromName,toName,duration){var from=this.skeletonData.findAnimation(fromName);if(!from)throw"Animation not found: "+fromName;var fromName=this.skeletonData.findAnimation(toName);if(!fromName)throw"Animation not found: "+toName;this.setMix(from,fromName,duration)},setMix:function(from,to,duration){this.animationToMixTime[from.name+":"+to.name]=duration},getMix:function(from,to){var from=from.name+":"+to.name;return this.animationToMixTime.hasOwnProperty(from)?this.animationToMixTime[from]:this.defaultMix}},spine.TrackEntry=function(){},spine.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null},spine.AnimationState=function(stateData){this.data=stateData,this.tracks=[],this.events=[]},spine.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(delta){delta*=this.timeScale;for(var i=0;i<this.tracks.length;i++){var current=this.tracks[i];var previousDelta,previousDelta;current&&(current.time+=delta*current.timeScale,current.previous&&(previousDelta=delta*current.previous.timeScale,current.previous.time+=previousDelta,current.mixTime+=previousDelta),(previousDelta=current.next)?(previousDelta.time=current.lastTime-previousDelta.delay,0<=previousDelta.time&&this.setCurrent(i,previousDelta)):!current.loop&&current.lastTime>=current.endTime&&this.clearTrack(i))}},apply:function(skeleton){for(var i=0;i<this.tracks.length;i++){var current=this.tracks[i];if(current){this.events.length=0;var time=current.time;var lastTime=current.lastTime;var endTime=current.endTime;var loop=current.loop;!loop&&endTime<time&&(time=endTime);var previous=current.previous;var previousTime,previousTime;previous?(previousTime=previous.time,!previous.loop&&previousTime>previous.endTime&&(previousTime=previous.endTime),previous.animation.apply(skeleton,previousTime,previousTime,previous.loop,null),1<=(previousTime=current.mixTime/current.mixDuration*current.mix)&&(previousTime=1,current.previous=null),current.animation.mix(skeleton,current.lastTime,time,loop,this.events,previousTime)):1==current.mix?current.animation.apply(skeleton,current.lastTime,time,loop,this.events):current.animation.mix(skeleton,current.lastTime,time,loop,this.events,current.mix);for(var ii=0,nn=this.events.length;ii<nn;ii++){var event=this.events[ii];current.onEvent&&current.onEvent(i,event),this.onEvent&&this.onEvent(i,event)}var previous;(loop?time%endTime<lastTime%endTime:lastTime<endTime&&endTime<=time)&&(previous=Math.floor(time/endTime),current.onComplete&&current.onComplete(i,previous),this.onComplete)&&this.onComplete(i,previous),current.lastTime=current.time}}},clearTracks:function(){for(var i=0,n=this.tracks.length;i<n;i++)this.clearTrack(i);this.tracks.length=0},clearTrack:function(trackIndex){var current;trackIndex>=this.tracks.length||(current=this.tracks[trackIndex])&&(current.onEnd&&current.onEnd(trackIndex),this.onEnd&&this.onEnd(trackIndex),this.tracks[trackIndex]=null)},_expandToIndex:function(index){if(index<this.tracks.length)return this.tracks[index];for(;index>=this.tracks.length;)this.tracks[this.tracks.length]=null;return null},setCurrent:function(index,entry){var current=this._expandToIndex(index);var previous;current&&(previous=current.previous,current.previous=null,current.onEnd&&current.onEnd(index),this.onEnd&&this.onEnd(index),entry.mixDuration=this.data.getMix(current.animation,entry.animation),0<entry.mixDuration)&&(entry.mixTime=0,previous&&current.mixTime/current.mixDuration<.5?entry.previous=previous:entry.previous=current),(this.tracks[index]=entry).onStart&&entry.onStart(index),this.onStart&&this.onStart(index)},setAnimationByName:function(trackIndex,animationName,loop){var animation=this.data.skeletonData.findAnimation(animationName);if(animation)return this.setAnimation(trackIndex,animation,loop);throw"Animation not found: "+animationName},setAnimation:function(trackIndex,animation,loop){var entry=new spine.TrackEntry;return entry.animation=animation,entry.loop=loop,entry.endTime=animation.duration,this.setCurrent(trackIndex,entry),entry},addAnimationByName:function(trackIndex,animationName,loop,delay){var animation=this.data.skeletonData.findAnimation(animationName);if(animation)return this.addAnimation(trackIndex,animation,loop,delay);throw"Animation not found: "+animationName},addAnimation:function(trackIndex,animation,loop,delay){var entry=new spine.TrackEntry;entry.animation=animation,entry.loop=loop,entry.endTime=animation.duration;var last=this._expandToIndex(trackIndex);if(last){for(;last.next;)last=last.next;last.next=entry}else this.tracks[trackIndex]=entry;return delay<=0&&(last?delay+=last.endTime-this.data.getMix(last.animation,animation):delay=0),entry.delay=delay,entry},getCurrent:function(trackIndex){return trackIndex>=this.tracks.length?null:this.tracks[trackIndex]}},spine.SkeletonJson=function(attachmentLoader){this.attachmentLoader=attachmentLoader,this.linkedMeshes=[]},spine.SkeletonJson.prototype={scale:1,readSkeletonData:function(root,name){var skeletonData=new spine.SkeletonData;skeletonData.name=name;var name=root.skeleton;var bones;name&&(skeletonData.hash=name.hash,skeletonData.version=name.spine,skeletonData.width=name.width||0,skeletonData.height=name.height||0);for(var i=0,n=(bones=root.bones).length;i<n;i++){var boneMap=bones[i];var parent=null;if(boneMap.parent&&!(parent=skeletonData.findBone(boneMap.parent)))throw"Parent bone not found: "+boneMap.parent;var boneData;(boneData=new spine.BoneData(boneMap.name,parent)).length=(boneMap.length||0)*this.scale,boneData.x=(boneMap.x||0)*this.scale,boneData.y=(boneMap.y||0)*this.scale,boneData.rotation=boneMap.rotation||0,boneData.scaleX=boneMap.hasOwnProperty("scaleX")?boneMap.scaleX:1,boneData.scaleY=boneMap.hasOwnProperty("scaleY")?boneMap.scaleY:1,boneData.inheritScale=!boneMap.hasOwnProperty("inheritScale")||boneMap.inheritScale,boneData.inheritRotation=!boneMap.hasOwnProperty("inheritRotation")||boneMap.inheritRotation,skeletonData.bones[i]=boneData}var ik=root.ik;if(ik)for(var i=0,n=ik.length;i<n;i++){var ikMap=ik[i];var ikConstraintData=new spine.IkConstraintData(ikMap.name);var bones;for(var ii=0,nn=(bones=ikMap.bones).length;ii<nn;ii++){var bone=skeletonData.findBone(bones[ii]);if(!bone)throw"IK bone not found: "+bones[ii];ikConstraintData.bones[ii]=bone}if(ikConstraintData.target=skeletonData.findBone(ikMap.target),!ikConstraintData.target)throw"Target bone not found: "+ikMap.target;ikConstraintData.bendDirection=!ikMap.hasOwnProperty("bendPositive")||ikMap.bendPositive?1:-1,ikConstraintData.mix=ikMap.hasOwnProperty("mix")?ikMap.mix:1,skeletonData.ikConstraints[i]=ikConstraintData}var transform=root.transform;if(transform)for(var i=0,n=transform.length;i<n;i++){var transformMap=transform[i];var transformConstraintData=new spine.TransformConstraintData(transformMap.name);if(transformConstraintData.bone=skeletonData.findBone(transformMap.bone),!transformConstraintData.bone)throw"Bone not found: "+transformMap.bone;if(transformConstraintData.target=skeletonData.findBone(transformMap.target),!transformConstraintData.target)throw"Target bone not found: "+transformMap.target;transformConstraintData.mix=transformMap.hasOwnProperty("translateMix")?ikMap.translateMix:1,transformConstraintData.x=(transformMap.x||0)*this.scale,transformConstraintData.y=(transformMap.y||0)*this.scale,skeletonData.transformConstraints[i]=transformConstraintData}var slots=root.slots;for(var i=0,n=slots.length;i<n;i++){var slotMap=slots[i];var boneData;if(!(boneData=skeletonData.findBone(slotMap.bone)))throw"Slot bone not found: "+slotMap.bone;var slotData=new spine.SlotData(slotMap.name,boneData);var color=slotMap.color;color&&(slotData.r=this.toColor(color,0),slotData.g=this.toColor(color,1),slotData.b=this.toColor(color,2),slotData.a=this.toColor(color,3)),slotData.attachmentName=slotMap.attachment,slotData.blendMode=spine.BlendMode[slotMap.blend||"normal"],skeletonData.slots[i]=slotData}var skins=root.skins;for(var skinName in skins)if(skins.hasOwnProperty(skinName)){var skinMap=skins[skinName];var skin=new spine.Skin(skinName);for(var slotName in skinMap)if(skinMap.hasOwnProperty(slotName)){var slotIndex=skeletonData.findSlotIndex(slotName);var slotEntry=skinMap[slotName];for(var attachmentName in slotEntry){var attachment;slotEntry.hasOwnProperty(attachmentName)&&(attachment=this.readAttachment(skin,slotIndex,attachmentName,slotEntry[attachmentName]))&&skin.addAttachment(slotIndex,attachmentName,attachment)}}"default"==(skeletonData.skins[skeletonData.skins.length]=skin).name&&(skeletonData.defaultSkin=skin)}for(var i=0,n=this.linkedMeshes.length;i<n;i++){var linkedMesh=this.linkedMeshes[i];var skin;if(!(skin=linkedMesh.skin?skeletonData.findSkin(linkedMesh.skin):skeletonData.defaultSkin))throw"Skin not found: "+linkedMesh.skin;var parent;if(!(parent=skin.getAttachment(linkedMesh.slotIndex,linkedMesh.parent)))throw"Parent mesh not found: "+linkedMesh.parent;linkedMesh.mesh.setParentMesh(parent),linkedMesh.mesh.updateUVs()}this.linkedMeshes.length=0;var events=root.events;for(var eventName in events){var eventMap,eventName;events.hasOwnProperty(eventName)&&(eventMap=events[eventName],(eventName=new spine.EventData(eventName)).intValue=eventMap.int||0,eventName.floatValue=eventMap.float||0,eventName.stringValue=eventMap.string||null,skeletonData.events[skeletonData.events.length]=eventName)}var animations=root.animations;for(var animationName in animations)animations.hasOwnProperty(animationName)&&this.readAnimation(animationName,animations[animationName],skeletonData);return skeletonData},readAttachment:function(skin,slotIndex,name,map){name=map.name||name;var type=map.type||"region";type=spine.AttachmentType[type="skinnedmesh"==type?"weightedmesh":type];var path=map.path||name;var scale=this.scale;switch(type){case spine.AttachmentType.region:var region=this.attachmentLoader.newRegionAttachment(skin,name,path);if(!region)return null;region.path=path,region.x=(map.x||0)*scale,region.y=(map.y||0)*scale,region.scaleX=map.hasOwnProperty("scaleX")?map.scaleX:1,region.scaleY=map.hasOwnProperty("scaleY")?map.scaleY:1,region.rotation=map.rotation||0,region.width=(map.width||0)*scale,region.height=(map.height||0)*scale;var color=map.color;return color&&(region.r=this.toColor(color,0),region.g=this.toColor(color,1),region.b=this.toColor(color,2),region.a=this.toColor(color,3)),region.updateOffset(),region;case spine.AttachmentType.mesh:case spine.AttachmentType.linkedmesh:var mesh;return(mesh=this.attachmentLoader.newMeshAttachment(skin,name,path))?(mesh.path=path,(color=map.color)&&(mesh.r=this.toColor(color,0),mesh.g=this.toColor(color,1),mesh.b=this.toColor(color,2),mesh.a=this.toColor(color,3)),mesh.width=(map.width||0)*scale,mesh.height=(map.height||0)*scale,map.parent?(mesh.inheritFFD=!map.hasOwnProperty("ffd")||map.ffd,this.linkedMeshes[this.linkedMeshes.length]={mesh:mesh,skin:map.skin,slotIndex:slotIndex,parent:map.parent}):(mesh.vertices=this.getFloatArray(map,"vertices",scale),mesh.triangles=this.getUint32Array(map,"triangles"),mesh.regionUVs=this.getFloatArray(map,"uvs",1),mesh.updateUVs(),mesh.hullLength=2*(map.hull||0),map.edges&&(mesh.edges=this.getUint16Array(map,"edges"))),mesh):null;case spine.AttachmentType.weightedmesh:case spine.AttachmentType.weightedlinkedmesh:var mesh;if(!(mesh=this.attachmentLoader.newWeightedMeshAttachment(skin,name,path)))return null;if(mesh.path=path,(color=map.color)&&(mesh.r=this.toColor(color,0),mesh.g=this.toColor(color,1),mesh.b=this.toColor(color,2),mesh.a=this.toColor(color,3)),mesh.width=(map.width||0)*scale,mesh.height=(map.height||0)*scale,map.parent)mesh.inheritFFD=!map.hasOwnProperty("ffd")||map.ffd,this.linkedMeshes[this.linkedMeshes.length]={mesh:mesh,skin:map.skin,slotIndex:slotIndex,parent:map.parent};else{var region=this.getFloatArray(map,"uvs",1);var vertices=this.getFloatArray(map,"vertices",1);var weights=new spine.Float32Array(3*region.length*3);var bones=new spine.Uint32Array(3*region.length);for(var i=0,b=0,w=0,n=vertices.length;i<n;){var boneCount=0|vertices[i++];for(var nn=i+4*(bones[b++]=boneCount);i<nn;)bones[b++]=vertices[i],weights[w++]=vertices[i+1]*scale,weights[w++]=vertices[i+2]*scale,weights[w++]=vertices[i+3],i+=4}mesh.bones=bones,mesh.weights=weights,mesh.triangles=this.getUint32Array(map,"triangles"),mesh.regionUVs=region,mesh.updateUVs(),mesh.hullLength=2*(map.hull||0),map.edges&&(mesh.edges=this.getUint16Array(map,"edges"))}return mesh;case spine.AttachmentType.boundingbox:var attachment=this.attachmentLoader.newBoundingBoxAttachment(skin,name);var vertices=map.vertices;attachment.vertices=new spine.Float32Array(vertices.length);for(var i=0,n=vertices.length;i<n;i++)attachment.vertices[i]=vertices[i]*scale;return attachment}throw"Unknown attachment type: "+type},readAnimation:function(name,map,skeletonData){var timelines=[];var duration=0;var slots=map.slots;for(var slotName in slots)if(slots.hasOwnProperty(slotName)){var slotMap=slots[slotName];var slotIndex=skeletonData.findSlotIndex(slotName);for(var timelineName in slotMap)if(slotMap.hasOwnProperty(timelineName)){var values=slotMap[timelineName];if("color"==timelineName){var timeline;(timeline=new spine.ColorTimeline(values.length)).slotIndex=slotIndex;var frameIndex=0;for(var i=0,n=values.length;i<n;i++){var valueMap;var color=(valueMap=values[i]).color;var r=this.toColor(color,0);var g=this.toColor(color,1);var b=this.toColor(color,2);var color=this.toColor(color,3);timeline.setFrame(frameIndex,valueMap.time,r,g,b,color),this.readCurve(timeline,frameIndex,valueMap),frameIndex++}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[5*timeline.getFrameCount()-5])}else{if("attachment"!=timelineName)throw"Invalid timeline type for a slot: "+timelineName+" ("+slotName+")";var timeline;(timeline=new spine.AttachmentTimeline(values.length)).slotIndex=slotIndex;var frameIndex=0;for(var i=0,n=values.length;i<n;i++){var valueMap=values[i];timeline.setFrame(frameIndex++,valueMap.time,valueMap.name)}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[timeline.getFrameCount()-1])}}}var bones=map.bones;for(var boneName in bones)if(bones.hasOwnProperty(boneName)){var boneIndex=skeletonData.findBoneIndex(boneName);if(-1==boneIndex)throw"Bone not found: "+boneName;var boneMap=bones[boneName];for(var timelineName in boneMap)if(boneMap.hasOwnProperty(timelineName)){var values=boneMap[timelineName];if("rotate"==timelineName){var timeline;(timeline=new spine.RotateTimeline(values.length)).boneIndex=boneIndex;var frameIndex=0;for(var i=0,n=values.length;i<n;i++){var valueMap=values[i];timeline.setFrame(frameIndex,valueMap.time,valueMap.angle),this.readCurve(timeline,frameIndex,valueMap),frameIndex++}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[2*timeline.getFrameCount()-2])}else{if("translate"!=timelineName&&"scale"!=timelineName)throw"Invalid timeline type for a bone: "+timelineName+" ("+boneName+")";var timeline;var timelineScale=1;"scale"==timelineName?timeline=new spine.ScaleTimeline(values.length):(timeline=new spine.TranslateTimeline(values.length),timelineScale=this.scale),timeline.boneIndex=boneIndex;var frameIndex=0;for(var i=0,n=values.length;i<n;i++){var valueMap;var x=((valueMap=values[i]).x||0)*timelineScale;var y=(valueMap.y||0)*timelineScale;timeline.setFrame(frameIndex,valueMap.time,x,y),this.readCurve(timeline,frameIndex,valueMap),frameIndex++}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[3*timeline.getFrameCount()-3])}}}var ikMap=map.ik;for(var ikConstraintName in ikMap)if(ikMap.hasOwnProperty(ikConstraintName)){var ikConstraint=skeletonData.findIkConstraint(ikConstraintName);var values=ikMap[ikConstraintName];var timeline;(timeline=new spine.IkConstraintTimeline(values.length)).ikConstraintIndex=skeletonData.ikConstraints.indexOf(ikConstraint);var frameIndex=0;for(var i=0,n=values.length;i<n;i++){var valueMap;var mix=(valueMap=values[i]).hasOwnProperty("mix")?valueMap.mix:1;var bendDirection=!valueMap.hasOwnProperty("bendPositive")||valueMap.bendPositive?1:-1;timeline.setFrame(frameIndex,valueMap.time,mix,bendDirection),this.readCurve(timeline,frameIndex,valueMap),frameIndex++}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[3*timeline.getFrameCount()-3])}var ffd=map.ffd;for(var skinName in ffd){var skin=skeletonData.findSkin(skinName);var slotMap;for(slotName in slotMap=ffd[skinName]){var slotIndex=skeletonData.findSlotIndex(slotName);var meshMap=slotMap[slotName];for(var meshName in meshMap){var values=meshMap[meshName];var timeline=new spine.FfdTimeline(values.length);var attachment=skin.getAttachment(slotIndex,meshName);if(!attachment)throw"FFD attachment not found: "+meshName;timeline.slotIndex=slotIndex;var isMesh=(timeline.attachment=attachment).type==spine.AttachmentType.mesh;var vertexCount;vertexCount=isMesh?attachment.vertices.length:attachment.weights.length/3*2;var frameIndex=0;for(var i=0,n=values.length;i<n;i++){var valueMap;var vertices;if((valueMap=values[i]).vertices){var verticesValue=valueMap.vertices;var vertices;(vertices=new spine.Float32Array(vertexCount)).length=vertexCount;var start=valueMap.offset||0;var nn=verticesValue.length;if(1==this.scale)for(var ii=0;ii<nn;ii++)vertices[ii+start]=verticesValue[ii];else for(var ii=0;ii<nn;ii++)vertices[ii+start]=verticesValue[ii]*this.scale;if(isMesh){var meshVertices=attachment.vertices;for(var ii=0,nn=vertices.length;ii<nn;ii++)vertices[ii]+=meshVertices[ii]}}else isMesh?vertices=attachment.vertices:(vertices=new spine.Float32Array(vertexCount)).length=vertexCount;timeline.setFrame(frameIndex,valueMap.time,vertices),this.readCurve(timeline,frameIndex,valueMap),frameIndex++}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[timeline.getFrameCount()-1])}}}var drawOrderValues=map.drawOrder;if(drawOrderValues=drawOrderValues||map.draworder){var timeline=new spine.DrawOrderTimeline(drawOrderValues.length);var slotCount=skeletonData.slots.length;var frameIndex=0;for(var i=0,n=drawOrderValues.length;i<n;i++){var drawOrderMap=drawOrderValues[i];var drawOrder=null;if(drawOrderMap.offsets){for(var ii=((drawOrder=new spine.Uint32Array(slotCount)).length=slotCount)-1;0<=ii;ii--)drawOrder[ii]=4294967295;var offsets=drawOrderMap.offsets;var unchanged=new spine.Uint32Array(slotCount-offsets.length);unchanged.length=slotCount-offsets.length;var originalIndex=0,unchangedIndex=0;for(var ii=0,nn=offsets.length;ii<nn;ii++){var offsetMap=offsets[ii];var slotIndex;if(-1==(slotIndex=skeletonData.findSlotIndex(offsetMap.slot)))throw"Slot not found: "+offsetMap.slot;for(;originalIndex!=slotIndex;)unchanged[unchangedIndex++]=originalIndex++;drawOrder[originalIndex+offsetMap.offset]=originalIndex++}for(;originalIndex<slotCount;)unchanged[unchangedIndex++]=originalIndex++;for(var ii=slotCount-1;0<=ii;ii--)4294967295==drawOrder[ii]&&(drawOrder[ii]=unchanged[--unchangedIndex])}timeline.setFrame(frameIndex++,drawOrderMap.time,drawOrder)}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[timeline.getFrameCount()-1])}var events=map.events;if(events){var timeline=new spine.EventTimeline(events.length);var frameIndex=0;for(var i=0,n=events.length;i<n;i++){var eventMap=events[i];var eventData=skeletonData.findEvent(eventMap.name);if(!eventData)throw"Event not found: "+eventMap.name;var event=new spine.Event(eventMap.time,eventData);event.intValue=eventMap.hasOwnProperty("int")?eventMap.int:eventData.intValue,event.floatValue=eventMap.hasOwnProperty("float")?eventMap.float:eventData.floatValue,event.stringValue=eventMap.hasOwnProperty("string")?eventMap.string:eventData.stringValue,timeline.setFrame(frameIndex++,event)}timelines[timelines.length]=timeline,duration=Math.max(duration,timeline.frames[timeline.getFrameCount()-1])}skeletonData.animations[skeletonData.animations.length]=new spine.Animation(name,timelines,duration)},readCurve:function(timeline,frameIndex,valueMap){var valueMap=valueMap.curve;valueMap?"stepped"==valueMap?timeline.curves.setStepped(frameIndex):valueMap instanceof Array&&timeline.curves.setCurve(frameIndex,valueMap[0],valueMap[1],valueMap[2],valueMap[3]):timeline.curves.setLinear(frameIndex)},toColor:function(hexString,colorIndex){if(8!=hexString.length)throw"Color hexidecimal length must be 8, recieved: "+hexString;return parseInt(hexString.substring(2*colorIndex,2*colorIndex+2),16)/255},getFloatArray:function(map,name,scale){var list=map[name];var values=new spine.Float32Array(list.length);var i=0,n=list.length;if(1==scale)for(;i<n;i++)values[i]=list[i];else for(;i<n;i++)values[i]=list[i]*scale;return values},getUint32Array:function(map,name){var list=map[name];var values=new spine.Uint32Array(list.length);for(var i=0,n=list.length;i<n;i++)values[i]=0|list[i];return values},getUint16Array:function(map,name){var list=map[name];var values=new spine.Uint16Array(list.length);for(var i=0,n=list.length;i<n;i++)values[i]=0|list[i];return values}},spine.Atlas=function(atlasText,textureLoader){this.textureLoader=textureLoader,this.pages=[],this.regions=[];var reader=new spine.AtlasReader(atlasText);var tuple=[];tuple.length=4;var page=null;for(;;){var line=reader.readLine();if(null===line)break;var region,x,y,width,height,x;(line=reader.trim(line)).length?page?((region=new spine.AtlasRegion).name=line,region.page=page,region.rotate="true"==reader.readValue(),reader.readTuple(tuple),x=parseInt(tuple[0]),y=parseInt(tuple[1]),reader.readTuple(tuple),width=parseInt(tuple[0]),height=parseInt(tuple[1]),region.u=x/page.width,region.v=y/page.height,region.rotate?(region.u2=(x+height)/page.width,region.v2=(y+width)/page.height):(region.u2=(x+width)/page.width,region.v2=(y+height)/page.height),region.x=x,region.y=y,region.width=Math.abs(width),region.height=Math.abs(height),4==reader.readTuple(tuple)&&(region.splits=[parseInt(tuple[0]),parseInt(tuple[1]),parseInt(tuple[2]),parseInt(tuple[3])],4==reader.readTuple(tuple))&&(region.pads=[parseInt(tuple[0]),parseInt(tuple[1]),parseInt(tuple[2]),parseInt(tuple[3])],reader.readTuple(tuple)),region.originalWidth=parseInt(tuple[0]),region.originalHeight=parseInt(tuple[1]),reader.readTuple(tuple),region.offsetX=parseInt(tuple[0]),region.offsetY=parseInt(tuple[1]),region.index=parseInt(reader.readValue()),this.regions[this.regions.length]=region):((page=new spine.AtlasPage).name=line,2==reader.readTuple(tuple)&&(page.width=parseInt(tuple[0]),page.height=parseInt(tuple[1]),reader.readTuple(tuple)),page.format=spine.Atlas.Format[tuple[0]],reader.readTuple(tuple),page.minFilter=spine.Atlas.TextureFilter[tuple[0]],page.magFilter=spine.Atlas.TextureFilter[tuple[1]],x=reader.readValue(),page.uWrap=spine.Atlas.TextureWrap.clampToEdge,page.vWrap=spine.Atlas.TextureWrap.clampToEdge,"x"==x?page.uWrap=spine.Atlas.TextureWrap.repeat:"y"==x?page.vWrap=spine.Atlas.TextureWrap.repeat:"xy"==x&&(page.uWrap=page.vWrap=spine.Atlas.TextureWrap.repeat),textureLoader.load(page,line,this),this.pages[this.pages.length]=page):page=null}},spine.Atlas.prototype={findRegion:function(name){var regions=this.regions;for(var i=0,n=regions.length;i<n;i++)if(regions[i].name==name)return regions[i];return null},dispose:function(){var pages=this.pages;for(var i=0,n=pages.length;i<n;i++)this.textureLoader.unload(pages[i].rendererObject)},updateUVs:function(page){var regions=this.regions;for(var i=0,n=regions.length;i<n;i++){var region=regions[i];region.page==page&&(region.u=region.x/page.width,region.v=region.y/page.height,region.rotate?(region.u2=(region.x+region.height)/page.width,region.v2=(region.y+region.width)/page.height):(region.u2=(region.x+region.width)/page.width,region.v2=(region.y+region.height)/page.height))}}},spine.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},spine.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},spine.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},spine.AtlasPage=function(){},spine.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},spine.AtlasRegion=function(){},spine.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},spine.AtlasReader=function(text){this.lines=text.split(/\r\n|\r|\n/)},spine.AtlasReader.prototype={index:0,trim:function(value){return value.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var line=this.readLine();var colon=line.indexOf(":");if(-1==colon)throw"Invalid line: "+line;return this.trim(line.substring(colon+1))},readTuple:function(tuple){var line=this.readLine();var colon=line.indexOf(":");if(-1==colon)throw"Invalid line: "+line;var i=0,lastMatch=colon+1;for(;i<3;i++){var comma=line.indexOf(",",lastMatch);if(-1==comma)break;tuple[i]=this.trim(line.substr(lastMatch,comma-lastMatch)),lastMatch=comma+1}return tuple[i]=this.trim(line.substring(lastMatch)),i+1}},spine.AtlasAttachmentLoader=function(atlas){this.atlas=atlas},spine.AtlasAttachmentLoader.prototype={newRegionAttachment:function(skin,name,path){var region=this.atlas.findRegion(path);var attachment;if(region)return(attachment=new spine.RegionAttachment(name)).rendererObject=region,attachment.setUVs(region.u,region.v,region.u2,region.v2,region.rotate),attachment.regionOffsetX=region.offsetX,attachment.regionOffsetY=region.offsetY,attachment.regionWidth=region.width,attachment.regionHeight=region.height,attachment.regionOriginalWidth=region.originalWidth,attachment.regionOriginalHeight=region.originalHeight,attachment;throw"Region not found in atlas: "+path+" (region attachment: "+name+")"},newMeshAttachment:function(skin,name,path){var region=this.atlas.findRegion(path);var attachment;if(region)return(attachment=new spine.MeshAttachment(name)).rendererObject=region,attachment.regionU=region.u,attachment.regionV=region.v,attachment.regionU2=region.u2,attachment.regionV2=region.v2,attachment.regionRotate=region.rotate,attachment.regionOffsetX=region.offsetX,attachment.regionOffsetY=region.offsetY,attachment.regionWidth=region.width,attachment.regionHeight=region.height,attachment.regionOriginalWidth=region.originalWidth,attachment.regionOriginalHeight=region.originalHeight,attachment;throw"Region not found in atlas: "+path+" (mesh attachment: "+name+")"},newWeightedMeshAttachment:function(skin,name,path){var region=this.atlas.findRegion(path);var attachment;if(region)return(attachment=new spine.WeightedMeshAttachment(name)).rendererObject=region,attachment.regionU=region.u,attachment.regionV=region.v,attachment.regionU2=region.u2,attachment.regionV2=region.v2,attachment.regionRotate=region.rotate,attachment.regionOffsetX=region.offsetX,attachment.regionOffsetY=region.offsetY,attachment.regionWidth=region.width,attachment.regionHeight=region.height,attachment.regionOriginalWidth=region.originalWidth,attachment.regionOriginalHeight=region.originalHeight,attachment;throw"Region not found in atlas: "+path+" (weighted mesh attachment: "+name+")"},newBoundingBoxAttachment:function(skin,name){return new spine.BoundingBoxAttachment(name)}},spine.SkeletonBounds=function(){this.polygonPool=[],this.polygons=[],this.boundingBoxes=[]},spine.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(skeleton,updateAabb){var slots=skeleton.slots;var slotCount=slots.length;var x=skeleton.x,y=skeleton.y;var boundingBoxes=this.boundingBoxes;var polygonPool=this.polygonPool;var polygons=this.polygons;for(var i=boundingBoxes.length=0,n=polygons.length;i<n;i++)polygonPool[polygonPool.length]=polygons[i];for(var i=polygons.length=0;i<slotCount;i++){var slot=slots[i];var boundingBox=slot.attachment;var poolCount,polygon;boundingBox.type==spine.AttachmentType.boundingbox&&(boundingBoxes[boundingBoxes.length]=boundingBox,0<(poolCount=polygonPool.length)?(polygon=polygonPool[poolCount-1],polygonPool.splice(poolCount-1,1)):polygon=new spine.Float32Array,(polygons[polygons.length]=polygon).length=boundingBox.vertices.length,boundingBox.computeWorldVertices(x,y,slot.bone,polygon))}updateAabb&&this.aabbCompute()},aabbCompute:function(){var polygons=this.polygons;var minX=Number.MAX_VALUE,minY=Number.MAX_VALUE,maxX=-Number.MAX_VALUE,maxY=-Number.MAX_VALUE;for(var i=0,n=polygons.length;i<n;i++){var vertices=polygons[i];for(var ii=0,nn=vertices.length;ii<nn;ii+=2){var x=vertices[ii];var y=vertices[ii+1];minX=Math.min(minX,x),minY=Math.min(minY,y),maxX=Math.max(maxX,x),maxY=Math.max(maxY,y)}}this.minX=minX,this.minY=minY,this.maxX=maxX,this.maxY=maxY},aabbContainsPoint:function(x,y){return x>=this.minX&&x<=this.maxX&&y>=this.minY&&y<=this.maxY},aabbIntersectsSegment:function(x1,y1,x2,y2){var minX=this.minX,minY=this.minY,maxX=this.maxX,maxY=this.maxY;var y2,x2,x2;return!(x1<=minX&&x2<=minX||y1<=minY&&y2<=minY||maxX<=x1&&maxX<=x2||maxY<=y1&&maxY<=y2)&&(minY<(x2=(y2=(y2-y1)/(x2-x1))*(minX-x1)+y1)&&x2<maxY||minY<(x2=y2*(maxX-x1)+y1)&&x2<maxY||minX<(x2=(minY-y1)/y2+x1)&&x2<maxX||minX<(x2=(maxY-y1)/y2+x1)&&x2<maxX)},aabbIntersectsSkeleton:function(bounds){return this.minX<bounds.maxX&&this.maxX>bounds.minX&&this.minY<bounds.maxY&&this.maxY>bounds.minY},containsPoint:function(x,y){var polygons=this.polygons;for(var i=0,n=polygons.length;i<n;i++)if(this.polygonContainsPoint(polygons[i],x,y))return this.boundingBoxes[i];return null},intersectsSegment:function(x1,y1,x2,y2){var polygons=this.polygons;for(var i=0,n=polygons.length;i<n;i++)if(polygons[i].intersectsSegment(x1,y1,x2,y2))return this.boundingBoxes[i];return null},polygonContainsPoint:function(polygon,x,y){var nn=polygon.length;var prevIndex=nn-2;var inside=!1;for(var ii=0;ii<nn;ii+=2){var vertexY=polygon[ii+1];var prevY=polygon[prevIndex+1];var vertexX;(vertexY<y&&y<=prevY||prevY<y&&y<=vertexY)&&(vertexX=polygon[ii])+(y-vertexY)/(prevY-vertexY)*(polygon[prevIndex]-vertexX)<x&&(inside=!inside),prevIndex=ii}return inside},polygonIntersectsSegment:function(polygon,x1,y1,x2,y2){var nn=polygon.length;var width12=x1-x2,height12=y1-y2;var det1=x1*y2-y1*x2;var x3=polygon[nn-2],y3=polygon[nn-1];for(var ii=0;ii<nn;ii+=2){var x4=polygon[ii],y4=polygon[ii+1];var det2=x3*y4-y3*x4;var width34=x3-x4,height34=y3-y4;var det3=width12*height34-height12*width34;var width34=(det1*width34-width12*det2)/det3;if((x3<=width34&&width34<=x4||x4<=width34&&width34<=x3)&&(x1<=width34&&width34<=x2||x2<=width34&&width34<=x1)){var width34=(det1*height34-height12*det2)/det3;if((y3<=width34&&width34<=y4||y4<=width34&&width34<=y3)&&(y1<=width34&&width34<=y2||y2<=width34&&width34<=y1))return!0}x3=x4,y3=y4}return!1},getPolygon:function(attachment){var attachment=this.boundingBoxes.indexOf(attachment);return-1==attachment?null:this.polygons[attachment]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}};var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};var PhaserSpine;var PhaserSpine;var PhaserSpine;var PhaserSuperStorage;var PhaserSuperStorage;var PhaserSuperStorage;var PhaserSuperStorage;var PhaserSuperStorage;var PhaserSuperStorage;!function(PhaserSpine){var SpinePlugin=function(_super){function SpinePlugin(game,parent){var game=_super.call(this,game,parent)||this;return game.addSpineCache(),game.addSpineFactory(),game.addSpineLoader(),game}return __extends(SpinePlugin,_super),SpinePlugin.prototype.addSpineLoader=function(){Phaser.Loader.prototype.spine=function(key,url,scalingVariants){var _this=this;var atlasKey=key+"Atlas";var cacheData={atlas:atlasKey,basePath:""===url.substring(0,url.lastIndexOf("/"))?".":url.substring(0,url.lastIndexOf("/")),variants:void 0};void 0===scalingVariants?scalingVariants=[""]:cacheData.variants=scalingVariants,scalingVariants.forEach(function(variant){_this.onFileComplete.add(function(progress,cacheKey){var atlas;cacheKey===atlasKey&&(atlas=new spine.Atlas(_this.game.cache.getText(cacheKey),{load:function(page,file,atlas){_this.image(file,cacheData.basePath+"/"+file.substr(0,file.lastIndexOf("."))+variant+".png")}}))}),_this.text(atlasKey,url.substr(0,url.lastIndexOf("."))+variant+".atlas")}),this.json(key,url),this.game.cache.addSpine(key,cacheData)}},SpinePlugin.prototype.addSpineFactory=function(){Phaser.GameObjectFactory.prototype.spine=function(x,y,key,scalingVariant,group){void 0===group&&(group=this.world);var key=new PhaserSpine.Spine(this.game,key,scalingVariant);return key.setToSetupPose(),key.position.x=x,key.position.y=y,group.add(key)},Phaser.GameObjectCreator.prototype.spine=function(x,y,key,scalingVariant,group){return new PhaserSpine.Spine(this.game,key,scalingVariant)}},SpinePlugin.prototype.addSpineCache=function(){Phaser.Cache.prototype.spine={},Phaser.Cache.prototype.addSpine=function(key,data){this.spine[key]=data},Phaser.Cache.prototype.getSpine=function(key){return this.spine.hasOwnProperty(key),this.spine[key]}},SpinePlugin}(Phaser.Plugin);SpinePlugin.RESOLUTION_REGEXP=/@(.+)x/,PhaserSpine.SpinePlugin=SpinePlugin}(PhaserSpine=PhaserSpine||{}),Phaser.Rope.prototype.postUpdate=function(){},spine.Bone.yDown=!0,function(PhaserSpine){var Spine=function(_super){function Spine(game,key,scalingVariant){var _this=_super.call(this,game)||this;_this.imageScale=1;var data=_this.game.cache.getSpine(key);void 0!==scalingVariant&&-1!==data.variants.indexOf(scalingVariant)?_this.imageScale=_this.getScaleFromVariant(scalingVariant):data.variants&&1<=data.variants.length&&(_this.imageScale=_this.getScaleFromVariant(data.variants[0]));var scalingVariant=new PhaserSpine.SpineTextureLoader(game);var data=new spine.Atlas(game.cache.getText(data.atlas),scalingVariant);var scalingVariant=new spine.AtlasAttachmentLoader(data);var data=new spine.SkeletonJson(scalingVariant);if(_this.skeletonData=data.readSkeletonData(game.cache.getJSON(key)),!_this.skeletonData)throw new Error("Spine data must be preloaded using Loader.spine");_this.onEvent=new Phaser.Signal,_this.onComplete=new Phaser.Signal,_this.onEnd=new Phaser.Signal,_this.skeleton=new spine.Skeleton(_this.skeletonData),_this.skeleton.updateWorldTransform(),_this.stateData=new spine.AnimationStateData(_this.skeletonData),_this.state=new spine.AnimationState(_this.stateData),_this.state.onEvent=_this.onEvent.dispatch.bind(_this.onEvent),_this.state.onComplete=_this.onComplete.dispatch.bind(_this.onComplete),_this.state.onEnd=_this.onEnd.dispatch.bind(_this.onEnd),_this.slotContainers=[];for(var i=0,n=_this.skeleton.slots.length;i<n;i++){var slot=_this.skeleton.slots[i];var attachment=slot.attachment;var slotContainer=new Phaser.Group(game);var spriteName,sprite,spriteName;_this.slotContainers.push(slotContainer),_this.add(slotContainer),attachment instanceof spine.RegionAttachment?(spriteName=attachment.rendererObject.name,sprite=_this.createSprite(slot,attachment),slot.currentSprite=sprite,slot.currentSpriteName=spriteName,slotContainer.add(sprite)):attachment instanceof spine.WeightedMeshAttachment&&(spriteName=_this.createMesh(slot,attachment),slot.currentMesh=spriteName,slot.currentMeshName=attachment.name,slotContainer.add(spriteName))}return _this.autoUpdate=!0,_this}return __extends(Spine,_super),Object.defineProperty(Spine.prototype,"autoUpdate",{get:function(){return this.updateTransform===PhaserSpine.Spine.prototype.autoUpdateTransform},set:function(value){this.updateTransform=value?PhaserSpine.Spine.prototype.autoUpdateTransform:PIXI.DisplayObjectContainer.prototype.updateTransform},enumerable:!0,configurable:!0}),Spine.prototype.getScaleFromVariant=function(variant){var variant=PhaserSpine.SpinePlugin.RESOLUTION_REGEXP.exec(variant);return variant?parseFloat(variant[1]):1},Spine.prototype.setTint=function(tint){this.globalTint=tint;var slots=this.skeleton.slots;for(var i=0;i<slots.length;i++){var slot=slots[i];slot.currentSprite&&(slot.currentSprite.tint=tint)}},Spine.prototype.update=function(dt){if(void 0!==dt){this.state.update(dt),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();var drawOrder=this.skeleton.drawOrder;var slots=this.skeleton.slots;for(var i=0,n=drawOrder.length;i<n;i++)void 0!==drawOrder[i].currentSprite&&(this.children[i]=drawOrder[i].currentSprite.parent);for(var i=0,n=slots.length;i<n;i++){var slot=slots[i];var attachment=slot.attachment;var slotContainer=this.slotContainers[i];if(attachment){var type=attachment.type;if(type===spine.AttachmentType.region){var spriteName,sprite;!attachment.rendererObject||slot.currentSpriteName&&slot.currentSpriteName===attachment.name||(spriteName=attachment.rendererObject.name,void 0!==slot.currentSprite&&(slot.currentSprite.visible=!1),slot.sprites=slot.sprites||{},void 0!==slot.sprites[spriteName]?slot.sprites[spriteName].visible=!0:(sprite=this.createSprite(slot,attachment),slotContainer.add(sprite)),slot.currentSprite=slot.sprites[spriteName],slot.currentSpriteName=spriteName);var sprite=slot.bone;slotContainer.position.x=attachment.x*sprite.a+attachment.y*sprite.b+sprite.worldX,slotContainer.position.y=attachment.x*sprite.c+attachment.y*sprite.d+sprite.worldY,slotContainer.scale.x=sprite.getWorldScaleX(),slotContainer.scale.y=sprite.getWorldScaleY(),slotContainer.rotation=(sprite.getWorldRotationX()-attachment.rotation)*Math.PI/180,sprite.getWorldScaleY()<0&&(slotContainer.scale.y=-slotContainer.scale.y),sprite.getWorldScaleX()<0&&(slotContainer.scale.x=-slotContainer.scale.x),(sprite.getWorldScaleY()<0||sprite.getWorldScaleX()<0)&&(slotContainer.rotation=-slotContainer.rotation),slot.currentSprite.blendMode=slot.blendMode,this.globalTint||(slot.currentSprite.tint=slot.currentSprite.tint=parseInt(Phaser.Color.componentToHex(255*slot.r).substring(0,2)+Phaser.Color.componentToHex(255*slot.g).substring(0,2)+Phaser.Color.componentToHex(255*slot.b).substring(0,2),16))}else{if(type!==spine.AttachmentType.weightedmesh&&type!==spine.AttachmentType.weightedlinkedmesh){slotContainer.visible=!1;continue}var spriteName,type;slot.currentMeshName&&slot.currentMeshName===attachment.name||(spriteName=attachment.name,void 0!==slot.currentMesh&&(slot.currentMesh.visible=!1),slot.meshes=slot.meshes||{},void 0!==slot.meshes[spriteName]?slot.meshes[spriteName].visible=!0:(type=this.createMesh(slot,attachment),slotContainer.add(type)),slot.currentMesh=slot.meshes[spriteName],slot.currentMeshName=spriteName),attachment.computeWorldVertices(slot.bone.skeleton.x,slot.bone.skeleton.y,slot,slot.currentMesh.vertices)}slotContainer.visible=!0,slotContainer.alpha=slot.a}else slotContainer.visible=!1}}},Spine.prototype.destroy=function(destroyChildren,soft){_super.prototype.destroy.call(this,!0,soft)},Spine.prototype.autoUpdateTransform=function(){var timeDelta;Spine.globalAutoUpdate?(this.lastTime=this.lastTime||Date.now(),timeDelta=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(timeDelta)):this.lastTime=0,PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},Spine.prototype.createSprite=function(slot,attachment){var descriptor=attachment.rendererObject;var baseTexture=descriptor.page.rendererObject;var spriteRect=new PIXI.Rectangle(descriptor.x,descriptor.y,descriptor.rotate?descriptor.height:descriptor.width,descriptor.rotate?descriptor.width:descriptor.height);var baseTexture=new PIXI.Texture(baseTexture,spriteRect);var spriteRect=new Phaser.Sprite(this.game,0,0,baseTexture);var baseTexture=descriptor.rotate?.5*Math.PI:0;var baseTexture;return spriteRect.scale.x=descriptor.width/descriptor.originalWidth*attachment.scaleX/this.imageScale,spriteRect.scale.y=descriptor.height/descriptor.originalHeight*attachment.scaleY/this.imageScale,spriteRect.rotation=baseTexture,spriteRect.anchor.x=(.5*descriptor.originalWidth-descriptor.offsetX)/descriptor.width,spriteRect.anchor.y=1-(.5*descriptor.originalHeight-descriptor.offsetY)/descriptor.height,spriteRect.alpha=attachment.a,descriptor.rotate&&(baseTexture=spriteRect.scale.x,spriteRect.scale.x=spriteRect.scale.y,spriteRect.scale.y=baseTexture),slot.sprites=slot.sprites||{},slot.sprites[descriptor.name]=spriteRect},Spine.prototype.createMesh=function(slot,attachment){var descriptor;var baseTexture=attachment.rendererObject.page.rendererObject;var baseTexture=new PIXI.Texture(baseTexture);var baseTexture=new Phaser.Rope(this.game,0,0,baseTexture);return baseTexture.drawMode=1,baseTexture.canvasPadding=1.5,baseTexture.vertices=new spine.Float32Array(attachment.uvs.length),baseTexture.uvs=attachment.uvs,baseTexture.indices=attachment.triangles,baseTexture.alpha=attachment.a,slot.meshes=slot.meshes||{},slot.meshes[attachment.name]=baseTexture},Spine.prototype.setMixByName=function(fromName,toName,duration){this.stateData.setMixByName(fromName,toName,duration)},Spine.prototype.setAnimationByName=function(trackIndex,animationName,loop){void 0===loop&&(loop=!1);var animationName=this.state.data.skeletonData.findAnimation(animationName);return animationName?this.state.setAnimation(trackIndex,animationName,loop):null},Spine.prototype.addAnimationByName=function(trackIndex,animationName,loop,delay){void 0===loop&&(loop=!1),void 0===delay&&(delay=0);var animationName=this.state.data.skeletonData.findAnimation(animationName);return animationName?this.state.addAnimation(trackIndex,animationName,loop,delay):null},Spine.prototype.getCurrentAnimationForTrack=function(trackIndex){return this.state.tracks[trackIndex].animation.name},Spine.prototype.setSkinByName=function(skinName){var skinName=this.skeleton.data.findSkin(skinName);skinName&&this.skeleton.setSkin(skinName)},Spine.prototype.setSkin=function(skin){this.skeleton.setSkin(skin)},Spine.prototype.setToSetupPose=function(){this.skeleton.setToSetupPose()},Spine.prototype.createCombinedSkin=function(newSkinName){var skinNames=[];for(var _i=1;_i<arguments.length;_i++)skinNames[_i-1]=arguments[_i];if(0!==skinNames.length){var newSkin=new spine.Skin(newSkinName);for(var i=0;i<skinNames.length;i++){var skinName=skinNames[i];var skin=this.skeleton.data.findSkin(skinName);if(!skin)return;for(var key in skin.attachments){var slotKeyPair=key.split(":");var slotIndex=slotKeyPair[0];var slotKeyPair=slotKeyPair[1];var key=skin.attachments[key];if(void 0===slotIndex||void 0===slotKeyPair)return;void 0===newSkin.getAttachment(slotIndex,slotKeyPair)&&newSkin.addAttachment(slotIndex,slotKeyPair,key)}}return this.skeleton.data.skins.push(newSkin),newSkin}},Spine}(Phaser.Group);Spine.globalAutoUpdate=!0,PhaserSpine.Spine=Spine}(PhaserSpine=PhaserSpine||{}),function(PhaserSpine){var SpineTextureLoader=function(){function SpineTextureLoader(game){this.load=function(page,file,atlas){var file=this.game.make.image(0,0,file);page.rendererObject=file.texture.baseTexture},this.unload=function(texture){texture.destroy()},this.game=game}return SpineTextureLoader}();PhaserSpine.SpineTextureLoader=SpineTextureLoader}(PhaserSpine=PhaserSpine||{}),function(PhaserSuperStorage){var StorageAdapters;!function(StorageAdapters){var CookieStorage=function(){function CookieStorage(spacedName){void 0===spacedName&&(spacedName=""),this.namespace="",this.forcePromises=!1,this.setNamespace(spacedName)}return Object.defineProperty(CookieStorage.prototype,"length",{get:function(){return null!==this.getNameSpaceMatches()?this.getNameSpaceMatches().length:0},enumerable:!0,configurable:!0}),CookieStorage.prototype.key=function(n){var n=this.getNameSpaceMatches()[n];var n=this.getCookiesForNameSpace()[n]||null;return this.forcePromises?this.promisefy(n):n},CookieStorage.prototype.getItem=function(key){var key=this.getCookiesForNameSpace()[key]||null;return this.forcePromises?this.promisefy(key):key},CookieStorage.prototype.setItem=function(key,value){if(document.cookie=encodeURIComponent(this.namespace+key)+"="+encodeURIComponent(value)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.forcePromises)return this.promisefy(null)},CookieStorage.prototype.removeItem=function(key){if(document.cookie=encodeURIComponent(this.namespace+key)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.forcePromises)return this.promisefy(null)},CookieStorage.prototype.clear=function(){var cookies=this.getCookiesForNameSpace();for(var key in cookies)cookies.hasOwnProperty(key)&&this.removeItem(key);if(this.forcePromises)return this.promisefy(null)},CookieStorage.prototype.setNamespace=function(namespace){if(namespace&&(this.namespace=namespace+":",this.reg=new RegExp("^"+this.namespace+"[a-zA-Z0-9]*","g")),this.forcePromises)return this.promisefy(namespace)},CookieStorage.prototype.getNameSpaceMatches=function(){var _this=this;var cookies;return decodeURIComponent(document.cookie).split("; ").filter(function(val){return null!==val.match(_this.reg)&&0<val.match(_this.reg).length})},CookieStorage.prototype.getCookiesForNameSpace=function(){var _this=this;var cookies={};return this.getNameSpaceMatches().forEach(function(cookie){var cookie=cookie.replace(_this.namespace,"").split("=");cookies[cookie[0]]=cookie[1]}),cookies},CookieStorage.prototype.promisefy=function(value){return new Promise(function(resolve,reject){resolve(value)})},CookieStorage}();StorageAdapters.CookieStorage=CookieStorage}(StorageAdapters=PhaserSuperStorage.StorageAdapters||(PhaserSuperStorage.StorageAdapters={}))}(PhaserSuperStorage=PhaserSuperStorage||{}),function(PhaserSuperStorage){var StorageAdapters;!function(StorageAdapters){var CordovaStorage=function(){function CordovaStorage(){this.namespace="",this.keys=[]}return Object.defineProperty(CordovaStorage.prototype,"forcePromises",{get:function(){return!0},set:function(v){},enumerable:!0,configurable:!0}),Object.defineProperty(CordovaStorage.prototype,"length",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),CordovaStorage.prototype.key=function(n){return this.promisefy(this.keys[n])},CordovaStorage.prototype.getItem=function(key){var _this=this;return new Promise(function(resolve,reject){NativeStorage.getItem(_this.namespace+key,function(value){resolve(value)},function(error){2===error.code?resolve(null):reject(error)})})},CordovaStorage.prototype.setItem=function(key,value){var _this=this;if(!(key.length<1))return new Promise(function(resolve,reject){NativeStorage.setItem(_this.namespace+key,value,function(){_this.keys.indexOf(key)<0&&(_this.keys.push(key),_this.save()),resolve(null)},function(error){reject(error)})})},CordovaStorage.prototype.removeItem=function(key){var _this=this;return new Promise(function(resolve,reject){NativeStorage.remove(_this.namespace+key,function(){var id=_this.keys.indexOf(key);0<=id&&(_this.keys.splice(id,1),_this.save()),resolve(null)},function(error){reject(error)})})},CordovaStorage.prototype.clear=function(){var _this=this;return new Promise(function(resolve,reject){var counter=0;for(var i=0;i<_this.keys.length;i++)NativeStorage.remove(_this.namespace+_this.keys[i],function(){++counter>=_this.keys.length&&(_this.keys=[],_this.save(),resolve(null))},function(error){reject(error)})})},CordovaStorage.prototype.setNamespace=function(spacedName){var _this=this;return this.namespace=(spacedName=void 0===spacedName?"":spacedName)+":",this.keys=[],new Promise(function(resolve,reject){_this.load().then(resolve).catch(resolve)})},CordovaStorage.prototype.promisefy=function(value){return new Promise(function(resolve,reject){resolve(value)})},CordovaStorage.prototype.load=function(){var _this=this;return new Promise(function(resolve,reject){NativeStorage.getItem(_this.namespace,function(value){_this.keys=JSON.parse(value),resolve(null)},function(error){reject(error)})})},CordovaStorage.prototype.save=function(){NativeStorage.setItem(this.namespace,JSON.stringify(this.keys),function(){},function(error){})},CordovaStorage}();StorageAdapters.CordovaStorage=CordovaStorage}(StorageAdapters=PhaserSuperStorage.StorageAdapters||(PhaserSuperStorage.StorageAdapters={}))}(PhaserSuperStorage=PhaserSuperStorage||{}),function(PhaserSuperStorage){var StorageAdapters;!function(StorageAdapters){var IframeStorage=function(){function IframeStorage(spacedName,expectedOrigin){void 0===spacedName&&(spacedName=""),void 0===expectedOrigin&&(expectedOrigin="*"),this.namespace="",this.expectedOrigin="",this.storageLength=0,this.enabled=!1,""!==spacedName&&this.setNamespace(spacedName),this.expectedOrigin=expectedOrigin}return Object.defineProperty(IframeStorage.prototype,"forcePromises",{get:function(){return!0},set:function(v){},enumerable:!0,configurable:!0}),Object.defineProperty(IframeStorage.prototype,"length",{get:function(){return this.storageLength},enumerable:!0,configurable:!0}),IframeStorage.prototype.init=function(){var _this=this;return this.sendMessage({command:PhaserSuperStorage.StorageCommand.init}).then(function(){_this.enabled=!0})},IframeStorage.prototype.key=function(n){return this.sendMessage({command:PhaserSuperStorage.StorageCommand.key,value:n})},IframeStorage.prototype.getItem=function(key){return this.sendMessage({command:PhaserSuperStorage.StorageCommand.getItem,key:key})},IframeStorage.prototype.setItem=function(key,value){return this.sendMessage({command:PhaserSuperStorage.StorageCommand.setItem,key:key,value:value})},IframeStorage.prototype.removeItem=function(key){return this.sendMessage({command:PhaserSuperStorage.StorageCommand.removeItem,key:key})},IframeStorage.prototype.clear=function(){return this.sendMessage({command:PhaserSuperStorage.StorageCommand.clear})},IframeStorage.prototype.setNamespace=function(spacedName){return this.sendMessage({command:PhaserSuperStorage.StorageCommand.setNamespace,value:spacedName})},IframeStorage.prototype.sendMessage=function(message){var _this=this;var returnedResult;message.command===PhaserSuperStorage.StorageCommand.init&&(returnedResult=!1);var messageChannel=new MessageChannel;return new Promise(function(resolve,reject){_this.enabled||message.command===PhaserSuperStorage.StorageCommand.init||reject("Messaging not enabled!"),message.command===PhaserSuperStorage.StorageCommand.init&&setTimeout(function(){returnedResult||reject("Unable to get a response in time")},1e3),messageChannel.port1.onmessage=function(event){var receivedMessage=PhaserSuperStorage.StorageUtils.validateMessage(event.data);switch(receivedMessage.command===PhaserSuperStorage.StorageCommand.init&&(returnedResult=!0),void 0!==receivedMessage.status&&"ok"===receivedMessage.status||reject(receivedMessage.value),void 0!==receivedMessage.length&&(_this.storageLength=receivedMessage.length),receivedMessage.command){case PhaserSuperStorage.StorageCommand.setNamespace:_this.namespace=receivedMessage.value+":";case PhaserSuperStorage.StorageCommand.getItem:case PhaserSuperStorage.StorageCommand.length:case PhaserSuperStorage.StorageCommand.key:resolve(receivedMessage.value);break;case PhaserSuperStorage.StorageCommand.setItem:case PhaserSuperStorage.StorageCommand.removeItem:case PhaserSuperStorage.StorageCommand.clear:case PhaserSuperStorage.StorageCommand.init:resolve(receivedMessage.status);break;default:reject(receivedMessage.value);break}},!_this.enabled&&message.command!==PhaserSuperStorage.StorageCommand.init||window.parent.postMessage(message,_this.expectedOrigin,[messageChannel.port2])})},IframeStorage}();StorageAdapters.IframeStorage=IframeStorage}(StorageAdapters=PhaserSuperStorage.StorageAdapters||(PhaserSuperStorage.StorageAdapters={}))}(PhaserSuperStorage=PhaserSuperStorage||{}),function(PhaserSuperStorage){var StorageAdapters;!function(StorageAdapters){var LocalStorage=function(){function LocalStorage(spacedName){void 0===spacedName&&(spacedName=""),this.namespace="",this.forcePromises=!1,this.setNamespace(spacedName)}return Object.defineProperty(LocalStorage.prototype,"length",{get:function(){var keys=Object.keys(localStorage);return PhaserSuperStorage.StorageUtils.nameSpaceKeyFilter(keys,this.namespace).length},enumerable:!0,configurable:!0}),LocalStorage.prototype.key=function(n){return this.forcePromises?this.promisefy(this._key,arguments):this._key(n)},LocalStorage.prototype._key=function(n){var keys=Object.keys(localStorage);var keys=PhaserSuperStorage.StorageUtils.nameSpaceKeyFilter(keys,this.namespace);var item;return localStorage.getItem(keys[n])},LocalStorage.prototype.getItem=function(key){return this.forcePromises?this.promisefy(this._getItem,arguments):this._getItem(key)},LocalStorage.prototype._getItem=function(key){return localStorage.getItem(this.namespace+key)},LocalStorage.prototype.setItem=function(key,value){return this.forcePromises?this.promisefy(this._setItem,arguments):this._setItem(key,value)},LocalStorage.prototype._setItem=function(key,value){return localStorage.setItem(this.namespace+key,value)},LocalStorage.prototype.removeItem=function(key){return this.forcePromises?this.promisefy(this._removeItem,arguments):this._removeItem(key)},LocalStorage.prototype._removeItem=function(key){return localStorage.removeItem(this.namespace+key)},LocalStorage.prototype.clear=function(){return this.forcePromises?this.promisefy(this._clear,arguments):this._clear()},LocalStorage.prototype._clear=function(){var keys=Object.keys(localStorage);var spacedKeys=PhaserSuperStorage.StorageUtils.nameSpaceKeyFilter(keys,this.namespace);for(var i=0;i<spacedKeys.length;i++)localStorage.removeItem(spacedKeys[i])},LocalStorage.prototype.setNamespace=function(spacedName){return this.forcePromises?this.promisefy(this._setNameSpace,arguments):this._setNameSpace(spacedName)},LocalStorage.prototype._setNameSpace=function(spacedName){spacedName&&(this.namespace=spacedName+":")},LocalStorage.prototype.promisefy=function(value,args){var _this=this;return new Promise(function(resolve,reject){resolve(value.apply(_this,args))})},LocalStorage}();StorageAdapters.LocalStorage=LocalStorage}(StorageAdapters=PhaserSuperStorage.StorageAdapters||(PhaserSuperStorage.StorageAdapters={}))}(PhaserSuperStorage=PhaserSuperStorage||{}),function(PhaserSuperStorage){var StoragePlugin=function(){function StoragePlugin(game){if(void 0!==game)Object.defineProperty(game,"storage",{value:this});else{if(null!==StoragePlugin.instance)return StoragePlugin.instance;StoragePlugin.instance=this}PhaserSuperStorage.StorageUtils.isLocalStorageSupport()?this.setAdapter(new PhaserSuperStorage.StorageAdapters.LocalStorage):this.setAdapter(new PhaserSuperStorage.StorageAdapters.CookieStorage)}return StoragePlugin.prototype.setAdapter=function(storageAdapter){this.storage=storageAdapter},Object.defineProperty(StoragePlugin.prototype,"forcePromises",{get:function(){return this.storage.forcePromises},set:function(forceIt){this.storage.forcePromises=forceIt},enumerable:!0,configurable:!0}),Object.defineProperty(StoragePlugin.prototype,"length",{get:function(){return null===this.storage?0:this.storage.length},enumerable:!0,configurable:!0}),StoragePlugin.prototype.setNamespace=function(namedSpace){if(null!==this.storage)return this.storage.setNamespace(namedSpace)},StoragePlugin.prototype.key=function(n){return null===this.storage?"":this.storage.key(n)},StoragePlugin.prototype.getItem=function(key){return null===this.storage?null:this.storage.getItem(key)},StoragePlugin.prototype.setItem=function(key,value){if(null!==this.storage)return this.storage.setItem(key,value)},StoragePlugin.prototype.removeItem=function(key){if(null!==this.storage)return this.storage.removeItem(key)},StoragePlugin.prototype.clear=function(){if(null!==this.storage)return this.storage.clear()},StoragePlugin}();StoragePlugin.instance=null,PhaserSuperStorage.StoragePlugin=StoragePlugin}(PhaserSuperStorage=PhaserSuperStorage||{}),void 0!==window.Phaser&&Phaser.Utils.mixinPrototype(PhaserSuperStorage.StoragePlugin,Phaser.Plugin),function(PhaserSuperStorage){var StorageCommand;!function(StorageCommand){StorageCommand[StorageCommand.init=0]="init",StorageCommand[StorageCommand.setItem=1]="setItem",StorageCommand[StorageCommand.getItem=2]="getItem",StorageCommand[StorageCommand.removeItem=3]="removeItem",StorageCommand[StorageCommand.clear=4]="clear",StorageCommand[StorageCommand.setNamespace=5]="setNamespace",StorageCommand[StorageCommand.length=6]="length",StorageCommand[StorageCommand.key=7]="key",StorageCommand[StorageCommand.error=8]="error"}(StorageCommand=PhaserSuperStorage.StorageCommand||(PhaserSuperStorage.StorageCommand={}));var StorageUtils=function(){function StorageUtils(){}return StorageUtils.isLocalStorageSupport=function(){try{if("object"==typeof localStorage)return localStorage.setItem("testingLocalStorage","foo"),localStorage.removeItem("testingLocalStorage"),!0}catch(e){}return!1},StorageUtils.validateMessage=function(data){return data.hasOwnProperty("command")?data:null},StorageUtils.nameSpaceKeyFilter=function(keys,namespace){return keys.filter(function(keyName){return keyName.substring(0,namespace.length)===namespace})},StorageUtils}();PhaserSuperStorage.StorageUtils=StorageUtils}(PhaserSuperStorage=PhaserSuperStorage||{}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).h5branding=global.h5branding||{})}(this,function(exports){"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var es6Promise;var list;createCommonjsModule(function(module,exports){function objectOrFunction(x){var type=typeof x;return null!==x&&("object"==type||"function"==type)}function isFunction(x){return"function"==typeof x}function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){return void 0!==vertxNext?function(){vertxNext(flush)}:useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=flush,function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}function flush(){for(var i=0;i<len;i+=2){var callback;var arg;(0,queue[i])(queue[i+1]),queue[i]=void 0,queue[i+1]=void 0}len=0}function attemptVertx(){try{var vertx=Function("return this")().require("vertx");return vertxNext=vertx.runOnLoop||vertx.runOnContext,useVertxTimer()}catch(e){return useSetTimeout()}}function then(onFulfillment,onRejection){var parent=this;var child=new this.constructor(noop);void 0===child[PROMISE_ID]&&makePromise(child);var _state=parent._state;var callback;return _state?(callback=arguments[_state-1],asap(function(){return invokeCallback(_state,child,callback,parent._result)})):subscribe(parent,child,onFulfillment,onRejection),child}function resolve$1(object){var Constructor=this;var promise;return object&&"object"==typeof object&&object.constructor===this?object:(resolve(promise=new this(noop),object),promise)}function noop(){}function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=!1;var error=tryThen(then$$1,thenable,function(value){sealed||(sealed=!0,(thenable!==value?resolve:fulfill)(promise,value))},function(reason){sealed||(sealed=!0,reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,reject(promise,error))},promise)}function handleOwnThenable(promise,thenable){thenable._state===FULFILLED?fulfill(promise,thenable._result):thenable._state===REJECTED?reject(promise,thenable._result):subscribe(thenable,void 0,function(value){return resolve(promise,value)},function(reason){return reject(promise,reason)})}function handleMaybeThenable(promise,maybeThenable,then$$1){maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1?handleOwnThenable(promise,maybeThenable):void 0!==then$$1&&isFunction(then$$1)?handleForeignThenable(promise,maybeThenable,then$$1):fulfill(promise,maybeThenable)}function resolve(promise,value){if(promise===value)reject(promise,selfFulfillment());else if(objectOrFunction(value)){var then$$1=void 0;try{then$$1=value.then}catch(error){return void reject(promise,error)}handleMaybeThenable(promise,value,then$$1)}else fulfill(promise,value)}function publishRejection(promise){promise._onerror&&promise._onerror(promise._result),publish(promise)}function fulfill(promise,value){promise._state===PENDING&&(promise._result=value,promise._state=FULFILLED,0!==promise._subscribers.length)&&asap(publish,promise)}function reject(promise,reason){promise._state===PENDING&&(promise._state=REJECTED,promise._result=reason,asap(publishRejection,promise))}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null,_subscribers[length]=child,_subscribers[length+FULFILLED]=onFulfillment,_subscribers[length+REJECTED]=onRejection,0===length&&parent._state&&asap(publish,parent)}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(0!==subscribers.length){var child=void 0,callback=void 0,detail=promise._result;for(var i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=!0;if(hasCallback){try{value=callback(detail)}catch(e){succeeded=!1,error=e}if(promise===value)return void reject(promise,cannotReturnOwn())}else value=detail;promise._state===PENDING&&(hasCallback&&succeeded?resolve(promise,value):!1===succeeded?reject(promise,error):settled===FULFILLED?fulfill(promise,value):settled===REJECTED&&reject(promise,value))}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++,promise._state=void 0,promise._result=void 0,promise._subscribers=[]}function validationError(){return new Error("Array Methods must be provided an Array")}function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;return isArray(entries)?new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++)Constructor.resolve(entries[i]).then(resolve,reject)}):new Constructor(function(_,reject){return reject(new TypeError("You must pass an array to race."))})}function reject$1(reason){var Constructor=this;var promise=new this(noop);return reject(promise,reason),promise}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Promise(resolver){this[PROMISE_ID]=id++,this._result=this._state=void 0,this._subscribers=[],noop!==resolver&&("function"!=typeof resolver&&needsResolver(),this instanceof Promise?initializePromise(this,resolver):needsNew())}function polyfill(){var local=void 0;if(void 0!==commonjsGlobal)local=commonjsGlobal;else if("undefined"!=typeof self)local=self;else try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if("[object Promise]"===promiseToString&&!P.cast)return}local.Promise=Promise$1}var _isArray,isArray,len,vertxNext,customSchedulerFn,asap,module,browserGlobal,BrowserMutationObserver,isWorker,queue,scheduleFlush,PROMISE_ID,PENDING,FULFILLED,REJECTED,id,Enumerator,Promise$1;module.exports=(_isArray=void 0,isArray=_isArray=Array.isArray||function(x){return"[object Array]"===Object.prototype.toString.call(x)},customSchedulerFn=vertxNext=void(len=0),asap=function asap(callback,arg){queue[len]=callback,queue[len+1]=arg,2===(len+=2)&&(customSchedulerFn?customSchedulerFn(flush):scheduleFlush())},module="undefined"!=typeof window?window:void 0,BrowserMutationObserver=(browserGlobal=module||{}).MutationObserver||browserGlobal.WebKitMutationObserver,browserGlobal="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,queue=new Array(1e3),scheduleFlush=void 0,scheduleFlush=(browserGlobal?useNextTick:BrowserMutationObserver?useMutationObserver:isWorker?useMessageChannel:void 0===module?attemptVertx:useSetTimeout)(),PROMISE_ID=Math.random().toString(36).substring(2),PENDING=void 0,FULFILLED=1,REJECTED=2,id=0,Enumerator=function(){function Enumerator(Constructor,input){this._instanceConstructor=Constructor,this.promise=new Constructor(noop),this.promise[PROMISE_ID]||makePromise(this.promise),isArray(input)?(this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(input),0!==this._remaining)||fulfill(this.promise,this._result)):reject(this.promise,validationError())}return Enumerator.prototype._enumerate=function _enumerate(input){for(var i=0;this._state===PENDING&&i<input.length;i++)this._eachEntry(input[i],i)},Enumerator.prototype._eachEntry=function _eachEntry(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=void 0;var error=void 0;var didError=!1;try{_then=entry.then}catch(e){didError=!0,error=e}var promise;_then===then&&entry._state!==PENDING?this._settledAt(entry._state,i,entry._result):"function"!=typeof _then?(this._remaining--,this._result[i]=entry):c===Promise$1?(promise=new c(noop),didError?reject(promise,error):handleMaybeThenable(promise,entry,_then),this._willSettleAt(promise,i)):this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry)}),i)}else this._willSettleAt(resolve$$1(entry),i)},Enumerator.prototype._settledAt=function _settledAt(state,i,value){var promise=this.promise;promise._state===PENDING&&(this._remaining--,state===REJECTED?reject(promise,value):this._result[i]=value),0===this._remaining&&fulfill(promise,this._result)},Enumerator.prototype._willSettleAt=function _willSettleAt(promise,i){var enumerator=this;subscribe(promise,void 0,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})},Enumerator}(),Promise.prototype.catch=function _catch(onRejection){return this.then(null,onRejection)},Promise.prototype.finally=function _finally(callback){var promise=this;var constructor=this.constructor;return isFunction(callback)?this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})}):this.then(callback,callback)},(Promise$1=Promise).prototype.then=then,Promise$1.all=all,Promise$1.race=race,Promise$1.resolve=resolve$1,Promise$1.reject=reject$1,Promise$1._setScheduler=setScheduler,Promise$1._setAsap=setAsap,Promise$1._asap=asap,Promise$1.polyfill=polyfill,Promise$1.Promise=Promise$1)}).polyfill();var Sld=function(){function Sld(){}return Sld.has=function(domain){var tldOffset=domain.lastIndexOf(".");var sldOffset,sldList;return!(tldOffset<=0||tldOffset>=domain.length-1||(sldOffset=domain.lastIndexOf(".",tldOffset-1))<=0||tldOffset-1<=sldOffset||!(sldList=list[domain.slice(tldOffset+1)]))&&0<=sldList.indexOf(" "+domain.slice(sldOffset+1,tldOffset)+" ")},Sld.is=function(domain){var tldOffset=domain.lastIndexOf(".");var sldOffset,sldList;return!(tldOffset<=0||tldOffset>=domain.length-1||0<=domain.lastIndexOf(".",tldOffset-1)||!(sldList=list[domain.slice(tldOffset+1)]))&&0<=sldList.indexOf(" "+domain.slice(0,tldOffset)+" ")},Sld.get=function(domain){var tldOffset=domain.lastIndexOf(".");var sldOffset,sldList;return tldOffset<=0||tldOffset>=domain.length-1||(sldOffset=domain.lastIndexOf(".",tldOffset-1))<=0||tldOffset-1<=sldOffset||!(sldList=list[domain.slice(tldOffset+1)])||sldList.indexOf(" "+domain.slice(sldOffset+1,tldOffset)+" ")<0?null:domain.slice(sldOffset+1)},Sld}();var Domain=function(){function Domain(){}return Domain.setList=function(newList){list=newList||{}},Domain.getDomain=function(host){var t,t,t;return list?(t=host.match(/\./g))&&t.length<2?host:(t=this.getTld(host))?(t=host.length-t.length-1,t=host.lastIndexOf(".",t-1)+1,host.substring(t)||""):null:null},Domain.getTld=function(host){var pos,pos;return list?(pos=host.lastIndexOf("."),pos=host.substring(pos+1),list[pos.toLowerCase()]&&Sld.get(host)||pos):""},Domain.KEY="Domains",Domain}();var Loader=function(){function Loader(){this.cache={}}return Object.defineProperty(Loader,"instance",{get:function(){return Loader.classInstance=void 0===Loader.classInstance?new Loader:Loader.classInstance},enumerable:!1,configurable:!0}),Loader.prototype.load=function(key,url,contentType){var _this=this;return this.contains(key)?Promise.reject("Already in cache."):(this.cache[key]={url:url,data:null},this.requestXhr(url,contentType).then(function(data){return _this.loadComplete(key,data)}).catch(function(e){return _this.remove(key),Promise.reject(e)}))},Loader.prototype.loadComplete=function(key,data){if(!this.contains(key))return Promise.reject("Item was removed from cache before loading was complete.");try{var json=JSON.parse(data);return this.cache[key].data=json,Promise.resolve(json)}catch(error){return Promise.reject("There was an error parsing JSON file.")}},Loader.prototype.remove=function(key){this.contains(key)&&delete this.cache[key]},Loader.prototype.get=function(key){return this.contains(key)?this.cache[key].data:null},Loader.prototype.contains=function(key){return this.cache.hasOwnProperty(key)},Loader.prototype.isLoading=function(key){return this.contains(key)&&null===this.cache[key].data},Loader.prototype.isLoaded=function(key){return this.contains(key)&&null!==this.cache[key].data},Loader.prototype.loadScript=function(url,deferred,callback){return new Promise(function(resolve,reject){var tag=document.createElement("script");tag.src=url,tag.async=!1,tag.onload=function(){"function"==typeof callback&&callback(),resolve()},document.head.appendChild(tag)})},Loader.prototype.requestXhr=function(url,contentType){var xhr;return void 0===contentType&&(contentType="application/json"),window.XMLHttpRequest?(xhr=new XMLHttpRequest,new Promise(function(resolve,reject){xhr.onreadystatechange=function(){4===xhr.readyState&&(200===xhr.status?(resolve(xhr.responseText),xhr.onreadystatechange=null):0<xhr.status&&(reject("There was a problem with the request: status ".concat(xhr.status)),xhr.onreadystatechange=null))};try{xhr.open("GET",url,!0),xhr.setRequestHeader("Content-Type",contentType),xhr.send()}catch(e){reject("Error: Unable to send request, CORS not allowed.")}})):Promise.reject("Unable to send request, XMLHttpRequest not supported.")},Loader}();function __awaiter(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else{if(!(t&&_.label<t[2])){t[2]&&_.ops.pop(),_.trys.pop();continue}_.label=t[2],_.ops.push(op)}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}var BrandingDomain;exports.BrandingDomain=void 0,(BrandingDomain=exports.BrandingDomain||(exports.BrandingDomain={}))[BrandingDomain.Neutral=0]="Neutral",BrandingDomain[BrandingDomain.Yepi=1]="Yepi",BrandingDomain[BrandingDomain.Spele=2]="Spele",BrandingDomain[BrandingDomain.Funnygames=3]="Funnygames",BrandingDomain[BrandingDomain.Kizi=4]="Kizi",BrandingDomain[BrandingDomain.PlayCell=5]="PlayCell",BrandingDomain[BrandingDomain.GameCell=6]="GameCell",BrandingDomain[BrandingDomain.Bild=7]="Bild",BrandingDomain[BrandingDomain.AGame=8]="AGame",BrandingDomain[BrandingDomain.Admeen=9]="Admeen",BrandingDomain[BrandingDomain.PlayTime=10]="PlayTime",BrandingDomain[BrandingDomain.Zigiz=11]="Zigiz";var Hosts=function(){function Hosts(){}return Hosts.isBip=function(){return-1!==window.location.search.indexOf("bipgaming")||"bip.fbrq.io"===window.location.host},Hosts.isPlaycellApp=function(){return-1!==window.location.search.indexOf("playcellApp")},Hosts.isAGame=function(){return-1!==window.location.search.indexOf("agame")},Hosts.isAirfi=function(){return!!window.hasOwnProperty("airfi")&&window.airfi},Hosts.isPlaytime=function(){return-1!==window.location.host.indexOf("playtime.nl")},Hosts.isBild=function(){return"bild.fbrq.io"===window.location.host||-1!==window.location.host.indexOf("contentfleet.com")},Hosts.isYandex=function(){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")},Hosts.getYandexBaseURL=function(){var _a,_a;var lang;if(null!=(_a=null==(_a=window.YandexGamesSDKEnvironment)?void 0:_a.browser)&&_a.lang&&"en"===window.YandexGamesSDKEnvironment.browser.lang)return"yandex.com";return"yandex.ru"},Hosts}();var BrandingDomain;exports.UtmTargets=void 0,(BrandingDomain=exports.UtmTargets||(exports.UtmTargets={}))[BrandingDomain.splashscreen=0]="splashscreen",BrandingDomain[BrandingDomain.logo=1]="logo",BrandingDomain[BrandingDomain.facebook=2]="facebook",BrandingDomain[BrandingDomain.twitter=3]="twitter",BrandingDomain[BrandingDomain.playstore=4]="playstore",BrandingDomain[BrandingDomain.appstore=5]="appstore",BrandingDomain[BrandingDomain.more_games=6]="more_games",BrandingDomain[BrandingDomain.download_game=7]="download_game",BrandingDomain[BrandingDomain.walkthrough=8]="walkthrough",BrandingDomain[BrandingDomain.disclaimer=9]="disclaimer",BrandingDomain[BrandingDomain.highscores=10]="highscores";var CrossPromo=function(){function CrossPromo(){}return CrossPromo.getProtocol=function(isDevice){var protocol;return isDevice?"https://":"//"},CrossPromo.getUtmContent=function(type){return"string"==typeof type?type:exports.UtmTargets[type]},CrossPromo.getDomainURL=function(domain,protocol){var url;switch(domain){case exports.BrandingDomain.Spele:url=protocol+"www.spele.nl";break;case exports.BrandingDomain.Yepi:url=protocol+"www.yepi.com";break;case exports.BrandingDomain.Admeen:url="https://media.admeen.com/branding/link.php";break;case exports.BrandingDomain.PlayCell:url=protocol+"www.playcell.com";break;case exports.BrandingDomain.GameCell:url=protocol+"www.gamecell.com";break;case exports.BrandingDomain.Kizi:url=protocol+"www.kizi.com";break;case exports.BrandingDomain.Bild:url=protocol+"www.bildspielt.de";break;case exports.BrandingDomain.Funnygames:url=protocol+"www.funnygames.nu";break;case exports.BrandingDomain.PlayTime:url=protocol+"playtime.nl";break;default:case exports.BrandingDomain.AGame:url=protocol+"www.agame.com";break;case exports.BrandingDomain.Zigiz:url=protocol+"m.zigiz.com";break}return url},CrossPromo.getPromoURL=function(domain,url,host,gameTitle,utmContent){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")?"https://".concat(Hosts.getYandexBaseURL(),"/games/developer?name=Azerion"):domain===exports.BrandingDomain.Admeen?"https://media.admeen.com/branding/link.php":domain===exports.BrandingDomain.Bild?url:url+"/?utm_source="+host+"&utm_medium=html5&utm_term="+gameTitle+"&utm_content="+utmContent+"&utm_campaign=Gamedistribution"},CrossPromo}();function addScript(src,buster,callback){var s=document.createElement("script");s.setAttribute("src",src+"?v="+buster),"function"==typeof callback&&(s.onload=callback),document.body.appendChild(s)}var PortalScripts=function(){function PortalScripts(){}return PortalScripts.loadPortalScript=function(siteLockList){siteLockList&&siteLockList.hasOwnProperty("minijuegos")&&-1!==siteLockList.minijuegos.indexOf(Utils.getSourceSite())&&(void 0!==window.mpConfig?window.mpConfig.partner="orange-games":window.mpConfig={partner:"orange-games"},addScript("https://ext.minijuegosgratis.com/external-host/main.js",Date.now()/1e3)),siteLockList&&siteLockList.hasOwnProperty("kongregate")&&-1!==siteLockList.kongregate.indexOf(Utils.getSourceSite())&&addScript("https://cdn1.kongregate.com/javascripts/kongregate_api.js",Date.now()/1e3,function(){"undefined"!=typeof kongregateAPI&&kongregateAPI.loadAPI(function(){window.kongregate=kongregateAPI.getAPI()})}),siteLockList&&siteLockList.hasOwnProperty("newgrounds")&&-1!==siteLockList.newgrounds.indexOf(Utils.getSourceSite())&&addScript("https://cdn.fbrq.io/@azerion/splash/assets/scripts/newgroundsio.min.js",Date.now()/1e3)},PortalScripts}();var BuildSettings=function(){function BuildSettings(){}return BuildSettings.isStandAlone=function(){var _a,_a;return null!=(_a=window._azerionIntegration)&&_a.sa?null==(_a=window._azerionIntegration)?void 0:_a.sa:!!window.hasOwnProperty("fbrqSA")&&window.fbrqSA},BuildSettings.hasDomainForCustomBuild=function(){var _a;return(null==(_a=window._azerionIntegration)?void 0:_a.bd)||window.hasOwnProperty("fbrqBD")},BuildSettings.getDomainForCustomBuild=function(){var _a,_a,_a;return null!=(_a=window._azerionIntegration)&&_a.bd&&(null==(_a=window._azerionIntegration)?void 0:_a.bd)in exports.BrandingDomain?null==(_a=window._azerionIntegration)?void 0:_a.bd:window.hasOwnProperty("fbrqBD")&&window.fbrqBD in exports.BrandingDomain?window.fbrqBD:void 0},BuildSettings.hasLinksSettingsForCustomBuild=function(){var _a;return(null==(_a=window._azerionIntegration)?void 0:_a.la)||window.hasOwnProperty("fbrqLA")},BuildSettings.getLinkSettingsForCustomBuild=function(){var _a,_a;return null!=(_a=window._azerionIntegration)&&_a.la?null==(_a=window._azerionIntegration)?void 0:_a.la:window.hasOwnProperty("fbrqLA")?window.hasOwnProperty("fbrqLA"):void 0},BuildSettings}();var Branding=function(){function Branding(){}return Branding.preload=function(version){var promise=Promise.all([Loader.instance.load(Domain.KEY,"".concat(Utils.ASSET_LOCATION,"json/domains.json?v=").concat(version),"text/plain"),Loader.instance.load(Branding.SITELOCK_PORTALS,"".concat(Utils.ASSET_LOCATION,"json/sitelock.json?v=").concat(version),"text/plain")]);return Promise.all([Loader.instance.load(Branding.INTERNAL_PORTALS_KEY,"".concat(Utils.ASSET_LOCATION,"json/internal.json?v=").concat(version),"text/plain"),Loader.instance.load(Branding.CONTRACTED_PORTALS_KEY,"".concat(Utils.ASSET_LOCATION,"json/contracted.json?v=").concat(version),"text/plain"),Loader.instance.load(Branding.SPECIAL_PORTALS_KEY,"".concat(Utils.ASSET_LOCATION,"json/special.json?v=").concat(version),"text/plain")]),promise.then(function(data){var domains=data[0];var data=data[1];Domain.setList(domains),PortalScripts.loadPortalScript(data),Branding.setSiteLock(data)}).catch(function(){})},Branding.setSiteLock=function(data){Branding.siteLocks=data},Object.defineProperty(Branding,"brandingLogoUrl",{get:function(){var imageName;switch(Utils.isOnDevice()||Hosts.isAirfi()?Utils.ASSET_LOCATION="assets/":"fbrq.io"===Utils.getSourceSite(!0)&&(Utils.ASSET_LOCATION="https://"+window.location.host+"/@azerion/splash/assets/"),Utils.getBrandingDomain()){case exports.BrandingDomain.Spele:imageName="spele";break;case exports.BrandingDomain.PlayCell:imageName="playcell";break;case exports.BrandingDomain.GameCell:imageName="gamecell";break;case exports.BrandingDomain.Yepi:imageName="yepi";break;case exports.BrandingDomain.Admeen:imageName="admeen";break;case exports.BrandingDomain.Bild:imageName="bild";break;case exports.BrandingDomain.Kizi:imageName="kizi";break;case exports.BrandingDomain.Funnygames:imageName="funnygames";break;case exports.BrandingDomain.PlayTime:imageName="playtime";break;default:case exports.BrandingDomain.AGame:imageName="agame";break;case exports.BrandingDomain.Zigiz:imageName="zigiz";break}return Utils.ASSET_LOCATION+"images/branding_logo_"+imageName+"_small.png"},enumerable:!1,configurable:!0}),Object.defineProperty(Branding,"brandingBackgroundColor",{get:function(){var bgColor;switch(Utils.getBrandingDomain()){case exports.BrandingDomain.Spele:bgColor="#4a72ad";break;case exports.BrandingDomain.PlayCell:bgColor="#52a1e1";break;case exports.BrandingDomain.GameCell:bgColor="#c600b2";break;case exports.BrandingDomain.Yepi:bgColor="#0573a7";break;case exports.BrandingDomain.AGame:bgColor="#0C486C";break;case exports.BrandingDomain.Admeen:bgColor="#4267B2";break;case exports.BrandingDomain.Bild:bgColor="#de0000";break;default:case exports.BrandingDomain.Kizi:bgColor="#012f50";break;case exports.BrandingDomain.Funnygames:bgColor="#33b0ff";break;case exports.BrandingDomain.PlayTime:bgColor="#023a63";break;case exports.BrandingDomain.Zigiz:bgColor="#023a63";break}return bgColor},enumerable:!1,configurable:!0}),Branding.blockedDomain=function(){return Utils.isOnDevice()||Branding.isSpecial()},Branding.createCampaignURL=function(gameTitle,type){var host=Utils.getSourceSite();var domain=Utils.getBrandingDomain();var protocol=CrossPromo.getProtocol(Utils.isOnDevice());var protocol=CrossPromo.getDomainURL(domain,protocol);var type=CrossPromo.getUtmContent(type);return CrossPromo.getPromoURL(domain,protocol,host,gameTitle,type)},Branding.openCampaignLink=function(gameTitle,type){var type;var gameTitle=Branding.createCampaignURL(gameTitle,type);Branding.blockedDomain()||(type=window.open(gameTitle))&&type.focus&&type.focus()},Branding.isInternal=function(){return Branding.hostMatchesList(Loader.instance.get(Branding.INTERNAL_PORTALS_KEY))},Branding.isContracted=function(){return Branding.hostMatchesList(Loader.instance.get(Branding.CONTRACTED_PORTALS_KEY))},Branding.isSpecial=function(){return Branding.hostMatchesList(Loader.instance.get(Branding.SPECIAL_PORTALS_KEY))},Branding.isAdmeen=function(){var admeen;return!(!Branding.siteLocks||!Branding.siteLocks.hasOwnProperty("admeen"))&&(admeen=Branding.siteLocks.admeen,Branding.hostMatchesList(admeen))},Branding.isKongregate=function(){var kongregate;return!(!Branding.siteLocks||!Branding.siteLocks.hasOwnProperty("kongregate"))&&(kongregate=Branding.siteLocks.kongregate,Branding.hostMatchesList(kongregate))},Branding.isNewgrounds=function(){var newgrounds;return!(!Branding.siteLocks||!Branding.siteLocks.hasOwnProperty("newgrounds"))&&(newgrounds=Branding.siteLocks.newgrounds,Branding.hostMatchesList(newgrounds))},Branding.crossPromoAllowed=function(){var yandex=Branding.siteLocks.yandex;return Branding.hostMatchesList(yandex)},Branding.outGoingLinksAllowed=function(){return!(Hosts.isAirfi()||Branding.isSpecial()||Branding.isContracted())&&(!BuildSettings.hasLinksSettingsForCustomBuild()||BuildSettings.getLinkSettingsForCustomBuild())},Branding.hostMatchesList=function(portals){portals=portals||[];var host=Utils.getSourceSite();for(var id=0;id<portals.length;id++)if(host===portals[id])return!0;return!1},Branding.LOGO_KEY="branding_logo",Branding.INTERNAL_PORTALS_KEY="branding_portals",Branding.CONTRACTED_PORTALS_KEY="branding_contracted",Branding.SPECIAL_PORTALS_KEY="branding_special",Branding.SITELOCK_PORTALS="sitelock_portals",Branding.DOMAIN_OVERWRITE=null,Branding.analyticsEnabled=!0,Branding}();var Utils=function(){function Utils(){}return Utils.loadHost=function(){return __awaiter(this,void 0,void 0,function(){var host,result,e_1;return __generator(this,function(_a){switch(_a.label){case 0:if(host=document.referrer||window.location.host,!window.hasOwnProperty("gdsdk"))return[3,4];_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,window.gdsdk.getSession()];case 2:return result=_a.sent(),host=result.location.parentDomain,[3,4];case 3:return e_1=_a.sent(),[3,4];case 4:return Utils.HOST=host,[2]}})})},Utils.getSourceSite=function(forceLocal){var host=Utils.HOST;if(-1!==(host=(forceLocal=void 0===forceLocal?!1:forceLocal)?window.location.host:host).indexOf("embed.gamedistribution.com")&&-1!==window.location.search.indexOf("gd_sdk_referrer_url")&&(host=Utils.getUrlParameter("gd_sdk_referrer_url")||host),host=decodeURIComponent(host),Hosts.isBild())return"bildspielt.de";if(Hosts.isBip())return"bipgaming.com";host=(host=-1<host.indexOf("://")?host.split("/")[2]:host.split("/")[0]).split(":")[0];var forceLocal=Domain.getDomain(host);return null!==forceLocal?forceLocal:host=3===host.split(".").length?host.substr(host.indexOf(".")+1):host},Utils.getBrandingDomain=function(){if(BuildSettings.hasDomainForCustomBuild())return BuildSettings.getDomainForCustomBuild();if(Branding.DOMAIN_OVERWRITE)return Branding.DOMAIN_OVERWRITE;var source=Utils.getSourceSite();if(Branding.isAdmeen())return exports.BrandingDomain.Admeen;if(Hosts.isPlaycellApp()||Hosts.isBip())return exports.BrandingDomain.PlayCell;switch(source){case"spele.nl":return exports.BrandingDomain.Spele;case"yepi.com":return exports.BrandingDomain.Yepi;case"oyunskor.com":case"barbioyunu.com.tr":case"bebekoyunu.com.tr":case"oyunkolu.com":case"oyungemisi.com":case"oyunlar1.com":case"oyunkuzusu.com":case"kraloyun.com":case"rekoroyun.com":case"oyundedem.com":case"oyunoyna.com":case"pastaoyunu.com.tr":case"playcell.com":return exports.BrandingDomain.PlayCell;case"gamecell.com":return exports.BrandingDomain.GameCell;case"playxl.com":return exports.BrandingDomain.Admeen;case"kizi.com":return exports.BrandingDomain.Kizi;case"bildspielt.de":return exports.BrandingDomain.Bild;case"funnygames.nl":return exports.BrandingDomain.Funnygames;case"playtime.nl":return exports.BrandingDomain.PlayTime;default:case"agame.com":return exports.BrandingDomain.AGame;case"gmbl.nl":case"zigiz.com":return exports.BrandingDomain.Zigiz;case"coolmathgames.com":return exports.BrandingDomain.Neutral}},Utils.getReferrer=function(host){return-1!==host.indexOf("?ref=")?host.substr(host.indexOf("?ref=")+5):host},Utils.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},Utils.inGDGameZone=function(){return-1!==document.referrer.indexOf("html5.gamedistribution.com")},Utils.getDomain=function(uri){var parser=document.createElement("a");return parser.href=uri,parser.origin},Utils.isOnDevice=function(){return void 0!==window.cordova&&!/(gamedistribution\.com)/.test(window.location.hostname)},Utils.isTc=function(){return/(teamcity\.azerdev\.com)/.test(window.location.host)},Utils.getRandomRange=function(min,max){return Math.random()*(max-min)+min|0},Utils.getUrlParameter=function(name){var regex;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var name=new RegExp("[\\?&]"+name+"=([^&#]*)").exec(location.search);return null===name?"":decodeURIComponent(name[1].replace(/\+/g," "))},Utils.intTimeToString=function(time){var hours=Math.floor(time/3600);var minutes=Math.floor(time%3600/60);var time=time%60;var sHours;var sMinutes;var sSeconds;return(hours<10?"0"+hours:hours.toString())+":"+(minutes<10?"0"+minutes:minutes.toString())+":"+(time<10?"0"+time:time.toString())},Utils.LANGUAGE="en",Utils.HOST=document.referrer||window.location.host,Utils.ASSET_LOCATION=BuildSettings.isStandAlone()?"assets/":"https://cdn.fbrq.io/@azerion/splash/assets/",Utils}();var progressbar=createCommonjsModule(function(module,exports){var f;f=function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a;if(!u&&commonjsRequire)return commonjsRequire(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return s(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}var i=commonjsRequire;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(){var root=this||Function("return this")();var Tweenable=function(){var formula;var DEFAULT_SCHEDULE_FUNCTION;var DEFAULT_EASING="linear";var DEFAULT_DURATION=500;var UPDATE_TIME=1e3/60;var _now=Date.now||function(){return+new Date};var now="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:_now;function noop(){}function each(obj,fn){var key;for(key in obj)Object.hasOwnProperty.call(obj,key)&&fn(key)}function shallowCopy(targetObj,srcObj){return each(srcObj,function(prop){targetObj[prop]=srcObj[prop]}),targetObj}function defaults(target,src){each(src,function(prop){void 0===target[prop]&&(target[prop]=src[prop])})}function tweenProps(forPosition,currentState,originalState,targetState,duration,timestamp,easing){var normalizedPosition=forPosition<timestamp?0:(forPosition-timestamp)/duration;var prop;var easingObjectProp;var easingObjectProp;for(prop in currentState)currentState.hasOwnProperty(prop)&&(easingObjectProp="function"==typeof(easingObjectProp=easing[prop])?easingObjectProp:formula[easingObjectProp],currentState[prop]=tweenProp(originalState[prop],targetState[prop],easingObjectProp,normalizedPosition));return currentState}function tweenProp(start,end,easingFunc,position){return start+(end-start)*easingFunc(position)}function applyFilter(tweenable,filterName){var filters=Tweenable.prototype.filter;var args=tweenable._filterArgs;each(filters,function(name){void 0!==filters[name][filterName]&&filters[name][filterName].apply(tweenable,args)})}var timeoutHandler_endTime;var timeoutHandler_currentTime;var timeoutHandler_isEnded;var timeoutHandler_endTime;function timeoutHandler(tweenable,timestamp,delay,duration,currentState,originalState,targetState,easing,step,schedule,opt_currentTimeOverride){timeoutHandler_endTime=timestamp+delay+duration,timeoutHandler_currentTime=Math.min(opt_currentTimeOverride||now(),timeoutHandler_endTime),timeoutHandler_isEnded=timeoutHandler_endTime<=timeoutHandler_currentTime,timeoutHandler_endTime=duration-(timeoutHandler_endTime-timeoutHandler_currentTime),tweenable.isPlaying()&&(timeoutHandler_isEnded?(step(targetState,tweenable._attachment,timeoutHandler_endTime),tweenable.stop(!0)):(tweenable._scheduleId=schedule(tweenable._timeoutHandler,1e3/60),applyFilter(tweenable,"beforeTween"),timeoutHandler_currentTime<timestamp+delay?tweenProps(1,currentState,originalState,targetState,1,1,easing):tweenProps(timeoutHandler_currentTime,currentState,originalState,targetState,duration,timestamp+delay,easing),applyFilter(tweenable,"afterTween"),step(currentState,tweenable._attachment,timeoutHandler_endTime)))}function composeEasingObject(fromTweenParams,easing){var composedEasing={};var typeofEasing=typeof easing;return each(fromTweenParams,"string"==typeofEasing||"function"==typeofEasing?function(prop){composedEasing[prop]=easing}:function(prop){composedEasing[prop]||(composedEasing[prop]=easing[prop]||"linear")}),composedEasing}function Tweenable(opt_initialState,opt_config){this._currentState=opt_initialState||{},this._configured=!1,this._scheduleFunction=DEFAULT_SCHEDULE_FUNCTION,void 0!==opt_config&&this.setConfig(opt_config)}return DEFAULT_SCHEDULE_FUNCTION="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,Tweenable.prototype.tween=function(opt_config){return this._isTweening?this:(void 0===opt_config&&this._configured||this.setConfig(opt_config),this._timestamp=now(),this._start(this.get(),this._attachment),this.resume())},Tweenable.prototype.setConfig=function(config){config=config||{},this._configured=!0,this._attachment=config.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=config.delay||0,this._start=config.start||noop,this._step=config.step||noop,this._finish=config.finish||noop,this._duration=config.duration||500,this._currentState=shallowCopy({},config.from||this.get()),this._originalState=this.get(),this._targetState=shallowCopy({},config.to||this.get());var self=this;this._timeoutHandler=function(){timeoutHandler(self,self._timestamp,self._delay,self._duration,self._currentState,self._originalState,self._targetState,self._easing,self._step,self._scheduleFunction)};var currentState=this._currentState;var targetState=this._targetState;return defaults(targetState,currentState),this._easing=composeEasingObject(currentState,config.easing||"linear"),this._filterArgs=[currentState,this._originalState,targetState,this._easing],applyFilter(this,"tweenCreated"),this},Tweenable.prototype.get=function(){return shallowCopy({},this._currentState)},Tweenable.prototype.set=function(state){this._currentState=state},Tweenable.prototype.pause=function(){return this._pausedAtTime=now(),this._isPaused=!0,this},Tweenable.prototype.resume=function(){return this._isPaused&&(this._timestamp+=now()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},Tweenable.prototype.seek=function(millisecond){millisecond=Math.max(millisecond,0);var currentTime=now();return this._timestamp+millisecond===0||(this._timestamp=currentTime-millisecond,this.isPlaying())||(this._isTweening=!0,this._isPaused=!1,timeoutHandler(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,currentTime),this.pause()),this},Tweenable.prototype.stop=function(gotoEnd){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=noop,(root.cancelAnimationFrame||root.webkitCancelAnimationFrame||root.oCancelAnimationFrame||root.msCancelAnimationFrame||root.mozCancelRequestAnimationFrame||root.clearTimeout)(this._scheduleId),gotoEnd&&(applyFilter(this,"beforeTween"),tweenProps(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),applyFilter(this,"afterTween"),applyFilter(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},Tweenable.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},Tweenable.prototype.setScheduleFunction=function(scheduleFunction){this._scheduleFunction=scheduleFunction},Tweenable.prototype.dispose=function(){var prop;for(prop in this)this.hasOwnProperty(prop)&&delete this[prop]},Tweenable.prototype.filter={},formula=Tweenable.prototype.formula={linear:function(pos){return pos}},shallowCopy(Tweenable,{now:now,each:each,tweenProps:tweenProps,tweenProp:tweenProp,applyFilter:applyFilter,shallowCopy:shallowCopy,defaults:defaults,composeEasingObject:composeEasingObject}),"function"==typeof SHIFTY_DEBUG_NOW&&(root.timeoutHandler=timeoutHandler),"object"==typeof exports?module.exports=Tweenable:void 0===root.Tweenable&&(root.Tweenable=Tweenable),Tweenable}();function cubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}function sampleCurveY(t){return((ay*t+by)*t+cy)*t}function sampleCurveDerivativeX(t){return(3*ax*t+2*bx)*t+cx}function solveEpsilon(duration){return 1/(200*duration)}function solve(x,epsilon){return sampleCurveY(solveCurveX(x,epsilon))}function fabs(n){return 0<=n?n:0-n}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(fabs(x2=sampleCurveX(t2)-x)<epsilon)return t2;if(fabs(d2=sampleCurveDerivativeX(t2))<1e-6)break;t2-=x2/d2}if((t2=x)<(t0=0))return t0;if((t1=1)<t2)return t1;for(;t0<t1;){if(fabs((x2=sampleCurveX(t2))-x)<epsilon)return t2;x2<x?t0=t2:t1=t2,t2=.5*(t1-t0)+t0}return t2}return ax=1-(cx=3*p1x)-(bx=3*(p2x-p1x)-cx),ay=1-(cy=3*p1y)-(by=3*(p2y-p1y)-cy),solve(t,1/(200*duration))}function getCubicBezierTransition(x1,y1,x2,y2){return function(pos){return cubicBezierAtTime(pos,x1,y1,x2,y2,1)}}function getInterpolatedValues(from,current,targetState,position,easing,delay){return Tweenable.tweenProps(position,current,from,targetState,1,delay,easing)}var mockTweenable;Tweenable.shallowCopy(Tweenable.prototype.formula,{easeInQuad:function(pos){return Math.pow(pos,2)},easeOutQuad:function(pos){return-(Math.pow(pos-1,2)-1)},easeInOutQuad:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,2):-.5*((pos-=2)*pos-2)},easeInCubic:function(pos){return Math.pow(pos,3)},easeOutCubic:function(pos){return Math.pow(pos-1,3)+1},easeInOutCubic:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,3):.5*(Math.pow(pos-2,3)+2)},easeInQuart:function(pos){return Math.pow(pos,4)},easeOutQuart:function(pos){return-(Math.pow(pos-1,4)-1)},easeInOutQuart:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,4):-.5*((pos-=2)*Math.pow(pos,3)-2)},easeInQuint:function(pos){return Math.pow(pos,5)},easeOutQuint:function(pos){return Math.pow(pos-1,5)+1},easeInOutQuint:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,5):.5*(Math.pow(pos-2,5)+2)},easeInSine:function(pos){return 1-Math.cos(pos*(Math.PI/2))},easeOutSine:function(pos){return Math.sin(pos*(Math.PI/2))},easeInOutSine:function(pos){return-.5*(Math.cos(Math.PI*pos)-1)},easeInExpo:function(pos){return 0===pos?0:Math.pow(2,10*(pos-1))},easeOutExpo:function(pos){return 1===pos?1:1-Math.pow(2,-10*pos)},easeInOutExpo:function(pos){return 0===pos?0:1===pos?1:(pos/=.5)<1?.5*Math.pow(2,10*(pos-1)):.5*(2-Math.pow(2,-10*--pos))},easeInCirc:function(pos){return-(Math.sqrt(1-pos*pos)-1)},easeOutCirc:function(pos){return Math.sqrt(1-Math.pow(pos-1,2))},easeInOutCirc:function(pos){return(pos/=.5)<1?-.5*(Math.sqrt(1-pos*pos)-1):.5*(Math.sqrt(1-(pos-=2)*pos)+1)},easeOutBounce:function(pos){return pos<1/2.75?7.5625*pos*pos:pos<2/2.75?7.5625*(pos-=1.5/2.75)*pos+.75:pos<2.5/2.75?7.5625*(pos-=2.25/2.75)*pos+.9375:7.5625*(pos-=2.625/2.75)*pos+.984375},easeInBack:function(pos){var s=1.70158;return pos*pos*((1+s)*pos-s)},easeOutBack:function(pos){var s=1.70158;return(pos-=1)*pos*((1+s)*pos+s)+1},easeInOutBack:function(pos){var s=1.70158;return(pos/=.5)<1?pos*pos*((1+(s*=1.525))*pos-s)*.5:.5*((pos-=2)*pos*((1+(s*=1.525))*pos+s)+2)},elastic:function(pos){return-1*Math.pow(4,-8*pos)*Math.sin((6*pos-1)*(2*Math.PI)/2)+1},swingFromTo:function(pos){var s=1.70158;return(pos/=.5)<1?pos*pos*((1+(s*=1.525))*pos-s)*.5:.5*((pos-=2)*pos*((1+(s*=1.525))*pos+s)+2)},swingFrom:function(pos){var s=1.70158;return pos*pos*((1+s)*pos-s)},swingTo:function(pos){var s=1.70158;return--pos*pos*((1+s)*pos+s)+1},bounce:function(pos){return pos<1/2.75?7.5625*pos*pos:pos<2/2.75?7.5625*(pos-=1.5/2.75)*pos+.75:pos<2.5/2.75?7.5625*(pos-=2.25/2.75)*pos+.9375:7.5625*(pos-=2.625/2.75)*pos+.984375},bouncePast:function(pos){return pos<1/2.75?7.5625*pos*pos:pos<2/2.75?2-(7.5625*(pos-=1.5/2.75)*pos+.75):pos<2.5/2.75?2-(7.5625*(pos-=2.25/2.75)*pos+.9375):2-(7.5625*(pos-=2.625/2.75)*pos+.984375)},easeFromTo:function(pos){return(pos/=.5)<1?.5*Math.pow(pos,4):-.5*((pos-=2)*Math.pow(pos,3)-2)},easeFrom:function(pos){return Math.pow(pos,4)},easeTo:function(pos){return Math.pow(pos,.25)}}),Tweenable.setBezierFunction=function(name,x1,y1,x2,y2){var cubicBezierTransition=getCubicBezierTransition(x1,y1,x2,y2);return cubicBezierTransition.displayName=name,cubicBezierTransition.x1=x1,cubicBezierTransition.y1=y1,cubicBezierTransition.x2=x2,cubicBezierTransition.y2=y2,Tweenable.prototype.formula[name]=cubicBezierTransition},Tweenable.unsetBezierFunction=function(name){delete Tweenable.prototype.formula[name]},(mockTweenable=new Tweenable)._filterArgs=[],Tweenable.interpolate=function(from,targetState,position,easing,opt_delay){var current=Tweenable.shallowCopy({},from);var opt_delay=opt_delay||0;var easing=Tweenable.composeEasingObject(from,easing||"linear");mockTweenable.set({});var filterArgs=mockTweenable._filterArgs;filterArgs.length=0,filterArgs[0]=current,filterArgs[1]=from,filterArgs[2]=targetState,filterArgs[3]=easing,Tweenable.applyFilter(mockTweenable,"tweenCreated"),Tweenable.applyFilter(mockTweenable,"beforeTween");var filterArgs=getInterpolatedValues(from,current,targetState,position,easing,opt_delay);return Tweenable.applyFilter(mockTweenable,"afterTween"),filterArgs},function(Tweenable){var R_NUMBER_COMPONENT=/(\d|\-|\.)/;var R_FORMAT_CHUNKS=/([^\-0-9\.]+)/g;var R_UNFORMATTED_VALUES=/[0-9.\-]+/g;var R_RGB=new RegExp("rgb\\("+R_UNFORMATTED_VALUES.source+/,\s*/.source+R_UNFORMATTED_VALUES.source+/,\s*/.source+R_UNFORMATTED_VALUES.source+"\\)","g");var R_RGB_PREFIX=/^.*\(/;var R_HEX=/#([0-9]|[a-f]){3,6}/gi;var VALUE_PLACEHOLDER="VAL";function getFormatChunksFrom(rawValues,prefix){var accumulator=[];var rawValuesLength=rawValues.length;var i;for(i=0;i<rawValuesLength;i++)accumulator.push("_"+prefix+"_"+i);return accumulator}function getFormatStringFrom(formattedString){var chunks=formattedString.match(R_FORMAT_CHUNKS);return chunks?1!==chunks.length&&!formattedString.charAt(0).match(R_NUMBER_COMPONENT)||chunks.unshift(""):chunks=["",""],chunks.join(VALUE_PLACEHOLDER)}function sanitizeObjectForHexProps(stateObject){Tweenable.each(stateObject,function(prop){var currentProp=stateObject[prop];"string"==typeof currentProp&&currentProp.match(R_HEX)&&(stateObject[prop]=sanitizeHexChunksToRGB(currentProp))})}function sanitizeHexChunksToRGB(str){return filterStringChunks(R_HEX,str,convertHexToRGB)}function convertHexToRGB(hexString){var hexString=hexToRGBArray(hexString);return"rgb("+hexString[0]+","+hexString[1]+","+hexString[2]+")"}var hexToRGBArray_returnArray=[];function hexToRGBArray(hex){return 3===(hex=hex.replace(/#/,"")).length&&(hex=(hex=hex.split(""))[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]),hexToRGBArray_returnArray[0]=hexToDec(hex.substr(0,2)),hexToRGBArray_returnArray[1]=hexToDec(hex.substr(2,2)),hexToRGBArray_returnArray[2]=hexToDec(hex.substr(4,2)),hexToRGBArray_returnArray}function hexToDec(hex){return parseInt(hex,16)}function filterStringChunks(pattern,unfilteredString,filter){var pattenMatches=unfilteredString.match(pattern);var filteredString=unfilteredString.replace(pattern,VALUE_PLACEHOLDER);if(pattenMatches){var pattenMatchesLength=pattenMatches.length;var currentChunk;for(var i=0;i<pattenMatchesLength;i++)currentChunk=pattenMatches.shift(),filteredString=filteredString.replace(VALUE_PLACEHOLDER,filter(currentChunk))}return filteredString}function sanitizeRGBChunks(formattedString){return filterStringChunks(R_RGB,formattedString,sanitizeRGBChunk)}function sanitizeRGBChunk(rgbChunk){var numbers=rgbChunk.match(R_UNFORMATTED_VALUES);var numbersLength=numbers.length;var sanitizedString=rgbChunk.match(R_RGB_PREFIX)[0];for(var i=0;i<numbersLength;i++)sanitizedString+=parseInt(numbers[i],10)+",";return sanitizedString=sanitizedString.slice(0,-1)+")"}function getFormatManifests(stateObject){var manifestAccumulator={};return Tweenable.each(stateObject,function(prop){var currentProp=stateObject[prop];var rawValues;"string"==typeof currentProp&&(rawValues=getValuesFrom(currentProp),manifestAccumulator[prop]={formatString:getFormatStringFrom(currentProp),chunkNames:getFormatChunksFrom(rawValues,prop)})}),manifestAccumulator}function expandFormattedProperties(stateObject,formatManifests){Tweenable.each(formatManifests,function(prop){var currentProp;var rawValues=getValuesFrom(stateObject[prop]);var rawValuesLength=rawValues.length;for(var i=0;i<rawValuesLength;i++)stateObject[formatManifests[prop].chunkNames[i]]=+rawValues[i];delete stateObject[prop]})}function collapseFormattedProperties(stateObject,formatManifests){Tweenable.each(formatManifests,function(prop){var currentProp=stateObject[prop];var formatChunks;var valuesList=getValuesList(extractPropertyChunks(stateObject,formatManifests[prop].chunkNames),formatManifests[prop].chunkNames);currentProp=getFormattedValues(formatManifests[prop].formatString,valuesList),stateObject[prop]=sanitizeRGBChunks(currentProp)})}function extractPropertyChunks(stateObject,chunkNames){var extractedValues={};var currentChunkName,chunkNamesLength=chunkNames.length;for(var i=0;i<chunkNamesLength;i++)extractedValues[currentChunkName=chunkNames[i]]=stateObject[currentChunkName],delete stateObject[currentChunkName];return extractedValues}var getValuesList_accumulator=[];function getValuesList(stateObject,chunkNames){getValuesList_accumulator.length=0;var chunkNamesLength=chunkNames.length;for(var i=0;i<chunkNamesLength;i++)getValuesList_accumulator.push(stateObject[chunkNames[i]]);return getValuesList_accumulator}function getFormattedValues(formatString,rawValues){var formattedValueString=formatString;var rawValuesLength=rawValues.length;for(var i=0;i<rawValuesLength;i++)formattedValueString=formattedValueString.replace(VALUE_PLACEHOLDER,+rawValues[i].toFixed(4));return formattedValueString}function getValuesFrom(formattedString){return formattedString.match(R_UNFORMATTED_VALUES)}function expandEasingObject(easingObject,tokenData){Tweenable.each(tokenData,function(prop){var currentProp;var chunkNames=tokenData[prop].chunkNames;var chunkLength=chunkNames.length;var easing=easingObject[prop];var i;if("string"==typeof easing){var easingChunks=easing.split(" ");var lastEasingChunk=easingChunks[easingChunks.length-1];for(i=0;i<chunkLength;i++)easingObject[chunkNames[i]]=easingChunks[i]||lastEasingChunk}else for(i=0;i<chunkLength;i++)easingObject[chunkNames[i]]=easing;delete easingObject[prop]})}function collapseEasingObject(easingObject,tokenData){Tweenable.each(tokenData,function(prop){var currentProp;var chunkNames=tokenData[prop].chunkNames;var chunkLength=chunkNames.length;var firstEasing=easingObject[chunkNames[0]];var typeofEasings;if("string"==typeof firstEasing){var composedEasingString="";for(var i=0;i<chunkLength;i++)composedEasingString+=" "+easingObject[chunkNames[i]],delete easingObject[chunkNames[i]];easingObject[prop]=composedEasingString.substr(1)}else easingObject[prop]=firstEasing})}Tweenable.prototype.filter.token={tweenCreated:function(currentState,fromState,toState,easingObject){sanitizeObjectForHexProps(currentState),sanitizeObjectForHexProps(fromState),sanitizeObjectForHexProps(toState),this._tokenData=getFormatManifests(currentState)},beforeTween:function(currentState,fromState,toState,easingObject){expandEasingObject(easingObject,this._tokenData),expandFormattedProperties(currentState,this._tokenData),expandFormattedProperties(fromState,this._tokenData),expandFormattedProperties(toState,this._tokenData)},afterTween:function(currentState,fromState,toState,easingObject){collapseFormattedProperties(currentState,this._tokenData),collapseFormattedProperties(fromState,this._tokenData),collapseFormattedProperties(toState,this._tokenData),collapseEasingObject(easingObject,this._tokenData)}}}(Tweenable)}.call(null)},{}],2:[function(require,module,exports){var Shape=require("./shape");var utils=require("./utils");var require=function Circle(container,options){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,Shape.apply(this,arguments)};((require.prototype=new Shape).constructor=require).prototype._pathString=function _pathString(opts){var widthOfWider=opts.strokeWidth;var opts=50-(widthOfWider=opts.trailWidth&&opts.trailWidth>opts.strokeWidth?opts.trailWidth:widthOfWider)/2;return utils.render(this._pathTemplate,{radius:opts,"2radius":2*opts})},require.prototype._trailString=function _trailString(opts){return this._pathString(opts)},module.exports=require},{"./shape":7,"./utils":9}],3:[function(require,module,exports){var Shape=require("./shape");var utils=require("./utils");var require=function Line(container,options){this._pathTemplate="M 0,{center} L 100,{center}",Shape.apply(this,arguments)};((require.prototype=new Shape).constructor=require).prototype._initializeSvg=function _initializeSvg(svg,opts){svg.setAttribute("viewBox","0 0 100 "+opts.strokeWidth),svg.setAttribute("preserveAspectRatio","none")},require.prototype._pathString=function _pathString(opts){return utils.render(this._pathTemplate,{center:opts.strokeWidth/2})},require.prototype._trailString=function _trailString(opts){return this._pathString(opts)},module.exports=require},{"./shape":7,"./utils":9}],4:[function(require,module,exports){module.exports={Line:require("./line"),Circle:require("./circle"),SemiCircle:require("./semicircle"),Square:require("./square"),Path:require("./path"),Shape:require("./shape"),utils:require("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(require,module,exports){var Tweenable=require("shifty");var utils=require("./utils");var EASING_ALIASES={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"};var require=function Path(path,opts){if(!(this instanceof Path))throw new Error("Constructor was called without new keyword");var path;opts=utils.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},opts),path=utils.isString(path)?document.querySelector(path):path,this.path=path,this._opts=opts,this._tweenable=null;var path=this.path.getTotalLength();this.path.style.strokeDasharray=path+" "+path,this.set(0)};require.prototype.value=function value(){var offset=this._getComputedDashOffset();var length=this.path.getTotalLength();var progress;return parseFloat((1-offset/length).toFixed(6),10)},require.prototype.set=function set(progress){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(progress);var step=this._opts.step;var easing,values,reference;utils.isFunction(step)&&(easing=this._easing(this._opts.easing),step(this._calculateTo(progress,easing),this._opts.shape||this,this._opts.attachment))},require.prototype.stop=function stop(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},require.prototype.animate=function animate(progress,opts,cb){opts=opts||{},utils.isFunction(opts)&&(cb=opts,opts={});var passedOpts=utils.extend({},opts);var defaultOpts=utils.extend({},this._opts);opts=utils.extend(defaultOpts,opts);var defaultOpts=this._easing(opts.easing);var passedOpts=this._resolveFromAndTo(progress,defaultOpts,passedOpts);this.stop(),this.path.getBoundingClientRect();var offset=this._getComputedDashOffset();var progress=this._progressToOffset(progress);var self=this;this._tweenable=new Tweenable,this._tweenable.tween({from:utils.extend({offset:offset},passedOpts.from),to:utils.extend({offset:progress},passedOpts.to),duration:opts.duration,easing:defaultOpts,step:function(state){self.path.style.strokeDashoffset=state.offset;var reference=opts.shape||self;opts.step(state,reference,opts.attachment)},finish:function(state){utils.isFunction(cb)&&cb()}})},require.prototype._getComputedDashOffset=function _getComputedDashOffset(){var computedStyle=window.getComputedStyle(this.path,null);return parseFloat(computedStyle.getPropertyValue("stroke-dashoffset"),10)},require.prototype._progressToOffset=function _progressToOffset(progress){var length=this.path.getTotalLength();return length-progress*length},require.prototype._resolveFromAndTo=function _resolveFromAndTo(progress,easing,opts){return opts.from&&opts.to?{from:opts.from,to:opts.to}:{from:this._calculateFrom(easing),to:this._calculateTo(progress,easing)}},require.prototype._calculateFrom=function _calculateFrom(easing){return Tweenable.interpolate(this._opts.from,this._opts.to,this.value(),easing)},require.prototype._calculateTo=function _calculateTo(progress,easing){return Tweenable.interpolate(this._opts.from,this._opts.to,progress,easing)},require.prototype._stopTween=function _stopTween(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},require.prototype._easing=function _easing(easing){return EASING_ALIASES.hasOwnProperty(easing)?EASING_ALIASES[easing]:easing},module.exports=require},{"./utils":9,shifty:1}],6:[function(require,module,exports){var Shape=require("./shape");var Circle=require("./circle");var utils=require("./utils");var require=function SemiCircle(container,options){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,Shape.apply(this,arguments)};((require.prototype=new Shape).constructor=require).prototype._initializeSvg=function _initializeSvg(svg,opts){svg.setAttribute("viewBox","0 0 100 50")},require.prototype._initializeTextContainer=function _initializeTextContainer(opts,container,textContainer){opts.text.style&&(textContainer.style.top="auto",textContainer.style.bottom="0",opts.text.alignToBottom?utils.setStyle(textContainer,"transform","translate(-50%, 0)"):utils.setStyle(textContainer,"transform","translate(-50%, 50%)"))},require.prototype._pathString=Circle.prototype._pathString,require.prototype._trailString=Circle.prototype._trailString,module.exports=require},{"./circle":2,"./shape":7,"./utils":9}],7:[function(require,module,exports){var Path=require("./path");var utils=require("./utils");var DESTROYED_ERROR="Object is destroyed";var require=function Shape(container,opts){if(!(this instanceof Shape))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=utils.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},opts,!0),utils.isObject(opts)&&void 0!==opts.svgStyle&&(this._opts.svgStyle=opts.svgStyle),utils.isObject(opts)&&utils.isObject(opts.text)&&void 0!==opts.text.style&&(this._opts.text.style=opts.text.style);var opts=this._createSvgView(this._opts);var element;if(!(element=utils.isString(container)?document.querySelector(container):container))throw new Error("Container does not exist: "+container);this._container=element,this._container.appendChild(opts.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&utils.setStyles(opts.svg,this._opts.svgStyle),this.svg=opts.svg,this.path=opts.path,this.trail=opts.trail,this.text=null;var container=utils.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new Path(opts.path,container),utils.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};require.prototype.animate=function animate(progress,opts,cb){if(null===this._progressPath)throw new Error(DESTROYED_ERROR);this._progressPath.animate(progress,opts,cb)},require.prototype.stop=function stop(){if(null===this._progressPath)throw new Error(DESTROYED_ERROR);void 0!==this._progressPath&&this._progressPath.stop()},require.prototype.destroy=function destroy(){if(null===this._progressPath)throw new Error(DESTROYED_ERROR);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,(this._progressPath=null)!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},require.prototype.set=function set(progress){if(null===this._progressPath)throw new Error(DESTROYED_ERROR);this._progressPath.set(progress)},require.prototype.value=function value(){if(null===this._progressPath)throw new Error(DESTROYED_ERROR);return void 0===this._progressPath?0:this._progressPath.value()},require.prototype.setText=function setText(newText){if(null===this._progressPath)throw new Error(DESTROYED_ERROR);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),utils.isObject(newText)?(utils.removeChildren(this.text),this.text.appendChild(newText)):this.text.innerHTML=newText},require.prototype._createSvgView=function _createSvgView(opts){var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(svg,opts);var trailPath=null;(opts.trailColor||opts.trailWidth)&&(trailPath=this._createTrail(opts),svg.appendChild(trailPath));var opts=this._createPath(opts);return svg.appendChild(opts),{svg:svg,path:opts,trail:trailPath}},require.prototype._initializeSvg=function _initializeSvg(svg,opts){svg.setAttribute("viewBox","0 0 100 100")},require.prototype._createPath=function _createPath(opts){var pathString=this._pathString(opts);return this._createPathElement(pathString,opts)},require.prototype._createTrail=function _createTrail(opts){var pathString=this._trailString(opts);var opts=utils.extend({},opts);return opts.trailColor||(opts.trailColor="#eee"),opts.trailWidth||(opts.trailWidth=opts.strokeWidth),opts.color=opts.trailColor,opts.strokeWidth=opts.trailWidth,opts.fill=null,this._createPathElement(pathString,opts)},require.prototype._createPathElement=function _createPathElement(pathString,opts){var path=document.createElementNS("http://www.w3.org/2000/svg","path");return path.setAttribute("d",pathString),path.setAttribute("stroke",opts.color),path.setAttribute("stroke-width",opts.strokeWidth),opts.fill?path.setAttribute("fill",opts.fill):path.setAttribute("fill-opacity","0"),path},require.prototype._createTextContainer=function _createTextContainer(opts,container){var textContainer=document.createElement("div");textContainer.className=opts.text.className;var textStyle=opts.text.style;return textStyle&&(opts.text.autoStyleContainer&&(container.style.position="relative"),utils.setStyles(textContainer,textStyle),textStyle.color||(textContainer.style.color=opts.color)),this._initializeTextContainer(opts,container,textContainer),textContainer},require.prototype._initializeTextContainer=function(opts,container,element){},require.prototype._pathString=function _pathString(opts){throw new Error("Override this function for each progress bar")},require.prototype._trailString=function _trailString(opts){throw new Error("Override this function for each progress bar")},require.prototype._warnContainerAspectRatio=function _warnContainerAspectRatio(container){var container,width,container;this.containerAspectRatio&&(container=window.getComputedStyle(container,null),width=parseFloat(container.getPropertyValue("width"),10),container=parseFloat(container.getPropertyValue("height"),10),utils.floatEquals(this.containerAspectRatio,width/container))},module.exports=require},{"./path":5,"./utils":9}],8:[function(require,module,exports){var Shape=require("./shape");var utils=require("./utils");var require=function Square(container,options){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",Shape.apply(this,arguments)};((require.prototype=new Shape).constructor=require).prototype._pathString=function _pathString(opts){var w=100-opts.strokeWidth/2;return utils.render(this._pathTemplate,{width:w,strokeWidth:opts.strokeWidth,halfOfStrokeWidth:opts.strokeWidth/2})},require.prototype._trailString=function _trailString(opts){var w=100-opts.strokeWidth/2;return utils.render(this._trailTemplate,{width:w,strokeWidth:opts.strokeWidth,halfOfStrokeWidth:opts.strokeWidth/2,startMargin:opts.strokeWidth/2-opts.trailWidth/2})},module.exports=require},{"./shape":7,"./utils":9}],9:[function(require,module,exports){var PREFIXES="Webkit Moz O ms".split(" ");var FLOAT_COMPARISON_EPSILON=.001;function extend(destination,source,recursive){for(var attrName in destination=destination||{},recursive=recursive||!1,source=source||{}){var destVal,sourceVal;source.hasOwnProperty(attrName)&&(destVal=destination[attrName],sourceVal=source[attrName],recursive&&isObject(destVal)&&isObject(sourceVal)?destination[attrName]=extend(destVal,sourceVal,recursive):destination[attrName]=sourceVal)}return destination}function render(template,vars){var rendered=template;for(var key in vars){var val,regExpString,key;vars.hasOwnProperty(key)&&(val=vars[key],key=new RegExp("\\{"+key+"\\}","g"),rendered=rendered.replace(key,val))}return rendered}function setStyle(element,style,value){var elStyle=element.style;for(var i=0;i<PREFIXES.length;++i){var prefix;elStyle[PREFIXES[i]+capitalize(style)]=value}elStyle[style]=value}function setStyles(element,styles){forEachObject(styles,function(styleValue,styleName){null!=styleValue&&(isObject(styleValue)&&!0===styleValue.prefix?setStyle(element,styleName,styleValue.value):element.style[styleName]=styleValue)})}function capitalize(text){return text.charAt(0).toUpperCase()+text.slice(1)}function isString(obj){return"string"==typeof obj||obj instanceof String}function isFunction(obj){return"function"==typeof obj}function isArray(obj){return"[object Array]"===Object.prototype.toString.call(obj)}function isObject(obj){var type;return!isArray(obj)&&"object"==typeof obj&&!!obj}function forEachObject(object,callback){for(var key in object){var val;object.hasOwnProperty(key)&&callback(object[key],key)}}function floatEquals(a,b){return Math.abs(a-b)<.001}function removeChildren(el){for(;el.firstChild;)el.removeChild(el.firstChild)}module.exports={extend:extend,render:render,setStyle:setStyle,setStyles:setStyles,capitalize:capitalize,isString:isString,isFunction:isFunction,isObject:isObject,forEachObject:forEachObject,floatEquals:floatEquals,removeChildren:removeChildren}},{}]},{},[4])(4)},module.exports=f()});function getCss(){return"\n        #h5branding-center {\n            position: absolute;\n            top: 45%;\n            left: 50%;\n            transform: translate(-50%, -20%);\n            text-align: center;\n            width: 100%;\n        }\n        #h5branding-wrapper {\n            position: relative;\n            z-index: 665;\n            width: 150px;\n            height: 150px;\n            display:inline-block;\n            margin: 35px 40px 96px 40px;\n        }\n\n        #h5branding-version {\n            position: absolute;\n            right: 10px;\n            font-family: Helvetica, Arial, sans-serif;\n            color: #ffffff;\n            font-size: 0.8em;\n            top: 10px;\n            display: none;\n        }\n\n        #h5branding-wrapper > #h5branding-bar, #h5branding-wrapper > img {\n            box-shadow: inset 10px 10px 20px 5px rgba(0, 0, 0, 0.5);\n            border-radius: 50%;\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        #h5branding-ad {\n            position: relative;\n            z-index: 667;\n            border-radius: 5px;\n            border: 3px solid white;\n            background: rgba(256, 256, 256, 0.2);\n            width: 336px;\n            height: 280px;\n            display: none;\n            margin: 0px 10px 0px 10px;\n        }\n\n        #h5branding-wrapper > img {\n            /* Needs appropriate vendor prefixes */\n            box-sizing: border-box;\n\n            /* This needs to be equal to strokeWidth */\n            padding: 4%;\n        }\n\n        #h5branding-wrapper > img {\n            border-radius: 50%;\n            box-shadow: inset 0 5px 5px rgba(0, 0, 0, 0.5), 5px 5px 7px rgba(0, 0, 0, 0.3);\n        }\n\n        #h5branding-container {\n            box-sizing: border-box;\n            position: absolute;\n            z-index: 664;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: #000;\n            overflow: hidden;\n        }\n\n        #h5branding-background {\n            position: absolute;\n            top: -25%;\n            left: -25%;\n            width: 150%;\n            height: 150%;\n            background-blend-mode: multiply;\n            background-size: cover;\n            filter: blur(40px) brightness(1.5);\n        }\n\n        @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n             /* IE10+ CSS styles go here */\n             #h5branding-background {\n                background-image: none !important;\n             }\n        }\n\n        #h5branding-logo {\n            position: absolute;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n            text-align: center;\n            top: 10%;\n        }\n\n        #h5branding-logo > img {\n            height: 150px;\n        }\n\n        #h5branding-title {\n            position: absolute;\n            width: 100%;\n            background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.5) 50%, transparent);\n            color: #fff;\n            text-shadow: 0 0 1px rgba(0, 0, 0, 0.7);\n            bottom:10%;\n            padding: 15px 0;\n            text-align: center;\n            font-size: 18px;\n            font-family: Helvetica, Arial, sans-serif;\n            font-weight: bold;\n            line-height: 100%;\n        }\n\n        #h5branding-button {\n            /* border: 0; */\n            padding: 10px 22px;\n            border-radius: 5px;\n            border: 3px solid white;\n            background: linear-gradient(0deg, #dddddd, #ffffff);\n            color: #222;\n            text-transform: uppercase;\n            text-shadow: 0 0 1px #fff;\n            font-family: Helvetica, Arial, sans-serif;\n            font-weight: bold;\n            font-size: 18px;\n            cursor: pointer;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n            display: none;\n            width: 150px;\n            position: absolute;\n            top: 170px;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n        }\n\n        @media (orientation: portrait) and (max-width: 1080px) {\n            #h5branding-logo > img {\n                height: initial;\n                width:100%;\n            }\n        }\n\n        @media (orientation: landscape) and (max-height: 640px) {\n            #h5branding-title {\n                display: none;\n            }\n\n            #h5branding-logo > img {\n                height: 100px;\n            }\n        }\n\n        @media (orientation: landscape) and (max-height: 460px) {\n            #h5branding-title {\n                display: none;\n            }\n\n            #h5branding-wrapper {\n                width: 110px;\n                height: 110px;\n                margin: 0;\n            }\n\n            #h5branding-logo {\n                top: 0;\n                transform: scale(0.7, 0.7);\n            }\n\n            #h5branding-button {\n                top: initial;\n                width: 110px;\n                font-size: 14px;\n                position: absolute;\n                top: 140px;\n                left: 0;\n                right: 0;\n            }\n\n            #h5branding-ad {\n               display: none !important;\n            }\n        }\n\n        @media (orientation: portrait) and (max-width: 250px) {\n            #h5branding-logo {\n                top: 2%;\n            }\n        }\n\n        @media (orientation: landscape) and (max-width: 330px) {\n             #h5branding-button {\n                top: 120px;\n            }\n\n            #h5branding-logo > img {\n                height: 70px;\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 850px) {\n            #h5branding-ad {\n               display: none !important;\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 1100px) {\n            #h5branding-center {\n                top: 40%;\n            }\n\n            #h5branding-title {\n               bottom: 5%\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 900px) {\n            #h5branding-title {\n               display: none\n            }\n        }\n\n        @media (orientation: landscape) and (min-width: 800px) {\n            #h5branding-wrapper {\n                margin-left: 120px;\n                margin-right: 120px;\n            }\n        }\n\n        "}function getHtml(gameLogo,gameTitle){return'\n        <div id="h5branding-background"></div>\n        <div id="h5branding-version"></div>\n        <div id="h5branding-logo"></div>\n        <div id="h5branding-center">\n            <div id="h5branding-ad"></div>\n            <div id="h5branding-wrapper">\n                <img src="'.concat(gameLogo,'" />\n                <div id="h5branding-bar"></div>\n                <button id="h5branding-button" onclick="h5branding.SplashLoader.getInstance().onPlayButtonClick();">Play</button>\n            </div>\n        </div>\n        <div id="h5branding-title">').concat(gameTitle,"</div>\n    ")}var BrandingDomain=function(){function SplashLoader(options){this.circleLoader=null,this.loaded=!1,this.showPlayButton="undefined"==typeof playBtn||playBtn,this.progress=0,this.options={gameId:"12346",gameTitle:"Place Holder",gameName:"place-holder",libs:[],version:"dev",barColor:"white",gaMeasurementId:"none"},this.options.gameId=options.gameId,this.options.gameTitle=options.gameTitle,this.options.version=options.version,this.options.barColor=options.barColor||this.options.barColor,this.options.libs=options.libs,this.options.gaMeasurementId=options.gaMeasurementId}return SplashLoader.getInstance=function(options){if(!SplashLoader.instance){if(!options)throw new Error("Can not create new SplashLoader instance without options!");SplashLoader.instance=new SplashLoader(options)}return SplashLoader.instance},SplashLoader.prototype.create=function(){return __awaiter(this,void 0,void 0,function(){var css,html,head,style,css,head,style;return __generator(this,function(_a){switch(_a.label){case 0:return css=getCss(),html=getHtml(this.getGameLogoUrl(),this.options.gameTitle),head=document.head||document.getElementsByTagName("head")[0],(style=document.createElement("style")).type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style),(css=document.createElement("div")).innerHTML=html,css.id="h5branding-container",(head=document.body||document.getElementsByTagName("body")[0]).insertBefore(css,head.firstChild),this.circleLoader=new progressbar.Circle("#h5branding-bar",{strokeWidth:3,color:this.options.barColor}),(style=document.getElementById("h5branding-version"))&&(style.innerHTML=this.options.version),[4,this.loadLibs()];case 1:return _a.sent(),[4,Utils.loadHost()];case 2:return _a.sent(),[4,this.loadBranding()];case 3:return _a.sent(),this.loaded=!0,[2]}})})},SplashLoader.prototype.loadBranding=function(){return __awaiter(this,void 0,void 0,function(){var background,background,logo;return __generator(this,function(_a){switch(_a.label){case 0:return[4,Branding.preload(Date.now().toString())];case 1:return _a.sent(),(background=document.getElementById("h5branding-background"))&&(background.style.backgroundColor=Branding.brandingBackgroundColor),(background=document.getElementById("h5branding-logo"))&&Utils.getBrandingDomain()!==exports.BrandingDomain.Neutral&&((logo=document.createElement("img")).src=Branding.brandingLogoUrl.replace("_small",""),background.appendChild(logo)),[2]}})})},SplashLoader.prototype.loadLibs=function(){var _this=this;var scripts=this.options.libs.map(function(url,index){return Loader.instance.loadScript(url,!0,function(){_this.setScriptloadProgress(scripts.length,index+1)})});return Promise.all(scripts)},Object.defineProperty(SplashLoader.prototype,"bannerAllowed",{get:function(){var width=document.body.clientWidth;var height=document.body.clientHeight;return this.progress<100&&!(height<width&&height<=460)&&!(width<600&&height<850)},enumerable:!1,configurable:!0}),SplashLoader.prototype.showBanner=function(){var banner;return this.bannerAllowed&&(banner=document.getElementById("h5branding-ad"))?(banner.style.display="inline-flex",banner):null},SplashLoader.prototype.setScriptloadProgress=function(maxScripts,increment){var progress;this.circleLoader.animate(.3*increment/maxScripts,null,function(){})},SplashLoader.prototype.setLoadProgress=function(progress){var _this=this;var button_1;this.loaded&&(100===(this.progress=progress=30+.7*progress)?(button_1=document.querySelector("#h5branding-button"),this.circleLoader.animate(1,null,function(){!Utils.inGDGameZone()&&button_1&&!0===_this.showPlayButton?button_1.style.display="block":!Utils.inGDGameZone()&&!1!==_this.showPlayButton||_this.onPlayButtonClick()})):this.circleLoader.animate(progress/100,null,function(){}))},SplashLoader.prototype.setButtonCallback=function(cb){this.buttonCallback=cb},SplashLoader.prototype.onPlayButtonClick=function(){this.buttonCallback&&this.buttonCallback()},SplashLoader.prototype.destroy=function(){var element=document.querySelector("#h5branding-container");null!==element&&null!==element.parentNode&&element.parentNode.removeChild(element)},SplashLoader.prototype.getGameLogoUrl=function(){return"assets/icon.jpeg"},SplashLoader}();exports.Branding=Branding,exports.Domain=Domain,exports.Hosts=Hosts,exports.SplashLoader=BrandingDomain,exports.Utils=Utils,Object.defineProperty(exports,"__esModule",{value:!0})}),(()=>{var __webpack_modules__={34:module=>{"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var fn=new EE(fn,context||emitter,once),context=prefix?prefix+event:event;return emitter._events[context]?emitter._events[context].fn?emitter._events[context]=[emitter._events[context],fn]:emitter._events[context].push(fn):(emitter._events[context]=fn,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var names=[],events,name;if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event){var event=prefix?prefix+event:event,handlers=this._events[event];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function listenerCount(event){var event=prefix?prefix+event:event,event=this._events[event];return event?event.fn?1:event.length:0},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var listeners=this._events[evt],len=arguments.length,args,i;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var length=listeners.length,j;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var event=prefix?prefix+event:event;if(this._events[event])if(fn){var listeners=this._events[event];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,event);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[event]=1===events.length?events[0]:events:clearEvent(this,event)}}else clearEvent(this,event);return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var event;return event?(event=prefix?prefix+event:event,this._events[event]&&clearEvent(this,event)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,module.exports=EventEmitter.EventEmitter=EventEmitter},729:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(548),__webpack_require__(498)],void 0!==(exports=function(require,exports,AdWrapper_1,types_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdType=exports.AdEvents=exports.ProviderTypes=exports.GameDistributionBannerSize=exports.GameDistributionAlignment=exports.AdWrapper=void 0,Object.defineProperty(exports,"AdWrapper",{enumerable:!0,get:function(){return AdWrapper_1.AdWrapper}}),Object.defineProperty(exports,"GameDistributionAlignment",{enumerable:!0,get:function(){return types_1.GameDistributionAlignment}}),Object.defineProperty(exports,"GameDistributionBannerSize",{enumerable:!0,get:function(){return types_1.GameDistributionBannerSize}}),Object.defineProperty(exports,"ProviderTypes",{enumerable:!0,get:function(){return types_1.ProviderTypes}}),Object.defineProperty(exports,"AdEvents",{enumerable:!0,get:function(){return types_1.AdEvents}}),Object.defineProperty(exports,"AdType",{enumerable:!0,get:function(){return types_1.AdType}})}.apply(exports,__webpack_require__))&&(module.exports=exports)},470:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(12)],void 0!==(exports=function(require,exports,shared_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JioAdProvider=void 0;var JioAdProvider=function(){function JioAdProvider(){this.adsEnabled=!1}return JioAdProvider.prototype.setManager=function(manager){var manager;this.adManager=manager,this.jioGamesSP=null==(manager=window._azerionJGSDK)?void 0:manager.JioGamesSP},JioAdProvider.prototype.showAd=function(adType){adType===shared_1.AdType.interstitial?this.jioGamesSP.showAdMidRoll():adType===shared_1.AdType.rewarded&&this.jioGamesSP.showAdRewardedVideo(),this.resumeGameplay()},JioAdProvider.prototype.resumeGameplay=function(){this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)},JioAdProvider.prototype.preloadAd=function(adType,adSpotKey,packageName){(adType=void 0===adType?shared_1.AdType.interstitial:adType)===shared_1.AdType.interstitial&&this.jioGamesSP.cacheAdMidRoll(adSpotKey,packageName),adType===shared_1.AdType.rewarded&&this.jioGamesSP.cacheAdRewardedVideo(adSpotKey,packageName)},JioAdProvider.prototype.destroyAd=function(){},JioAdProvider.prototype.hideAd=function(){},JioAdProvider.prototype.adAvailable=function(adType){return!0},JioAdProvider}();exports.JioAdProvider=JioAdProvider}.apply(exports,__webpack_require__))&&(module.exports=exports)},766:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(470)],void 0!==(exports=function(require,exports,JioAdProvider_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JioAdProvider=void 0,Object.defineProperty(exports,"JioAdProvider",{enumerable:!0,get:function(){return JioAdProvider_1.JioAdProvider}})}.apply(exports,__webpack_require__))&&(module.exports=exports)},110:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(12)],void 0!==(exports=function(require,exports,shared_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdFreeUntrackedProvider=void 0;var AdFreeUntrackedProvider=function(){function AdFreeUntrackedProvider(){this.adsEnabled=!1}return AdFreeUntrackedProvider.prototype.setManager=function(manager){this.adManager=manager},AdFreeUntrackedProvider.prototype.showAd=function(adType){void 0===adType&&(adType=shared_1.AdType.interstitial),this.resumeGameplay()},AdFreeUntrackedProvider.prototype.resumeGameplay=function(){this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)},AdFreeUntrackedProvider.prototype.preloadAd=function(adType){void 0===adType&&(adType=shared_1.AdType.interstitial)},AdFreeUntrackedProvider.prototype.destroyAd=function(){},AdFreeUntrackedProvider.prototype.hideAd=function(){},AdFreeUntrackedProvider.prototype.adAvailable=function(adType){return!0},AdFreeUntrackedProvider}();exports.AdFreeUntrackedProvider=AdFreeUntrackedProvider}.apply(exports,__webpack_require__))&&(module.exports=exports)},592:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(260)],void 0!==(exports=function(require,exports,dummy_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DummyBanner=void 0;var DummyBanner=function(){function DummyBanner(sizeType){var _this=this;this.scaleFactor=1,this.offsetX=0,this.offsetY=0,this.dummyBannerConfigList=[{sizeType:dummy_1.DummyBannerSize.LargeRectangle,width:336,height:280},{sizeType:dummy_1.DummyBannerSize.MediumRectangle,width:300,height:250},{sizeType:dummy_1.DummyBannerSize.Billboard,width:970,height:250},{sizeType:dummy_1.DummyBannerSize.Leaderboard,width:728,height:90},{sizeType:dummy_1.DummyBannerSize.Skyscraper,width:120,height:600},{sizeType:dummy_1.DummyBannerSize.WideSkyscraper,width:160,height:600}],this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.top="0px",this.element.style.left="0px",this.element.id="banner-".concat(Date.now()).concat(1e7*Math.random()|0),document.body.appendChild(this.element),this.setSize(sizeType),this.resizeListener=function(){return _this.resize()},window.addEventListener("resize",this.resizeListener),this.loadBanner().catch(function(){})}return DummyBanner.prototype.getBoundingClientRect=function(){return{left:0,top:0,width:window.innerWidth,height:window.innerHeight}},DummyBanner.prototype.loadBanner=function(){var num=Math.floor(2*Math.random());return new Promise(function(resolve,reject){1===num?reject("No Dummy banner available"):resolve()})},DummyBanner.prototype.destroy=function(){try{document.body.removeChild(this.element),this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null),delete this.element,delete this.parent,delete this.alignment}catch(e){}},DummyBanner.prototype.getUpdatedPosition=function(){var parentBoundingRect=this.getBoundingClientRect();var x=0;var y=0;switch(this.alignment){case dummy_1.DummyAlignment.TopLeft:x=parentBoundingRect.left,y=parentBoundingRect.top;break;case dummy_1.DummyAlignment.TopCenter:x=parentBoundingRect.left+parentBoundingRect.width/2-this.width*this.scaleFactor/2,y=parentBoundingRect.top;break;case dummy_1.DummyAlignment.TopRight:x=parentBoundingRect.left+parentBoundingRect.width-this.width*this.scaleFactor,y=parentBoundingRect.top;break;case dummy_1.DummyAlignment.CenterLeft:x=parentBoundingRect.left,y=parentBoundingRect.top+parentBoundingRect.height/2-this.height*this.scaleFactor/2;break;case dummy_1.DummyAlignment.Center:x=parentBoundingRect.left+parentBoundingRect.width/2-this.width*this.scaleFactor/2,y=parentBoundingRect.top+parentBoundingRect.height/2-this.height*this.scaleFactor/2;break;case dummy_1.DummyAlignment.CenterRight:x=parentBoundingRect.left+parentBoundingRect.width-this.width*this.scaleFactor,y=parentBoundingRect.top+parentBoundingRect.height/2-this.height*this.scaleFactor/2;break;case dummy_1.DummyAlignment.BottomLeft:x=parentBoundingRect.left,y=parentBoundingRect.top+parentBoundingRect.height-this.height*this.scaleFactor;break;case dummy_1.DummyAlignment.BottomCenter:x=parentBoundingRect.left+parentBoundingRect.width/2-this.width*this.scaleFactor/2,y=parentBoundingRect.top+parentBoundingRect.height-this.height*this.scaleFactor;break;case dummy_1.DummyAlignment.BottomRight:x=parentBoundingRect.left+parentBoundingRect.width-this.width*this.scaleFactor,y=parentBoundingRect.top+parentBoundingRect.height-this.height*this.scaleFactor;break}return{x:x,y:y}},DummyBanner.prototype.alignIn=function(alignment){this.alignment=alignment;var alignment=this.getUpdatedPosition();this.element.style.left="".concat(alignment.x+this.offsetX,"px"),this.element.style.top="".concat(alignment.y+this.offsetY,"px")},DummyBanner.prototype.resize=function(){this.alignment&&this.element&&this.alignIn(this.alignment)},DummyBanner.prototype.setSize=function(sizeType){var resultArr=this.dummyBannerConfigList.filter(function(bConfig){return bConfig.sizeType===sizeType});var resultArr;resultArr&&0<resultArr.length&&(resultArr=resultArr[0],this.width=resultArr.width,this.height=resultArr.height,this.element.style.width="".concat(this.width,"px"),this.element.style.height="".concat(this.height,"px"))},DummyBanner}();exports.DummyBanner=DummyBanner}.apply(exports,__webpack_require__))&&(module.exports=exports)},670:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(12),__webpack_require__(592)],void 0!==(exports=function(require,exports,shared_1,DummyBanner_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DummyProvider=void 0;var DummyProvider=function(){function DummyProvider(){this.adsEnabled=!1}return DummyProvider.prototype.setManager=function(manager){this.adManager=manager,this.adsEnabled=!0},DummyProvider.prototype.showAd=function(adType){var _this=this;void 0===adType&&(adType=shared_1.AdType.interstitial),this.adManager.emit(shared_1.AdEvents.CONTENT_PAUSED);var num=Math.floor(2*Math.random());1!==num&&adType===shared_1.AdType.rewarded&&setTimeout(function(){_this.adManager.emit(shared_1.AdEvents.AD_REWARDED)},100),setTimeout(function(){_this.resumeGameplay()},200)},DummyProvider.prototype.resumeGameplay=function(){this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)},DummyProvider.prototype.preloadAd=function(adType){void 0===adType&&(adType=shared_1.AdType.interstitial)},DummyProvider.prototype.destroyAd=function(){},DummyProvider.prototype.hideAd=function(){},DummyProvider.prototype.adAvailable=function(adType){return!0},DummyProvider.prototype.getBanner=function(sizeType){return this.adsEnabled?new DummyBanner_1.DummyBanner(sizeType):null},DummyProvider}();exports.DummyProvider=DummyProvider}.apply(exports,__webpack_require__))&&(module.exports=exports)},474:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(12),__webpack_require__(444)],void 0!==(exports=function(require,exports,shared_1,GameDistributionBanner_1){"use strict";var GameDistributionAdType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameDistribution=exports.GameDistributionAdType=void 0,function(GameDistributionAdType){GameDistributionAdType.interstitial="interstitial",GameDistributionAdType.rewarded="rewarded",GameDistributionAdType.display="display"}(GameDistributionAdType=exports.GameDistributionAdType||(exports.GameDistributionAdType={}));var GameDistribution=function(){function GameDistribution(gameId){var _this=this;if(this.adsEnabled=!1,this.hasRewarded=!1,this.adShowing=!1,!gameId)throw new Error("Valid game id is not provided for GD Ad provider");var gameId,s,id,fjs;window.GD_OPTIONS={gameId:gameId,advertisementSettings:{autoplay:!1},onEvent:function(event){switch(event.name){case"SDK_GAME_PAUSE":_this.adManager.emit(shared_1.AdEvents.CONTENT_PAUSED);break;case"SDK_GAME_START":case"SDK_ERROR":_this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED);break;case"AD_SDK_CANCELED":_this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED);break;case"SDK_READY":_this.sdkLoaded();break;case"SDK_REWARDED_WATCH_COMPLETE":_this.adManager.emit(shared_1.AdEvents.AD_REWARDED),_this.hasRewarded=!1;break;default:break}}},gameId=document,s="script",id="gamedistribution-jssdk",fjs=gameId.getElementsByTagName(s)[0],gameId.getElementById(id)||((gameId=gameId.createElement(s)).id=id,gameId.src="/main.min.js",fjs.parentNode&&fjs.parentNode.insertBefore(gameId,fjs))}return GameDistribution.prototype.setManager=function(manager){this.adManager=manager,this.adManager.emit(shared_1.AdEvents.AD_PROVIDER_LOADED)},GameDistribution.prototype.sdkLoaded=function(){this.adsEnabled=!0},GameDistribution.prototype.showAd=function(adType){var _this=this;this.adsEnabled?void 0===window.gdsdk||window.gdsdk&&void 0===window.gdsdk.showAd?(this.adsEnabled=!1,this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)):window.gdsdk.showAd(adType===shared_1.AdType.rewarded?GameDistributionAdType.rewarded:GameDistributionAdType.interstitial).catch(function(){adType===shared_1.AdType.rewarded&&_this.hasRewarded&&(_this.hasRewarded=!1),_this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)}):this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)},GameDistribution.prototype.preloadAd=function(adType){var _this=this;!this.hasRewarded&&this.adsEnabled&&adType===shared_1.AdType.rewarded&&window.gdsdk.preloadAd(GameDistributionAdType.rewarded).then(function(){_this.hasRewarded=!0,_this.adManager.emit(shared_1.AdEvents.AD_LOADED,adType)})},GameDistribution.prototype.adAvailable=function(adType){return adType!==shared_1.AdType.rewarded||this.hasRewarded},GameDistribution.prototype.destroyAd=function(){},GameDistribution.prototype.hideAd=function(){},GameDistribution.prototype.getBanner=function(size){var size;return this.adsEnabled?((size=new GameDistributionBanner_1.GameDistributionBanner(size)).loadBanner().catch(function(){}),size):null},GameDistribution}();exports.GameDistribution=GameDistribution}.apply(exports,__webpack_require__))&&(module.exports=exports)},444:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(474),__webpack_require__(869)],void 0!==(exports=function(require,exports,GameDistribution_1,gamedistribution_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameDistributionBanner=void 0;var GameDistributionBanner=function(){function GameDistributionBanner(size){this.scaleFactor=1,this.offsetX=0,this.offsetY=0,this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.top="0px",this.element.style.left="0px",this.element.id="banner-".concat(Date.now()).concat(1e7*Math.random()|0),this.setSize(size),document.body.appendChild(this.element)}return GameDistributionBanner.prototype.getBoundingClientRect=function(){return{left:0,top:0,width:window.innerWidth,height:window.innerHeight}},GameDistributionBanner.prototype.loadBanner=function(){return void 0===window.gdsdk?Promise.reject("GD Sdk not available, probably due to adblocker"):window.gdsdk.showAd(GameDistribution_1.GameDistributionAdType.display,{containerId:this.element.id})},GameDistributionBanner.prototype.destroy=function(){document.body.removeChild(this.element),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),delete this.element,delete this.parent,delete this.alignment},GameDistributionBanner.prototype.alignIn=function(position){var _this=this;this.parent||(this.parent=this.getBoundingClientRect(),this.alignment=position,this.resizeListener=function(){return _this.resize()},window.addEventListener("resize",this.resizeListener),this.resize())},GameDistributionBanner.prototype.setOffset=function(x,y){void 0===y&&(y=0),this.offsetX=x=void 0===x?0:x,this.offsetY=y,this.resize()},GameDistributionBanner.prototype.resize=function(){if(this.parent){var parentBoundingRect=this.parent;switch(this.alignment){case gamedistribution_1.GameDistributionAlignment.TopLeft:this.position(parentBoundingRect.left,parentBoundingRect.top);break;case gamedistribution_1.GameDistributionAlignment.TopCenter:this.position(parentBoundingRect.left+parentBoundingRect.width/2-this.width*this.scaleFactor/2,parentBoundingRect.top);break;case gamedistribution_1.GameDistributionAlignment.TopRight:this.position(parentBoundingRect.left+parentBoundingRect.width-this.width*this.scaleFactor,parentBoundingRect.top);break;case gamedistribution_1.GameDistributionAlignment.CenterLeft:this.position(parentBoundingRect.left,parentBoundingRect.top+parentBoundingRect.height/2-this.height*this.scaleFactor/2);break;case gamedistribution_1.GameDistributionAlignment.Center:this.position(parentBoundingRect.left+parentBoundingRect.width/2-this.width*this.scaleFactor/2,parentBoundingRect.top+parentBoundingRect.height/2-this.height*this.scaleFactor/2);break;case gamedistribution_1.GameDistributionAlignment.CenterRight:this.position(parentBoundingRect.left+parentBoundingRect.width-this.width*this.scaleFactor,parentBoundingRect.top+parentBoundingRect.height/2-this.height*this.scaleFactor/2);break;case gamedistribution_1.GameDistributionAlignment.BottomLeft:this.position(parentBoundingRect.left,parentBoundingRect.top+parentBoundingRect.height-this.height*this.scaleFactor);break;case gamedistribution_1.GameDistributionAlignment.BottomCenter:this.position(parentBoundingRect.left+parentBoundingRect.width/2-this.width*this.scaleFactor/2,parentBoundingRect.top+parentBoundingRect.height-this.height*this.scaleFactor);break;case gamedistribution_1.GameDistributionAlignment.BottomRight:this.position(parentBoundingRect.left+parentBoundingRect.width-this.width*this.scaleFactor,parentBoundingRect.top+parentBoundingRect.height-this.height*this.scaleFactor);break}}},GameDistributionBanner.prototype.setSize=function(size){var width;var height;switch(size){default:case gamedistribution_1.GameDistributionBannerSize.LargeRectangle:width=336,height=280;break;case gamedistribution_1.GameDistributionBannerSize.MediumRectangle:width=300,height=250;break;case gamedistribution_1.GameDistributionBannerSize.Billboard:width=970,height=250;break;case gamedistribution_1.GameDistributionBannerSize.Leaderboard:width=728,height=90;break;case gamedistribution_1.GameDistributionBannerSize.Skyscraper:width=120,height=600;break;case gamedistribution_1.GameDistributionBannerSize.WideSkyscraper:width=160,height=600;break}this.width=width,this.height=height,this.element.style.width="".concat(width,"px"),this.element.style.height="".concat(height,"px")},GameDistributionBanner.prototype.position=function(x,y){this.element.style.left="".concat(x+this.offsetX,"px"),this.element.style.top="".concat(y+this.offsetY,"px")},GameDistributionBanner.prototype.scale=function(factor){this.element.style.transformOrigin="left top",this.scaleFactor=factor,this.element.style.transform="scale(".concat(factor,")")},GameDistributionBanner}();exports.GameDistributionBanner=GameDistributionBanner}.apply(exports,__webpack_require__))&&(module.exports=exports)},654:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(12)],void 0!==(exports=function(require,exports,shared_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.YandexAdProvider=void 0;var YandexAdProvider=function(){function YandexAdProvider(partnerID){var _this=this;var d,s,id,fjs;this.adsEnabled=!1,d=document,s="script",id="yandex-jssdk",fjs=d.getElementsByTagName(s)[0],d.getElementById(id)||((d=d.createElement(s)).addEventListener("load",function(){_this.initialize()}),d.id=id,d.src="//yandex.ru/games/sdk/v2",fjs.parentNode.insertBefore(d,fjs))}return YandexAdProvider.prototype.setManager=function(manager){this.adManager=manager},YandexAdProvider.prototype.showAd=function(adType){var _this=this;var _a,_a,_a,adType,_a,_a,adType,_a;void 0===adType&&(adType=shared_1.AdType.interstitial),this.adsEnabled&&window.hasOwnProperty("_YaSDK")?adType===shared_1.AdType.interstitial&&null!=(_a=null==(_a=window._YaSDK)?void 0:_a.adv)&&_a.adOpened||(adType===shared_1.AdType.rewarded?null!=(_a=null==(adType=null==(_a=window._YaSDK)?void 0:_a.adv)?void 0:adType.showRewardedVideo)&&_a.call(adType,{callbacks:{onOpen:function(){_this.adManager.emit(shared_1.AdEvents.CONTENT_PAUSED)},onRewarded:function(){_this.adManager.emit(shared_1.AdEvents.AD_REWARDED)},onClose:function(){_this.resumeGameplay()},onError:function(e){_this.resumeGameplay()}}}):null!=(_a=null==(adType=null==(_a=window._YaSDK)?void 0:_a.adv)?void 0:adType.showFullscreenAdv)&&_a.call(adType,{callbacks:{onOpen:function(){_this.adManager.emit(shared_1.AdEvents.CONTENT_PAUSED)},onClose:function(){_this.resumeGameplay()},onError:function(){_this.resumeGameplay()}}})):this.resumeGameplay()},YandexAdProvider.prototype.initialize=function(){var _this=this;window.YaGames.init().then(function(ysdk){window._YaSDK=ysdk,_this.adsEnabled=!0})},YandexAdProvider.prototype.resumeGameplay=function(){this.adManager.emit(shared_1.AdEvents.CONTENT_RESUMED)},YandexAdProvider.prototype.preloadAd=function(adType){void 0===adType&&(adType=shared_1.AdType.interstitial),this.adManager.emit(shared_1.AdEvents.AD_LOADED,adType)},YandexAdProvider.prototype.destroyAd=function(){},YandexAdProvider.prototype.hideAd=function(){},YandexAdProvider.prototype.adAvailable=function(adType){return!0},YandexAdProvider}();exports.YandexAdProvider=YandexAdProvider}.apply(exports,__webpack_require__))&&(module.exports=exports)},563:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(110),__webpack_require__(670),__webpack_require__(474),__webpack_require__(444),__webpack_require__(654)],void 0!==(exports=function(require,exports,AdFreeUntrackedProvider_1,DummyProvider_1,GameDistribution_1,GameDistributionBanner_1,YandexAdProvider_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.YandexAdProvider=exports.GameDistributionBanner=exports.GameDistribution=exports.DummyProvider=exports.AdFreeUntrackedProvider=void 0,Object.defineProperty(exports,"AdFreeUntrackedProvider",{enumerable:!0,get:function(){return AdFreeUntrackedProvider_1.AdFreeUntrackedProvider}}),Object.defineProperty(exports,"DummyProvider",{enumerable:!0,get:function(){return DummyProvider_1.DummyProvider}}),Object.defineProperty(exports,"GameDistribution",{enumerable:!0,get:function(){return GameDistribution_1.GameDistribution}}),Object.defineProperty(exports,"GameDistributionBanner",{enumerable:!0,get:function(){return GameDistributionBanner_1.GameDistributionBanner}}),Object.defineProperty(exports,"YandexAdProvider",{enumerable:!0,get:function(){return YandexAdProvider_1.YandexAdProvider}})}.apply(exports,__webpack_require__))&&(module.exports=exports)},260:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__webpack_require__;void 0!==(__webpack_require__=function(require,exports){"use strict";var DummyBannerSize;var DummyAlignment;Object.defineProperty(exports,"__esModule",{value:!0}),exports.DummyAlignment=exports.DummyBannerSize=void 0,function(DummyBannerSize){DummyBannerSize[DummyBannerSize.LargeRectangle=0]="LargeRectangle",DummyBannerSize[DummyBannerSize.MediumRectangle=1]="MediumRectangle",DummyBannerSize[DummyBannerSize.Billboard=2]="Billboard",DummyBannerSize[DummyBannerSize.Leaderboard=3]="Leaderboard",DummyBannerSize[DummyBannerSize.Skyscraper=4]="Skyscraper",DummyBannerSize[DummyBannerSize.WideSkyscraper=5]="WideSkyscraper"}(DummyBannerSize=exports.DummyBannerSize||(exports.DummyBannerSize={})),function(DummyAlignment){DummyAlignment[DummyAlignment.TopLeft=0]="TopLeft",DummyAlignment[DummyAlignment.TopCenter=1]="TopCenter",DummyAlignment[DummyAlignment.TopRight=2]="TopRight",DummyAlignment[DummyAlignment.CenterLeft=3]="CenterLeft",DummyAlignment[DummyAlignment.Center=4]="Center",DummyAlignment[DummyAlignment.CenterRight=5]="CenterRight",DummyAlignment[DummyAlignment.BottomLeft=6]="BottomLeft",DummyAlignment[DummyAlignment.BottomCenter=7]="BottomCenter",DummyAlignment[DummyAlignment.BottomRight=8]="BottomRight"}(DummyAlignment=exports.DummyAlignment||(exports.DummyAlignment={}))}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports]))&&(module.exports=__webpack_require__)},869:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__webpack_require__;void 0!==(__webpack_require__=function(require,exports){"use strict";var GameDistributionBannerSize;var GameDistributionAlignment;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameDistributionAlignment=exports.GameDistributionBannerSize=void 0,function(GameDistributionBannerSize){GameDistributionBannerSize[GameDistributionBannerSize.LargeRectangle=0]="LargeRectangle",GameDistributionBannerSize[GameDistributionBannerSize.MediumRectangle=1]="MediumRectangle",GameDistributionBannerSize[GameDistributionBannerSize.Billboard=2]="Billboard",GameDistributionBannerSize[GameDistributionBannerSize.Leaderboard=3]="Leaderboard",GameDistributionBannerSize[GameDistributionBannerSize.Skyscraper=4]="Skyscraper",GameDistributionBannerSize[GameDistributionBannerSize.WideSkyscraper=5]="WideSkyscraper"}(GameDistributionBannerSize=exports.GameDistributionBannerSize||(exports.GameDistributionBannerSize={})),function(GameDistributionAlignment){GameDistributionAlignment[GameDistributionAlignment.TopLeft=0]="TopLeft",GameDistributionAlignment[GameDistributionAlignment.TopCenter=1]="TopCenter",GameDistributionAlignment[GameDistributionAlignment.TopRight=2]="TopRight",GameDistributionAlignment[GameDistributionAlignment.CenterLeft=3]="CenterLeft",GameDistributionAlignment[GameDistributionAlignment.Center=4]="Center",GameDistributionAlignment[GameDistributionAlignment.CenterRight=5]="CenterRight",GameDistributionAlignment[GameDistributionAlignment.BottomLeft=6]="BottomLeft",GameDistributionAlignment[GameDistributionAlignment.BottomCenter=7]="BottomCenter",GameDistributionAlignment[GameDistributionAlignment.BottomRight=8]="BottomRight"}(GameDistributionAlignment=exports.GameDistributionAlignment||(exports.GameDistributionAlignment={}))}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports]))&&(module.exports=__webpack_require__)},498:(module,exports,__webpack_require__)=>{var __webpack_require__,exports;__webpack_require__=[__webpack_require__,exports,__webpack_require__(12),__webpack_require__(869)],void 0!==(exports=function(require,exports,shared_1,gamedistribution_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameDistributionAlignment=exports.GameDistributionBannerSize=exports.ProviderTypes=exports.AdType=exports.AdEvents=void 0,Object.defineProperty(exports,"AdEvents",{enumerable:!0,get:function(){return shared_1.AdEvents}}),Object.defineProperty(exports,"AdType",{enumerable:!0,get:function(){return shared_1.AdType}}),Object.defineProperty(exports,"ProviderTypes",{enumerable:!0,get:function(){return shared_1.ProviderTypes}}),Object.defineProperty(exports,"GameDistributionBannerSize",{enumerable:!0,get:function(){return gamedistribution_1.GameDistributionBannerSize}}),Object.defineProperty(exports,"GameDistributionAlignment",{enumerable:!0,get:function(){return gamedistribution_1.GameDistributionAlignment}})}.apply(exports,__webpack_require__))&&(module.exports=exports)},12:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__webpack_require__;void 0!==(__webpack_require__=function(require,exports){"use strict";var AdEvents;var AdType;var ProviderTypes;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProviderTypes=exports.AdType=exports.AdEvents=void 0,function(AdEvents){AdEvents.CONTENT_PAUSED="onContentPaused",AdEvents.CONTENT_RESUMED="onContentResumed",AdEvents.AD_PROGRESSION="onAdProgression",AdEvents.AD_DISABLED="onAdsDisabled",AdEvents.AD_CLICKED="onAdClicked",AdEvents.AD_REWARDED="onAdRewardGranted",AdEvents.BANNER_SHOWN="onBannerShown",AdEvents.BANNER_HIDDEN="onBannerHidden",AdEvents.AD_LOADED="onAdLoaded",AdEvents.AD_PROVIDER_LOADED="onAdProviderLoaded"}(AdEvents=exports.AdEvents||(exports.AdEvents={})),function(AdType){AdType[AdType.interstitial=0]="interstitial",AdType[AdType.rewarded=1]="rewarded",AdType[AdType.banner=2]="banner"}(AdType=exports.AdType||(exports.AdType={})),function(ProviderTypes){ProviderTypes.Yandex="yx",ProviderTypes.Dummy="dm",ProviderTypes.AdFree="af",ProviderTypes.GD="gd",ProviderTypes.GDBanner="gdb",ProviderTypes.Jio="jio"}(ProviderTypes=exports.ProviderTypes||(exports.ProviderTypes={}))}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports]))&&(module.exports=__webpack_require__)},548:function(module,exports,__webpack_require__){var __webpack_require__,exports;var __extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])}))(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});var extendStatics;var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};__webpack_require__=[__webpack_require__,exports,__webpack_require__(34),__webpack_require__(12),__webpack_require__(563),__webpack_require__(766)],void 0!==(exports=function(require,exports,eventemitter3_1,shared_1,standard_1,special_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdWrapper=void 0;var eventemitter3_1=function(_super){function AdWrapper(type,id){var _this=_super.call(this)||this;switch(_this.bannerActive=!1,_this.provider=null,type){case shared_1.ProviderTypes.AdFree:_this.provider=new standard_1.AdFreeUntrackedProvider;break;case shared_1.ProviderTypes.Dummy:_this.provider=new standard_1.DummyProvider;break;case shared_1.ProviderTypes.Yandex:_this.provider=new standard_1.YandexAdProvider;break;case shared_1.ProviderTypes.Jio:_this.provider=new special_1.JioAdProvider;break;default:case shared_1.ProviderTypes.GD:_this.provider=new standard_1.GameDistribution(id);break}return _this.provider.setManager(_this),_this}return __extends(AdWrapper,_super),AdWrapper.prototype.showAd=function(adType){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(null===this.provider)throw new Error("Can not request an ad without an provider, please attach an ad provider!");args.unshift(adType),this.provider.showAd.apply(this.provider,args)},AdWrapper.prototype.getBanner=function(){var args=[];for(var _i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(null===this.provider)throw new Error("Can not load a banner without an provider, please attach an ad provider!");return"function"==typeof this.provider.getBanner?this.provider.getBanner.apply(this.provider,args):null},AdWrapper.prototype.preloadAd=function(adType){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(null===this.provider)throw new Error("Can not preload an ad without an provider, please attach an ad provider!");args.unshift(adType),this.provider.preloadAd.apply(this.provider,args)},AdWrapper.prototype.destroyAd=function(adType){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(null===this.provider)throw new Error("Can not destroy an ad without an provider, please attach an ad provider!");args.unshift(adType),this.provider.destroyAd.apply(this.provider,args)},AdWrapper.prototype.hideAd=function(adType){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");args.unshift(adType),this.provider.hideAd.apply(this.provider,args)},AdWrapper.prototype.adsEnabled=function(){if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");return this.provider.adsEnabled},AdWrapper.prototype.adAvailable=function(adType){var args=[];for(var _i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");return args.unshift(adType),this.provider.adAvailable.apply(this.provider,args)},AdWrapper}((eventemitter3_1=__importDefault(eventemitter3_1)).default);exports.AdWrapper=eventemitter3_1}.apply(exports,__webpack_require__))&&(module.exports=exports)}};var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];var cachedModule;return void 0!==cachedModule||(cachedModule=__webpack_module_cache__[moduleId]={exports:{}},__webpack_modules__[moduleId].call(cachedModule.exports,cachedModule,cachedModule.exports,__webpack_require__)),cachedModule.exports}var __webpack_exports__=__webpack_require__(729);self.h5ads=__webpack_exports__})();